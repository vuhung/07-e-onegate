/* Copyright 2006-2009 Google Inc. All Rights Reserved. */var d=false,i=null,j=true;function k(a){throw a;}
var o,aa=aa||{},p=this,ca=function(a,b,c){var e=a.split("."),f=c||p,g;!(e[0]in f)&&f.execScript&&f.execScript("var "+e[0]);for(;e.length&&(g=e.shift());)if(!e.length&&ba(b))f[g]=b;else if(f[g])f=f[g];else{f[g]={};f=f[g]}},da=function(a,b){var c=a.split("."),e=b||p,f;for(;f=c.shift();)if(e[f])e=e[f];else return i;return e},ea=function(){},fa=function(a){a.wa=function(){return a.qU||(a.qU=new a)}},ga=function(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)==
"[object Array]")return"array";if(typeof a.call!="undefined")return"function"}else return"null";else if(b=="function"&&typeof a.call=="undefined")return"object";return b},ba=function(a){return typeof a!="undefined"};var ha=function(a){return ba(a)&&!(a===i)},ia=function(a){return ga(a)=="array"},ja=function(a){var b=ga(a);return b=="array"||b=="object"&&typeof a.length=="number"},ka=function(a){return typeof a=="string"};
var la=function(a){return typeof a=="number"},ma=function(a){return ga(a)=="function"},na=function(a){var b=ga(a);return b=="object"||b=="array"||b=="function"},qa=function(a){if(a.hasOwnProperty&&a.hasOwnProperty(oa)){var b=a[oa];if(b)return b}a[oa]||(a[oa]=++pa);return a[oa]},oa="closure_hashCode_",pa=0,ra=function(a){var b=ga(a);if(b=="object"||b=="array"){if(a.Ma)return a.Ma.call(a);var c=b=="array"?[]:{};for(var e in a)c[e]=ra(a[e]);return c}return a},r=function(a,b){var c=a.RM;if(arguments.length>
2){var e=Array.prototype.slice.call(arguments,2);c&&e.unshift.apply(e,c);c=e}b=a.TM||b;a=a.SM||a;var f,g=b||p;f=c?function(){var h=Array.prototype.slice.call(arguments);h.unshift.apply(h,c);return a.apply(g,h)}:function(){return a.apply(g,arguments)};f.RM=c;f.TM=b;f.SM=a;return f},sa=function(a){var b=Array.prototype.slice.call(arguments,1);b.unshift(a,i);return r.apply(i,b)},s=Date.now||function(){return(new Date).getTime()},ta=function(a,b,c){ca(a,b,c)},t=function(a,b){function c(){}c.prototype=
b.prototype;a.b=b.prototype;a.prototype=new c;a.prototype.constructor=a};Function.prototype.bind=function(a){if(arguments.length>1){var b=Array.prototype.slice.call(arguments,1);b.unshift(this,a);return r.apply(i,b)}else return r(this,a)};var ua=function(a,b,c){if(a.indexOf)return a.indexOf(b,c);if(Array.indexOf)return Array.indexOf(a,b,c);var e=c==i?0:c<0?Math.max(0,a.length+c):c;for(;e<a.length;e++)if(e in a&&a[e]===b)return e;return-1},v=function(a,b,c){if(a.forEach)a.forEach(b,c);else if(Array.forEach)Array.forEach(a,b,c);else{var e=a.length,f=ka(a)?a.split(""):a,g=0;for(;g<e;g++)g in f&&b.call(c,f[g],g,a)}},va=function(a,b,c){var e=a.length,f=ka(a)?a.split(""):a,g=e-1;for(;g>=0;--g)g in f&&b.call(c,f[g],g,a)},wa=function(a,b,
c){if(a.filter)return a.filter(b,c);if(Array.filter)return Array.filter(a,b,c);var e=a.length,f=[],g=0,h=ka(a)?a.split(""):a,l=0;for(;l<e;l++)if(l in h){var m=h[l];if(b.call(c,m,l,a))f[g++]=m}return f},xa=function(a,b,c){if(a.map)return a.map(b,c);if(Array.map)return Array.map(a,b,c);var e=a.length,f=[],g=0,h=ka(a)?a.split(""):a,l=0;for(;l<e;l++)if(l in h)f[g++]=b.call(c,h[l],l,a);return f},ya=function(a,b,c,e){if(a.reduce)return e?a.reduce(r(b,e),c):a.reduce(b,c);var f=c;v(a,function(g,h){f=b.call(e,
f,g,h,a)});return f},za=function(a,b,c){if(a.some)return a.some(b,c);if(Array.some)return Array.some(a,b,c);var e=a.length,f=ka(a)?a.split(""):a,g=0;for(;g<e;g++)if(g in f&&b.call(c,f[g],g,a))return j;return d},Aa=function(a,b,c){if(a.every)return a.every(b,c);if(Array.every)return Array.every(a,b,c);var e=a.length,f=ka(a)?a.split(""):a,g=0;for(;g<e;g++)if(g in f&&!b.call(c,f[g],g,a))return d;return j},Ca=function(a,b,c){var e=Ba(a,b,c);return e<0?i:ka(a)?a.charAt(e):a[e]},Ba=function(a,b,c){var e=
a.length,f=ka(a)?a.split(""):a,g=0;for(;g<e;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1},Da=function(a,b){if(a.contains)return a.contains(b);return ua(a,b)>-1};
var Ea=function(a){if(!ia(a)){var b=a.length-1;for(;b>=0;b--)delete a[b]}a.length=0},Fa=function(a,b){Da(a,b)||a.push(b)},Ha=function(a,b,c){Ga(a,c,0,b)},Ka=function(a,b){var c=ua(a,b),e;if(e=c!=-1)Ja(a,c);return e},Ja=function(a,b){return Array.prototype.splice.call(a,b,1).length==1},La=function(a){if(ia(a))return a.concat();else{var b=[],c=0,e=a.length;for(;c<e;c++)b[c]=a[c];return b}},Ma=function(a){if(ia(a))return a.concat();return La(a)},Na=function(a){var b=1;for(;b<arguments.length;b++){var c=
arguments[b];if(ja(c)){c=Ma(c);a.push.apply(a,c)}else a.push(c)}},Ga=function(a){return Array.prototype.splice.apply(a,Oa(arguments,1))},Oa=function(a,b,c){return arguments.length<=2?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Qa=function(a,b,c){var e=0,f=a.length-1,g=c||Pa;for(;e<=f;){var h=e+f>>1,l=g(b,a[h]);if(l>0)e=h+1;else if(l<0)f=h-1;else return h}return-(e+1)},Pa=function(a,b){return a>b?1:a<b?-1:0},Ra=function(a,b,c){var e=Qa(a,b,c);if(e<0){Ha(a,b,-(e+1));return j}return d},
Sa=function(a,b,c){var e=Qa(a,b,c);return e>=0?Ja(a,e):d};var w=function(a,b){this.x=ba(a)?a:0;this.y=ba(b)?b:0};w.prototype.Ma=function(){return new w(this.x,this.y)};var Ta=function(a,b){var c=a.x-b.x,e=a.y-b.y;return Math.sqrt(c*c+e*e)};var y=function(a,b){this.width=a;this.height=b},Ua=function(a,b){if(a==b)return j;if(!a||!b)return d;return a.width==b.width&&a.height==b.height};o=y.prototype;o.Ma=function(){return new y(this.width,this.height)};o.DM=function(){return this.width*this.height};o.yB=function(){return this.width/this.height};o.isEmpty=function(){return!this.DM()};o.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
o.ck=function(a){return this.width<=a.width&&this.height<=a.height};o.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};o.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};o.scale=function(a){this.width*=a;this.height*=a;return this};o.Cy=function(a){return this.scale(this.yB()>a.yB()?a.width/this.width:a.height/this.height)};var Va=function(a,b,c){for(var e in a)b.call(c,a[e],e,a)},Wa=function(a){var b=[],c=0;for(var e in a)b[c++]=a[e];return b},Xa=function(a){var b=[],c=0;for(var e in a)b[c++]=e;return b};
var Ya=function(a){for(var b in a)return d;return j},$a=function(a){var b=Xa(a),c=b.length-1;for(;c>=0;c--)Za(a,b[c])},Za=function(a,b){var c;if(c=b in a)delete a[b];return c},bb=function(a,b,c){if(b in a)k(Error('The object already contains the key "'+b+'"'));ab(a,b,c)},A=function(a,b,c){if(b in a)return a[b];return c},ab=function(a,b,c){a[b]=c},cb=function(a){var b={};for(var c in a)b[c]=a[c];return b},db=function(a){var b={},c=Xa(a),e=0,f=c.length;for(;e<f;e++){var g=c[e];b[a[g]]=g}return b},eb=
["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fb=function(a){var b,c,e=1;for(;e<arguments.length;e++){c=arguments[e];for(b in c)a[b]=c[b];var f=0;for(;f<eb.length;f++){b=eb[f];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}},gb=function(){var a=arguments.length;if(a==1&&ia(arguments[0]))return gb.apply(i,arguments[0]);if(a%2)k(Error("Uneven number of arguments"));var b={},c=0;for(;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};var hb=function(a,b){return a.indexOf(b)==0},ib=function(a,b){var c=a.length-b.length;return c>=0&&a.lastIndexOf(b,c)==c},jb=function(a){var b=1;for(;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a},kb=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},lb=function(a){return/^[\s\xa0]*$/.test(a)},mb=function(a){return lb(a==i?"":String(a))};var nb=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};
var ob=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
var pb=/(\.\d+)|(\d+)|(\D+)/g,qb=function(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;var c=a.toLowerCase().match(pb),e=b.toLowerCase().match(pb),f=Math.min(c.length,e.length),g=0;for(;g<f;g++){var h=c[g],l=e[g];if(h!=l){var m=parseInt(h,10);if(!isNaN(m)){var n=parseInt(l,10);if(!isNaN(n)&&m-n)return m-n}return h<l?-1:1}}if(c.length!=e.length)return c.length-e.length;return a<b?-1:1},rb=/^[a-zA-Z0-9\-_.!~*'()]*$/,B=function(a){a=String(a);if(!rb.test(a))return encodeURIComponent(a);return a},
sb=function(a){return decodeURIComponent(a.replace(/\+/g," "))},C=function(a,b){if(b)return a.replace(tb,"&amp;").replace(ub,"&lt;").replace(vb,"&gt;").replace(wb,"&quot;");else{if(!xb.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(tb,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(ub,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(vb,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(wb,"&quot;");return a}},tb=/&/g,ub=/</g,vb=/>/g,wb=/\"/g,xb=/[&<>\"]/,Bb=function(a){if(yb(a,"&"))return"document"in p&&!yb(a,"<")?
zb(a):Ab(a);return a},zb=function(a){var b=p.document.createElement("a");b.innerHTML=a;b.normalize&&b.normalize();a=b.firstChild.nodeValue;b.innerHTML="";return a},Ab=function(a){return a.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if(c.charAt(0)=="#"){var e=Number("0"+c.substr(1));if(!isNaN(e))return String.fromCharCode(e)}return b}})},Cb=function(a,b){var c=b.length,e=0;for(;e<c;e++){var f=c==1?b:b.charAt(e);
if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a},Db=function(a,b,c){if(c)a=Bb(a);if(a.length>b)a=a.substring(0,b-3)+"...";if(c)a=C(a);return a},yb=function(a,b){return a.indexOf(b)!=-1},Eb=function(a,b){return(new Array(b+1)).join(a)},Fb=function(a,b,c){var e=ba(c)?a.toFixed(c):String(a),f=e.indexOf(".");if(f==-1)f=e.length;return Eb("0",Math.max(0,b-f))+e};
var Hb=function(a,b){var c=0,e=ob(String(a)).split("."),f=ob(String(b)).split("."),g=Math.max(e.length,f.length),h=0;for(;c==0&&h<g;h++){var l=e[h]||"",m=f[h]||"",n=new RegExp("(\\d*)(\\D*)","g"),q=new RegExp("(\\d*)(\\D*)","g");do{var u=n.exec(l)||["","",""],x=q.exec(m)||["","",""];if(u[0].length==0&&x[0].length==0)break;var z=u[1].length==0?0:parseInt(u[1],10),G=x[1].length==0?0:parseInt(x[1],10);c=Gb(z,G)||Gb(u[2].length==0,x[2].length==0)||Gb(u[2],x[2])}while(c==0)}return c},Gb=function(a,b){if(a<
b)return-1;else if(a>b)return 1;return 0};var Ib,Jb,Kb,Lb,Mb,Nb,Pb,Qb,Rb,Sb=function(){return p.navigator?p.navigator.userAgent:i};(function(){Nb=Mb=Lb=Kb=Jb=Ib=d;var a;if(a=Sb()){var b=p.navigator;Ib=a.indexOf("Opera")==0;Jb=!Ib&&a.indexOf("MSIE")!=-1;Lb=(Kb=!Ib&&a.indexOf("WebKit")!=-1)&&a.indexOf("Mobile")!=-1;Nb=(Mb=!Ib&&!Kb&&b.product=="Gecko")&&b.vendor=="Camino"}})();var Tb=Ib,D=Jb,E=Mb,Ub=Nb,Vb=Kb,Wb=Lb,Xb=(function(){var a=p.navigator;return a&&a.platform||""})();(function(){Pb=yb(Xb,"Mac");Qb=yb(Xb,"Win");Rb=yb(Xb,"Linux")})();
var Yb=Pb,Zb=Qb,$b=(function(){var a="",b;if(Tb&&p.opera){var c=p.opera.version;a=typeof c=="function"?c():c}else{if(E)b=/rv\:([^\);]+)(\)|;)/;else if(D)b=/MSIE\s+([^\);]+)(\)|;)/;else if(Vb)b=/WebKit\/(\S+)/;if(b){var e=b.exec(Sb());a=e?e[1]:""}}return a})();var ac=function(a){return Hb($b,a)>=0};var bc,F=function(a,b){a.className=b},cc=function(a){var b=a.className;return b&&typeof b.split=="function"?b.split(" "):[]},dc=function(a){var b=cc(a),c=1,e=1;for(;e<arguments.length;e++)if(Da(b,arguments[e]))c&=0;else{b.push(arguments[e]);c&=1}a.className=b.join(" ");return Boolean(c)},ec=function(a){var b=cc(a),c=Oa(arguments,1),e=0,f=0;for(;f<b.length;f++)if(Da(c,b[f])){Ga(b,f--,1);e++}a.className=b.join(" ");return e==c.length};
var fc=function(a,b,c){c?dc(a,b):ec(a,b)},gc=function(a,b){var c=!Da(cc(a),b);fc(a,b,c);return c};var ic=function(){return bc||(bc=new hc)},kc=function(a){return a?new hc(jc(a)):ic()};
var H=function(a){return ka(a)?document.getElementById(a):a},lc=function(a,b,c){return ic().AQ(a,b,c)},mc=lc,oc=function(a,b){Va(b,function(c,e){if(e=="style")a.style.cssText=c;else if(e=="class")a.className=c;else if(e=="for")a.htmlFor=c;else if(e in nc)a.setAttribute(nc[e],c);else a[e]=c})},nc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"},pc=function(a){var b=
a||p||window,c=b.document;if(Vb&&!ac("500")&&!Wb){if(typeof b.innerHeight=="undefined")b=window;var e=b.innerHeight,f=b.document.documentElement.scrollHeight;if(b==b.top)if(f<e)e-=15;return new y(b.innerWidth,e)}var g=kc(c).Vq()&&(!Tb||Tb&&ac("9.50"))?c.documentElement:c.body;return new y(g.clientWidth,g.clientHeight)},qc=function(a){return kc((a||p||window).document).yi()},rc=function(a){return kc(a).sE()},I=function(){var a=ic();return a.r.apply(a,arguments)},J=function(a){return document.createElement(a)};
var K=function(a,b){a.appendChild(b)},sc=function(a){var b;for(;b=a.firstChild;)a.removeChild(b)},tc=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},L=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):i},uc=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)},wc=function(a){return vc(a.firstChild,j)},xc=function(a){return vc(a.nextSibling,j)};var vc=function(a,b){for(;a&&a.nodeType!=1;)a=b?a.nextSibling:a.previousSibling;return a};
var yc=Vb&&Hb($b,"521")<=0,zc=function(a,b){if(typeof a.contains!="undefined"&&!yc&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},jc=function(a){return a.nodeType==9?a:a.ownerDocument||a.document},Ac=function(a){var b;return b=Vb?a.document||a.contentWindow.document:a.contentDocument||a.contentWindow.document},N=function(a,b){if("textContent"in a)a.textContent=
b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{sc(a);var c=jc(a);a.appendChild(c.createTextNode(b))}},Cc=function(a,b){var c=[];Bc(a,b,c,j);return c.length?c[0]:undefined},Bc=function(a,b,c,e){if(a!=i){var f=0,g;for(;g=a.childNodes[f];f++){if(b(g)){c.push(g);if(e)return}Bc(g,b,c,e)}}},Dc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ec={IMG:" ",BR:"\n"},Fc=function(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){var c=
a.tabIndex;return la(c)&&c>=0}return d},Gc=function(a,b){if(b)a.tabIndex=0;else a.removeAttribute("tabIndex")},Ic=function(a){var b;if(D&&"innerText"in a)b=nb(a.innerText);else{var c=[];Hc(a,c,j);b=c.join("")}b=b.replace(/\xAD/g,"");b=b.replace(/ +/g," ");if(b!=" ")b=b.replace(/^\s*/,"");return b},Jc=function(a){var b=[];Hc(a,b,d);return b.join("")},Hc=function(a,b,c){if(!(a.nodeName in Dc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in
Ec)b.push(Ec[a.nodeName]);else{var e=a.firstChild;for(;e;){Hc(e,b,c);e=e.nextSibling}}},Kc=function(a){if(a&&typeof a.length=="number")if(na(a))return typeof a.item=="function"||typeof a.item=="string";else if(ma(a))return typeof a.item=="function";return d},hc=function(a){this.za=a||p.document||document};o=hc.prototype;o.f=function(a){return ka(a)?this.za.getElementById(a):a};
o.AQ=function(a,b,c){var e=c||this.za,f=a&&a!="*"?a.toLowerCase():"";if(e.querySelectorAll&&(f||b)&&(!Vb||this.Vq()||ac("528"))){var g=e.querySelectorAll(f+(b?"."+b:""));return D&&ac("8")?Ma(g):g}if(b&&e.getElementsByClassName){var h=e.getElementsByClassName(b);if(f){var l=[],m=0,n;for(;n=h[m];m++)f==n.nodeName.toLowerCase()&&l.push(n);return l}else return h}var h=e.getElementsByTagName(f||"*");if(b){var l=[],m=0,n;for(;n=h[m];m++){var q=n.className;typeof q.split=="function"&&Da(q.split(" "),b)&&
l.push(n)}return l}else return h};o.xR=function(a){return pc(a||this.sE())};
o.r=function(a,b){if(D&&b&&(b.name||b.type)){var c=["<",a];b.name&&c.push(' name="',C(b.name),'"');if(b.type){c.push(' type="',C(b.type),'"');b=ra(b);delete b.type}c.push(">");a=c.join("")}var e=this.createElement(a);b&&oc(e,b);if(arguments.length>2){function f(l){if(l)this.appendChild(e,ka(l)?this.createTextNode(l):l)}var g=2;for(;g<arguments.length;g++){var h=arguments[g];ja(h)&&!(na(h)&&h.nodeType>0)?v(Kc(h)?La(h):h,f,this):f.call(this,h)}}return e};o.createElement=function(a){return this.za.createElement(a)};
o.createTextNode=function(a){return this.za.createTextNode(a)};o.OT=function(a){var b=this.za.createElement("div");b.innerHTML=a;if(b.childNodes.length==1)return b.firstChild;else{var c=this.za.createDocumentFragment();for(;b.firstChild;)c.appendChild(b.firstChild);return c}};
o.Vq=function(){var a=this.za;if(a.compatMode)return a.compatMode=="CSS1Compat";if(Vb){var b=a.createElement("div");b.style.cssText="position:absolute;width:0;height:0;width:1";return(a.compatMode=b.style.width=="1px"?"BackCompat":"CSS1Compat")=="CSS1Compat"}return d};o.sE=function(){var a=this.za;if(a.parentWindow)return a.parentWindow;if(Vb&&!ac("500")&&!Wb){var b=a.createElement("script");b.innerHTML="document.parentWindow=window";var c=a.documentElement;c.appendChild(b);c.removeChild(b);return a.parentWindow}return a.defaultView};
o.OD=function(){var a=this.za;return!Vb&&this.Vq()?a.documentElement:a.body};o.yi=function(){var a=this.OD();return new w(a.scrollLeft,a.scrollTop)};o.appendChild=K;o.hj=sc;o.removeNode=L;o.hk=wc;o.XQ=xc;o.contains=zc;var Lc=function(){this.KH=s()};Lc.prototype.Z=function(a){this.KH=a};Lc.prototype.reset=function(){this.Z(s())};Lc.prototype.get=function(){return this.KH};if("StopIteration"in p)var Mc=p.StopIteration;else Mc=Error("StopIteration");var Nc=function(){};Nc.prototype.next=function(){k(Mc)};Nc.prototype.Ul=function(){return this};var Oc=function(a){if(typeof a.Uc=="function")return a.Uc();if(ka(a))return a.split("");if(ja(a)){var b=[],c=a.length,e=0;for(;e<c;e++)b.push(a[e]);return b}return Wa(a)},Pc=function(a){if(typeof a.kg=="function")return a.kg();if(typeof a.Uc=="function")return undefined;if(ja(a)||ka(a)){var b=[],c=a.length,e=0;for(;e<c;e++)b.push(e);return b}return Xa(a)},Qc=function(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ja(a)||ka(a))v(a,b,c);else{var e=Pc(a),f=Oc(a),g=f.length,h=0;for(;h<
g;h++)b.call(c,f[h],e&&e[h],a)}};var Rc=function(a){this.I={};this.Ia=[];var b=arguments.length;if(b>1){if(b%2)k(Error("Uneven number of arguments"));var c=0;for(;c<b;c+=2)this.Z(arguments[c],arguments[c+1])}else a&&this.It(a)};o=Rc.prototype;o.Ja=0;o.To=0;o.ja=function(){return this.Ja};o.Uc=function(){this.wp();var a=[],b=0;for(;b<this.Ia.length;b++)a.push(this.I[this.Ia[b]]);return a};o.kg=function(){this.wp();return this.Ia.concat()};o.Bc=function(a){return Sc(this.I,a)};
o.zp=function(a){var b=0;for(;b<this.Ia.length;b++){var c=this.Ia[b];if(Sc(this.I,c)&&this.I[c]==a)return j}return d};o.isEmpty=function(){return this.Ja==0};o.clear=function(){this.I={};this.To=this.Ja=this.Ia.length=0};o.remove=function(a){if(Sc(this.I,a)){delete this.I[a];this.Ja--;this.To++;this.Ia.length>2*this.Ja&&this.wp();return j}return d};
o.wp=function(){if(this.Ja!=this.Ia.length){var a=0,b=0;for(;a<this.Ia.length;){var c=this.Ia[a];if(Sc(this.I,c))this.Ia[b++]=c;a++}this.Ia.length=b}if(this.Ja!=this.Ia.length){var e={},a=0,b=0;for(;a<this.Ia.length;){var c=this.Ia[a];if(!Sc(e,c)){this.Ia[b++]=c;e[c]=1}a++}this.Ia.length=b}};o.get=function(a,b){if(Sc(this.I,a))return this.I[a];return b};o.Z=function(a,b){if(!Sc(this.I,a)){this.Ja++;this.Ia.push(a);this.To++}this.I[a]=b};
o.It=function(a){var b,c;if(a instanceof Rc){b=a.kg();c=a.Uc()}else{b=Xa(a);c=Wa(a)}var e=0;for(;e<b.length;e++)this.Z(b[e],c[e])};o.Ma=function(){return new Rc(this)};o.Ul=function(a){this.wp();var b=0,c=this.Ia,e=this.I,f=this.To,g=this,h=new Nc;h.next=function(){for(;j;){if(f!=g.To)k(Error("The map has changed since the iterator was created"));if(b>=c.length)k(Mc);var l=c[b++];return a?l:e[l]}};return h};
if(Object.prototype.hasOwnProperty)var Sc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};else Sc=function(a,b){return b in a&&a[b]!==Object.prototype[b]};var Tc=function(a,b){if(typeof a.Bc=="function")return a.Bc(b);if(ja(a))return Number(b)<a.length;return b in a},Uc=function(a,b,c){if(typeof a.get=="function")return a.get(b,c);if(Tc(a,b))return a[b];return c};var Vc=function(a){this.I=new Rc;a&&this.It(a)},Wc=function(a){var b=typeof a;return b=="object"?"o"+qa(a):b.substr(0,1)+a};o=Vc.prototype;o.ja=function(){return this.I.ja()};o.add=function(a){this.I.Z(Wc(a),a)};o.It=function(a){var b=Oc(a),c=b.length,e=0;for(;e<c;e++)this.add(b[e])};o.Y=function(a){var b=Oc(a),c=b.length,e=0;for(;e<c;e++)this.remove(b[e])};o.remove=function(a){return this.I.remove(Wc(a))};o.clear=function(){this.I.clear()};o.isEmpty=function(){return this.I.isEmpty()};
o.contains=function(a){return this.I.Bc(Wc(a))};o.Uc=function(){return this.I.Uc()};o.Ma=function(){return new Vc(this)};o.Ul=function(){return this.I.Ul(d)};var Zc=function(a,b){try{var c=Xc(a);return"Message: "+C(c.message)+'\nUrl: <a href="view-source:'+c.qv+'" target="_new">'+c.qv+"</a>\nLine: "+c.lineNumber+"\n\nBrowser stack:\n"+C(c.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+C(Yc(b)+"-> ")}catch(e){return"Exception trying to expose exception! You win, we lose. "+e}},Xc=function(a){var b=da("window.location.href");return typeof a=="string"?{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"}:!a.lineNumber||
!a.qv||!a.stack?{message:a.message,name:a.name,lineNumber:a.lineNumber||a.z2||"Not available",fileName:a.qv||a.filename||a.sourceURL||b,stack:a.stack||"Not available"}:a},Yc=function(a){return $c(a||arguments.callee.caller,[])},$c=function(a,b){var c=[];if(Da(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(ad(a)+"(");var e=a.arguments,f=0;for(;f<e.length;f++){f>0&&c.push(", ");var g,h=e[f];switch(typeof h){case "object":g=h?"object":"null";break;case "string":g=h;break;case "number":g=
String(h);break;case "boolean":g=h?"true":"false";break;case "function":g=(g=ad(h))?g:"[fn]";break;case "undefined":default:g=typeof h;break}if(g.length>40)g=g.substr(0,40)+"...";c.push(g)}b.push(a);c.push(")\n");try{c.push($c(a.caller,b))}catch(l){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},ad=function(a){var b=String(a);if(!bd[b]){var c=/function ([^\(]+)/.exec(b);bd[b]=c?c[1]:"[Anonymous]"}return bd[b]},bd={};var dd=function(a,b,c,e,f){this.Z2=typeof f=="number"?f:cd++;this.Rs=e||s();this.Ik=a;this.H2=b;this.B2=c};dd.prototype.tP=i;dd.prototype.sP=i;var cd=0;dd.prototype.eZ=function(a){this.tP=a};dd.prototype.fZ=function(a){this.sP=a};dd.prototype.Yy=function(a){this.Ik=a};var ed=function(a){this.Yc=a;this.V=i;this.ha={};this.HE=[]};ed.prototype.Ik=i;var fd=function(a,b){this.name=a;this.value=b};fd.prototype.toString=function(){return this.name};new fd("OFF",Infinity);new fd("SHOUT",1200);new fd("SEVERE",1000);var gd=new fd("WARNING",900);new fd("INFO",800);var hd=new fd("CONFIG",700),id=new fd("FINE",500),kd=new fd("FINER",400),ld=new fd("FINEST",300);new fd("ALL",0);var nd=function(a){return md(a)};o=ed.prototype;o.getName=function(){return this.Yc};
o.Yy=function(a){this.Ik=a};o.Nw=function(a){if(this.Ik)return a.value>=this.Ik.value;if(this.V)return this.V.Nw(a);return d};o.log=function(a,b,c){this.Nw(a)&&this.eV(this.SQ(a,b,c))};o.SQ=function(a,b,c){var e=new dd(a,String(b),this.Yc);if(c){e.eZ(c);e.fZ(Zc(c,arguments.callee.caller))}return e};o.k1=function(a,b){this.log(gd,a,b)};o.U=function(a,b){this.log(id,a,b)};o.yD=function(a,b){this.log(kd,a,b)};o.rv=function(a,b){this.log(ld,a,b)};
o.eV=function(a){if(this.Nw(a.Ik)){var b=this;for(;b;){b.$M(a);b=b.V}}};o.$M=function(a){var b=0;for(;b<this.HE.length;b++)this.HE[b](a)};o.TZ=function(a){this.V=a};o.JL=function(a,b){this.ha[a]=b};var od={},pd=i,qd=function(){if(!pd){pd=new ed("");od[""]=pd;pd.Yy(hd)}},md=function(a){qd();return a in od?od[a]:rd(a)},rd=function(a){var b=new ed(a),c=a.split("."),e=c[c.length-1];c.length=c.length-1;var f=c.join("."),g=md(f);g.JL(e,b);b.TZ(g);return od[a]=b};(function(){qd();return pd})().Yy(id);var sd=function(){};var td="embedwebsite",ud="public",vd="private",wd="protected";var xd="The server may be a little bit broken temporarily. Please try again in a few moments while it sorts itself out.",yd="Add a comment",zd="Your comment seems to be a bit long. Please, do try to be more efficient with your words.",Ad="Please enter a comment first.",Bd="Are you sure you want to delete this comment?",Cd="Are you sure you want to flag this content for review?",Dd="You must select one of the provided categories.",Ed="There was an error communicating with the server. Please check your connection and try again.",
Fd="Unlisted",Gd="Public",Hd="Cancel";var Id=function(){};o=Id.prototype;o.Wu=d;o.Zq=function(){return this.Wu};o.pb=Id.prototype.Zq;o.o=function(){if(!this.Wu){this.Wu=j;this.C()}};o.C=function(){};var Jd=function(a,b){Id.call(this);this.vf=b;this.kc=[];this.WN(a)};t(Jd,Id);o=Jd.prototype;o.Du=i;o.Vu=i;o.qo=function(a){this.Du=a};o.BI=function(a){this.Vu=a};o.od=function(){if(this.kc.length)return this.kc.pop();return this.Qj()};o.Me=function(a){this.kc.length<this.vf?this.kc.push(a):this.Vg(a)};o.WN=function(a){if(a>this.vf)k(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));var b=0;for(;b<a;b++)this.kc.push(this.Qj())};o.Qj=function(){return this.Du?this.Du():{}};
o.Vg=function(a){if(this.Vu)this.Vu(a);else if(ma(a.o))a.o();else for(var b in a)delete a[b]};o.C=function(){Jd.b.C.call(this);var a=this.kc;for(;a.length;)this.Vg(a.pop());delete this.kc};var O=function(a,b){this.type=a;this.currentTarget=this.target=b};t(O,Id);o=O.prototype;o.C=function(){delete this.type;delete this.target;delete this.currentTarget};o.Hh=d;o.il=j;o.stopPropagation=function(){this.Hh=j};o.preventDefault=function(){this.il=d};var Kd=function(a,b){a&&this.vk(a,b)};t(Kd,O);var Ld=[1,4,2];o=Kd.prototype;o.type=i;o.target=i;o.relatedTarget=i;o.offsetX=0;o.offsetY=0;o.clientX=0;o.clientY=0;o.screenX=0;o.screenY=0;o.button=0;o.keyCode=0;o.charCode=0;o.ctrlKey=d;o.altKey=d;o.shiftKey=d;o.metaKey=d;o.Dc=i;
o.vk=function(a,b){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;this.relatedTarget=a.relatedTarget?a.relatedTarget:this.type==Md?a.fromElement:this.type==Nd?a.toElement:i;this.offsetX=typeof a.layerX=="number"?a.layerX:a.offsetX;this.offsetY=typeof a.layerY=="number"?a.layerY:a.offsetY;this.clientX=typeof a.clientX=="number"?a.clientX:a.pageX;this.clientY=typeof a.clientY=="number"?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;
this.keyCode=a.keyCode||0;this.charCode=a.charCode||(this.type==Od?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Dc=a;delete this.il;delete this.Hh};o.Tq=function(a){return D?this.type==P?a==0:!!(this.Dc.button&Ld[a]):Vb&&!ac("420")?this.Dc.button==1&&a==0:this.Dc.button==a};o.stopPropagation=function(){this.Hh=j;if(this.Dc.stopPropagation)this.Dc.stopPropagation();else this.Dc.cancelBubble=j};
o.preventDefault=function(){this.il=d;if(this.Dc.preventDefault)this.Dc.preventDefault();else{this.Dc.returnValue=d;try{this.Dc.keyCode=-1}catch(a){}}};o.C=function(){Kd.b.C.call(this);this.Dc=i};var Pd=function(){},Qd=0;o=Pd.prototype;o.Mw=i;o.Si=i;o.AH=i;o.src=i;o.type=i;o.capture=i;o.Qm=i;o.Da=0;o.el=d;o.cu=d;o.vk=function(a,b,c,e,f,g){if(ma(a))this.Mw=j;else if(a&&a.handleEvent&&ma(a.handleEvent))this.Mw=d;else k(Error("Invalid listener argument"));this.Si=a;this.AH=b;this.src=c;this.type=e;this.capture=!!f;this.Qm=g;this.cu=d;this.Da=++Qd;this.el=d};o.handleEvent=function(a){if(this.Mw)return this.Si.call(this.Qm||this.src,a);return this.Si.handleEvent.call(this.Si,a)};var Rd={},Sd={},Td={},Ud=new Jd(0,600);Ud.qo(function(){return{Ja:0}});Ud.BI(function(a){a.Ja=0});var Vd=new Jd(0,600);Vd.qo(function(){return[]});Vd.BI(function(a){a.length=0;delete a.ln;delete a.Gx});var Wd=new Jd(0,600);Wd.qo(function(){var a=function(b){return Xd.call(a.src,a.Da,b)};return a});var Yd=function(){return new Pd},Zd=new Jd(0,600);Zd.qo(Yd);
var $d=function(){return new Kd},ae=(function(){var a=i;if(D){a=new Jd(0,600);a.qo($d)}return a})(),be={},Q=function(a,b,c,e,f){if(b)if(ia(b)){var g=0;for(;g<b.length;g++)Q(a,b[g],c,e,f);return i}else{var h=!!e,l=Sd;b in l||(l[b]=Ud.od());l=l[b];if(!(h in l)){l[h]=Ud.od();l.Ja++}l=l[h];var m=qa(a),n,q;if(l[m]){n=l[m];var g=0;for(;g<n.length;g++){q=n[g];if(q.Si==c&&q.Qm==f){if(q.el)break;return n[g].Da}}}else{l[m]=Vd.od();n=l[m];l.Ja++}var u=Wd.od();u.src=a;q=Zd.od();q.vk(c,u,a,b,h,f);var x=q.Da;u.Da=
x;n.push(q);Rd[x]=q;Td[m]||(Td[m]=Vd.od());Td[m].push(q);if(a.addEventListener){if(a==p||!a.DC)a.addEventListener(b,u,h)}else a.attachEvent(ce(b),u);return x}else k(Error("Invalid event type"))},de=function(a,b,c,e,f){if(ia(b)){var g=0;for(;g<b.length;g++)de(a,b[g],c,e,f);return i}var h=Q(a,b,c,e,f);Rd[h].cu=j;return h},ee=function(a,b,c,e,f){if(ia(b)){var g=0;for(;g<b.length;g++)ee(a,b[g],c,e,f);return i}var h=!!e,l=fe(a,b,h);if(!l)return d;var g=0;for(;g<l.length;g++)if(l[g].Si==c&&l[g].capture==
h&&l[g].Qm==f)return ge(l[g].Da);return d},ge=function(a){if(!Rd[a])return d;var b=Rd[a];if(b.el)return d;var c=b.src,e=b.type,f=b.AH,g=b.capture;if(c.removeEventListener){if(c==p||!c.DC)c.removeEventListener(e,f,g)}else c.detachEvent&&c.detachEvent(ce(e),f);var h=qa(c),l=Sd[e][g][h];if(Td[h]){var m=Td[h];Ka(m,b);m.length==0&&delete Td[h]}b.el=j;l.Gx=j;he(e,g,h,l);delete Rd[a];return j},he=function(a,b,c,e){if(!e.ln)if(e.Gx){var f=0,g=0;for(;f<e.length;f++)if(e[f].el)Zd.Me(e[f]);else{if(f!=g)e[g]=
e[f];g++}e.length=g;e.Gx=d;if(g==0){Vd.Me(e);delete Sd[a][b][c];Sd[a][b].Ja--;if(Sd[a][b].Ja==0){Ud.Me(Sd[a][b]);delete Sd[a][b];Sd[a].Ja--}if(Sd[a].Ja==0){Ud.Me(Sd[a]);delete Sd[a]}}}},ie=function(a,b,c){var e=0,f=a==i,g=b==i,h=c==i;c=!!c;if(f)Va(Td,function(u){var x=u.length-1;for(;x>=0;x--){var z=u[x];if((g||b==z.type)&&(h||c==z.capture)){ge(z.Da);e++}}});else{var l=qa(a);if(Td[l]){var m=Td[l],n=m.length-1;for(;n>=0;n--){var q=m[n];if((g||b==q.type)&&(h||c==q.capture)){ge(q.Da);e++}}}}return e},
fe=function(a,b,c){var e=Sd;if(b in e){e=e[b];if(c in e){e=e[c];var f=qa(a);if(e[f])return e[f]}}return i},je=function(a,b,c,e,f){var g=!!e,h=fe(a,b,g);if(h){var l=0;for(;l<h.length;l++)if(h[l].Si==c&&h[l].capture==g&&h[l].Qm==f)return h[l]}return i},P="click",R="mousedown",ke="mouseup",Md="mouseover",Nd="mouseout",le="mousemove",Od="keypress",me="keydown",ne="keyup",oe="blur",pe="focus",qe="load",re="resize",ce=function(a){if(a in be)return be[a];return be[a]="on"+a},te=function(a,b,c,e){var f=1,
g=Sd;if(b in g){g=g[b];if(c in g){g=g[c];var h=qa(a);if(g[h]){var l=g[h];if(l.ln)l.ln++;else l.ln=1;try{var m=l.length,n=0;for(;n<m;n++){var q=l[n];if(q&&!q.el)f&=se(q,e)!==d}}finally{l.ln--;he(b,c,h,l)}}}}return Boolean(f)},se=function(a,b){var c=a.handleEvent(b);a.cu&&ge(a.Da);return c},ue=function(a,b){if(ka(b))b=new O(b,a);else if(b instanceof O)b.target=b.target||a;else{var c=b;b=new O(b.type,a);fb(b,c)}var e=1,f,g=b.type,h=Sd;if(!(g in h))return j;h=h[g];var l=j in h,m=d in h;if(l){f=[];var n=
a;for(;n;n=n.Jv())f.push(n);var q=f.length-1;for(;!b.Hh&&q>=0;q--){b.currentTarget=f[q];e&=te(f[q],b.type,j,b)&&b.il!=d}}if(m)if(l){var q=0;for(;!b.Hh&&q<f.length;q++){b.currentTarget=f[q];e&=te(f[q],b.type,d,b)&&b.il!=d}}else{var u=a;for(;!b.Hh&&u;u=u.Jv()){b.currentTarget=u;e&=te(u,b.type,d,b)&&b.il!=d}}return Boolean(e)},Xd=function(a,b){if(!Rd[a])return j;var c=Rd[a],e=c.type,f=Sd;if(!(e in f))return j;f=f[e];var g;if(D){var h=b||da("window.event"),l=j in f;if(l){if(h.keyCode<0||h.returnValue!=
undefined)return j;ve(h)}qa(c.src);var m=ae.od();m.vk(h,this);g=j;try{if(l){var n=Vd.od(),q=m.currentTarget;for(;q;q=q.parentNode)n.push(q);var u=n.length-1;for(;!m.Hh&&u>=0;u--){m.currentTarget=n[u];g&=te(n[u],e,j,m)}var u=0;for(;!m.Hh&&u<n.length;u++){m.currentTarget=n[u];g&=te(n[u],e,d,m)}}else g=se(c,m)}finally{if(n){n.length=0;Vd.Me(n)}m.o();ae.Me(m)}return g}var x=new Kd(b,this);try{g=se(c,x)}finally{x.o()}return g},ve=function(a){var b=d;if(a.keyCode==0)try{a.keyCode=-1;return}catch(c){b=j}if(b||
a.returnValue==undefined)a.returnValue=j};var S=function(){};t(S,Id);o=S.prototype;o.DC=j;o.Xx=i;o.Jv=function(){return this.Xx};o.SI=function(a){this.Xx=a};o.addEventListener=function(a,b,c,e){Q(this,a,b,c,e)};o.removeEventListener=function(a,b,c,e){ee(this,a,b,c,e)};o.dispatchEvent=function(a){return ue(this,a)};o.C=function(){S.b.C.call(this);ie(this);this.Xx=i};var xe=function(a,b){S.call(this);this.Pi=a||1;this.Jo=b||we;this.Zt=r(this.x0,this);this.Ww=s()};t(xe,S);xe.prototype.enabled=d;var we=p.window;o=xe.prototype;o.Wa=i;o.setInterval=function(a){this.Pi=a;if(this.Wa&&this.enabled){this.stop();this.start()}else this.Wa&&this.stop()};o.x0=function(){if(this.enabled){var a=s()-this.Ww;if(a>0&&a<this.Pi*0.8)this.Wa=this.Jo.setTimeout(this.Zt,this.Pi-a);else{this.VO();if(this.enabled){this.Wa=this.Jo.setTimeout(this.Zt,this.Pi);this.Ww=s()}}}};o.VO=function(){this.dispatchEvent("tick")};
o.start=function(){this.enabled=j;if(!this.Wa){this.Wa=this.Jo.setTimeout(this.Zt,this.Pi);this.Ww=s()}};o.stop=function(){this.enabled=d;if(this.Wa){this.Jo.clearTimeout(this.Wa);this.Wa=i}};o.C=function(){xe.b.C.call(this);this.stop();delete this.Jo};var ye=function(a,b,c){if(ma(a)){if(c)a=r(a,c)}else if(a&&typeof a.handleEvent=="function")a=r(a.handleEvent,a);else k(Error("Invalid listener argument"));return b>2147483647?-1:we.setTimeout(a,b||0)},ze=function(a){we.clearTimeout(a)};var Ae=function(){this.Zc={};this.xG={};this.vA=i;this.Zx=[]};fa(Ae);Ae.prototype.$D=function(a,b){return a+"_"+b+".js"};var Be=function(a){eval(a)};Ae.prototype.vk=function(a,b){ta("__gjsload__",Be);this.vA=a.replace(".js","");if(b)this.$D=b;v(this.Zx,function(c){this.Ui(c)},this);Ea(this.Zx)};Ae.prototype.TX=function(a,b,c){var e=this.Zc,f=this.xG;if(f[a])c(f[a][b]);else if(e[a])e[a].push([b,c]);else{e[a]=[[b,c]];this.vA?this.Ui(a):this.Zx.push(a)}};
Ae.prototype.nX=function(a,b,c){var e=this.xG,f=this.Zc;e[a]||(e[a]={});if(c)e[a][b]=c;else if(f[a]){var g=0;for(;g<f[a].length;++g)f[a][g][1](e[a][f[a][g][0]]);delete f[a]}};Ae.prototype.Ui=function(a){ye(function(){var b=this.$D(this.vA,a),c=I("script",{type:"text/javascript",src:b});document.body.appendChild(c)},0,this)};var Ce=function(a,b,c){Ae.wa().TX(a,b,c)},De=function(a,b,c){Ae.wa().nX(a,b,c)},Ee=function(a,b){Ae.wa().vk(a,b)},Fe=function(a,b){return function(){var c=arguments;Ce(a,b,function(e){e.apply(i,c)})}};var T=function(a){this.i=a};t(T,Id);var Ge=new Jd(0,100);o=T.prototype;o.e=function(a,b,c,e,f){if(ia(b)){var g=0;for(;g<b.length;g++)this.e(a,b[g],c,e,f)}else this.GH(Q(a,b,c||this,e||d,f||this.i||this));return this};o.ZF=function(a,b,c,e,f){if(ia(b)){var g=0;for(;g<b.length;g++)this.ZF(a,b[g],c,e,f)}else this.GH(de(a,b,c||this,e||d,f||this.i||this));return this};o.GH=function(a){if(this.Ia)this.Ia[a]=j;else if(this.tb){this.Ia=Ge.od();this.Ia[this.tb]=j;this.tb=i;this.Ia[a]=j}else this.tb=a};
o.ca=function(a,b,c,e,f){if(this.tb||this.Ia)if(ia(b)){var g=0;for(;g<b.length;g++)this.ca(a,b[g],c,e,f)}else{var h=je(a,b,c||this,e||d,f||this.i||this);if(h){var l=h.Da;ge(l);if(this.Ia)Za(this.Ia,l);else if(this.tb==l)this.tb=i}}return this};o.Y=function(){if(this.Ia){for(var a in this.Ia){ge(a);delete this.Ia[a]}Ge.Me(this.Ia);this.Ia=i}else this.tb&&ge(this.tb)};o.C=function(){T.b.C.call(this);this.Y()};o.handleEvent=function(){k(Error("EventHandler.handleEvent not implemented"))};var U={};U.Mb={};p.pwa&&p.pwa.paths&&fb(U.Mb,p.pwa.paths);U.g0=function(){return A(U.Mb,"staticRoot","f/")};U.jI=function(){return A(U.Mb,"scriptpath","script/")};U.g3=function(){return A(U.Mb,"staticdomains",[])};U.Ls=function(){return A(U.Mb,"staticimagepath","img/")};U.D0=function(){return A(U.Mb,"transparentgif",U.Ls()+"transparent.gif")};U.cO=function(){return A(U.Mb,"createShape","")};U.fO=function(){return A(U.Mb,"createSubject","")};U.$0=function(){return A(U.Mb,"updateShape","")};
U.a1=function(){return A(U.Mb,"updateSubject","")};U.G_=function(){return A(U.Mb,"emailPhoto","")};U.pK=function(){return A(U.Mb,"viewCart","")};U.I0=function(){return A(U.Mb,"updateCart","")};U.aF=function(){return A(U.Mb,"hosturl","picasaweb.google.com")};U.N2=function(){return A(U.Mb,"photoPickerHost",U.jI()+"lh_picker_h.js")};U.uY=function(){return A(U.Mb,"selectedPhotos","")};U.OL=function(){return A(U.Mb,"addComment","")};U.sY=function(){return A(U.Mb,"selectedComments","")};
U.fV=function(){return A(U.Mb,"loginUrl","")};U.Y_=function(){return A(U.Mb,"signupUrl","")};var He=U.Ls(),Ie=U.D0(),Je=/\?.*$/,Ke=/\/s\d+(?:-c)?\//,Le=function(a){return a.replace(Je,"").replace(Ke,"/")},Me=function(a,b,c){var e=b instanceof y?Math.max(b.width,b.height):b;if(!e)return a;var f=a.lastIndexOf("/"),g=a.substr(0,f),h=a.substr(f);return g+("/s"+e+(c?"-c":""))+h},Qe=function(a,b){var c=a.Ma();if(c.ck(b)||c.ck(Ne))return c;c.Cy(b);return Oe(c,Pe)},Se=function(a,b){var c=a.Ma();if(c.ck(Ne))return Ne;var e=Math.min(c.width,c.height);c.width=e;c.height=e;if(Ua(c,a)&&c.ck(b))return c;
c.Cy(b);return Oe(c,Re)},Oe=function(a,b){var c=Math.floor(Math.max(a.width,a.height));if(c){var e=Te(c,b);if(a.width>a.height){a.width=e;a.height=Math.floor(a.height*e/c)}else{a.height=e;a.width=Math.floor(a.width*e/c)}}else a.floor();return a},Te=function(a,b){var c=b[0],e=1;for(;e<b.length;e++)if(a>=b[e])c=b[e];else break;return c},Ue=function(a,b){var c="";if(a=="ready")c="img/video_ready"+b+".png";else if(a=="pending")c="img/video_pending"+b+".png";else if(a=="failed")c="img/video_failed"+b+
".png";if(c){var e=document.getElementsByTagName("base")[0].href;c=e+c}return c},Ve='<img src="'+Ie+'" class="%s" %s>',We=function(a,b,c){c=c||"";if(b)c+=' id="'+b+'"';return jb(Ve,a,c)},Xe=function(a,b,c){var e=cb(c);e["class"]=a;e.src=Ie;if(b)e.id=b;return I("img",e)},Pe=[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],Re=[32,48,64,72,104,136,144,150,160],Ne=new y(Pe[0],Pe[0]);var Ye=function(a,b,c,e){this.top=a;this.right=b;this.bottom=c;this.left=e};Ye.prototype.Ma=function(){return new Ye(this.top,this.right,this.bottom,this.left)};Ye.prototype.contains=function(a){return Ze(this,a)};Ye.prototype.expand=function(a,b,c,e){if(na(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=e}return this};
var Ze=function(a,b){if(!a||!b)return d;return b.x>=a.left&&b.x<=a.right&&b.y>=a.top&&b.y<=a.bottom};var $e=function(a,b,c,e){this.left=a;this.top=b;this.width=c;this.height=e};$e.prototype.Ma=function(){return new $e(this.left,this.top,this.width,this.height)};$e.prototype.Ts=function(){return new Ye(this.top,this.left+this.width,this.top+this.height,this.left)};$e.prototype.contains=function(a){return this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};var af=function(a){if(/^\s*$/.test(a))return d;return/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},bf=function(a){String(a);if(af(a))try{return eval("("+a+")")}catch(b){}k(Error("Invalid JSON string: "+a))},cf=function(a){return eval("("+a+")")};var df,V=function(a,b,c){ka(b)?ef(a,c,b):Va(b,sa(ef,a))},ef=function(a,b,c){a.style[ff(c)]=b},gf=function(a,b){var c=jc(a);if(c.defaultView&&c.defaultView.getComputedStyle){var e=c.defaultView.getComputedStyle(a,"");if(e)return e[b]}return i};var hf=function(a,b){return gf(a,b)||(a.currentStyle?a.currentStyle[b]:i)||a.style[b]},jf=function(a){return hf(a,"position")};
var kf=function(a,b,c){var e,f;if(b instanceof w){e=b.x;f=b.y}else{e=b;f=c}a.style.left=typeof e=="number"?e+"px":e;a.style.top=typeof f=="number"?f+"px":f};
var lf=function(a){var b;b=a?a.nodeType==9?a:jc(a):document;if(D&&!kc(b).Vq())return b.body;return b.documentElement},mf=function(a){var b=a.getBoundingClientRect();if(D){var c=a.ownerDocument;b.left-=c.documentElement.clientLeft+c.body.clientLeft;b.top-=c.documentElement.clientTop+c.body.clientTop}return b},nf=function(a){if(D)return a.offsetParent;var b=jc(a),c=hf(a,"position"),e=c=="fixed"||c=="absolute",f=a.parentNode;for(;f&&f!=b;f=f.parentNode){c=hf(f,"position");e=e&&c=="static"&&f!=b.documentElement&&
f!=b.body;if(!e&&(f.scrollWidth>f.clientWidth||f.scrollHeight>f.clientHeight||c=="fixed"||c=="absolute"))return f}return i},qf=function(a){var b=new Ye(0,Infinity,Infinity,0),c=kc(a),e=c.OD(),f,g=a;for(;g=nf(g);)if((!D||g.clientWidth!=0)&&(g.scrollWidth!=g.clientWidth||g.scrollHeight!=g.clientHeight)&&hf(g,"overflow")!="visible"){var h=of(g),l=pf(g);h.x+=l.x;h.y+=l.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+g.clientWidth);b.bottom=Math.min(b.bottom,h.y+g.clientHeight);b.left=Math.max(b.left,
h.x);f=f||g!=e}var m=e.scrollLeft,n=e.scrollTop;if(Vb){b.left+=m;b.top+=n}else{b.left=Math.max(b.left,m);b.top=Math.max(b.top,n)}if(!f||Vb){b.right+=m;b.bottom+=n}var q=c.xR();b.right=Math.min(b.right,m+q.width);b.bottom=Math.min(b.bottom,n+q.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:i},pf=function(a){if(E&&!ac("1.9")){var b=parseFloat(gf(a,"borderLeftWidth"));if(rf(a)){var c=a.offsetWidth-a.clientWidth-b-parseFloat(gf(a,"borderRightWidth"));b+=c}return new w(b,parseFloat(gf(a,
"borderTopWidth")))}return new w(a.clientLeft,a.clientTop)},of=function(a){var b,c=jc(a),e=hf(a,"position"),f=E&&c.getBoxObjectFor&&!a.getBoundingClientRect&&e=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0);if(typeof df=="undefined")df=Ub&&!ac("1.8.0.11");var g=new w(0,0),h=lf(c);if(a==h)return g;if(a.getBoundingClientRect){b=mf(a);var l=kc(c).yi();g.x=b.left+l.x;g.y=b.top+l.y}else if(c.getBoxObjectFor&&!f&&!df){b=c.getBoxObjectFor(a);var m=c.getBoxObjectFor(h);g.x=b.screenX-m.screenX;
g.y=b.screenY-m.screenY}else{var n=a;do{g.x+=n.offsetLeft;g.y+=n.offsetTop;if(n!=a){g.x+=n.clientLeft||0;g.y+=n.clientTop||0}if(Vb&&jf(n)=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}n=n.offsetParent}while(n&&n!=a);if(Tb||Vb&&e=="absolute")g.y-=c.body.offsetTop;n=a;for(;(n=nf(n))&&n!=c.body;){g.x-=n.scrollLeft;if(!Tb||n.tagName!="TR")g.y-=n.scrollTop}}return g},sf=function(a){return of(a).y},uf=function(a,b){var c=tf(a),e=tf(b);return new w(c.x-e.x,c.y-e.y)},tf=function(a){var b=new w;
if(a.nodeType==1)if(a.getBoundingClientRect){var c=mf(a);b.x=c.left;b.y=c.top}else{var e=kc(a).yi(),f=of(a);b.x=f.x-e.x;b.y=f.y-e.y}else{b.x=a.clientX;b.y=a.clientY}return b},vf=function(a,b,c){var e=of(a);if(b instanceof w){c=b.y;b=b.x}kf(a,a.offsetLeft+(b-e.x),a.offsetTop+(c-e.y))},wf=function(a,b,c){var e;if(b instanceof y){e=b.height;b=b.width}else{if(c==undefined)k(Error("missing height argument"));e=c}a.style.width=typeof b=="number"?Math.round(b)+"px":b;a.style.height=typeof e=="number"?Math.round(e)+
"px":e},xf=function(a){if(hf(a,"display")!="none")return Tb?new y(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new y(a.offsetWidth,a.offsetHeight);var b=a.style,c=b.display,e=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var g,h;if(Tb){g=a.offsetWidth||a.clientWidth;h=a.offsetHeight||a.clientHeight}else{g=a.offsetWidth;h=a.offsetHeight}b.display=c;b.position=f;b.visibility=e;return new y(g,h)},yf={},ff=function(a){return yf[a]||(yf[a]=String(a).replace(/\-([a-z])/g,
function(b,c){return c.toUpperCase()}))},zf=function(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"},W=function(a,b){a.style.display=b?"":"none"};
var Af=function(a){return a?ka(a)||a.nodeType==3?j:za(a,Af):d},Bf=E&&!ac("1.9"),rf=function(a){return"rtl"==hf(a,"direction")},Cf=E?"MozUserSelect":Vb?"WebkitUserSelect":i,Df=function(a,b,c){var e=!c?a.getElementsByTagName("*"):i;if(Cf){var f=b?"none":"";a.style[Cf]=f;if(e){var g=0,h;for(;h=e[g];g++)h.style[Cf]=f}}else if(D||Tb){var f=b?"on":"";a.setAttribute("unselectable",f);if(e){var g=0,h;for(;h=e[g];g++)h.setAttribute("unselectable",f)}}};var Ef=function(){};fa(Ef);Ef.prototype.Jx=0;Ef.prototype.YQ=function(){return":"+(this.Jx++).toString(36)};var X=function(a){S.call(this);this.O=a||kc();this.eo=Ff};t(X,S);X.prototype.UT=Ef.wa();var Ff=i,Gf="disable",Hf="enable",If="unhighlight",Y="action",Jf="Method not supported",Kf="Component already rendered",Lf="Unable to set parent component",Mf=function(a,b){switch(a){case 1:return b?Gf:Hf;case 2:return b?"highlight":If;case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close";default:}k(Error("Invalid component state"))};
o=X.prototype;o.qb=i;o.O=i;o.N=d;o.j=i;o.eo=i;o.g=i;o.V=i;o.ha=i;o.zd=i;o.DA=i;o.F=function(){return this.qb||(this.qb=this.UT.YQ())};o.ps=function(a){if(this.V&&this.V.zd){Za(this.V.zd,this.qb);bb(this.V.zd,a,this)}this.qb=a};o.f=function(){return this.j};o.Zb=function(a){this.j=a};o.ez=function(a){if(this==a)k(Error(Lf));if(a&&this.V&&this.qb&&this.V.GD(this.qb)&&this.V!=a)k(Error(Lf));this.V=a};o.Jv=function(){return this.V};o.SI=function(){k(Error(Jf))};o.r=function(){this.j=this.O.createElement("div")};
o.G=function(a){this.sy(a)};o.TH=function(a){this.sy(a.parentNode,a)};o.sy=function(a,b){if(this.N)k(Error(Kf));this.j||this.r();a?a.insertBefore(this.j,b||i):this.O.za.body.appendChild(this.j);if(!this.V||this.V.N)this.A()};o.qa=function(a){if(this.N)k(Error(Kf));else if(a&&this.Ac(a)){this.DA=j;if(!this.O||this.O.za!=jc(a))this.O=kc(a);this.ea(a);this.A()}else k(Error("Invalid element to decorate"))};o.Ac=function(){return j};o.ea=function(a){this.j=a};
o.A=function(){this.N=j;this.Wd(function(a){!a.N&&a.f()&&a.A()})};o.K=function(){this.Wd(function(a){a.N&&a.K()});this.N=d};o.C=function(){X.b.C.call(this);this.N&&this.K();this.Wd(function(a){a.o()});!this.DA&&this.j&&L(this.j);this.V=this.g=this.j=this.zd=this.ha=i};o.ba=function(){return this.g};o.B=function(a){this.g=a};o.H=function(a,b){this.Kt(a,this.xi(),b)};
o.Kt=function(a,b,c){if(a.N&&(c||!this.N))k(Error(Kf));if(b<0||b>this.xi())k(Error("Child component index out of bounds"));if(!this.zd||!this.ha){this.zd={};this.ha=[]}if(a.V==this){ab(this.zd,a.F());Ka(this.ha,a)}else bb(this.zd,a.F(),a);a.ez(this);Ha(this.ha,a,b);if(a.N&&this.N&&a.V==this){var e=this.Sa();e.insertBefore(a.f(),e.childNodes[b+1]||i)}else if(c){this.j||this.r();var f=this.kf(b+1);a.sy(this.Sa(),f?f.j:i)}else this.N&&!a.N&&a.j&&a.A()};o.Sa=function(){return this.j};
o.Ak=function(){if(this.eo==i)this.eo=rf(this.N?this.j:this.O.za.body);return this.eo};o.xl=function(a){if(this.N)k(Error(Kf));this.eo=a};o.ME=function(){return!!this.ha&&this.ha.length!=0};o.xi=function(){return this.ha?this.ha.length:0};o.GD=function(a){return this.zd&&a?A(this.zd,a)||i:i};o.kf=function(a){return this.ha?this.ha[a]||i:i};o.Wd=function(a,b){this.ha&&v(this.ha,a,b)};o.Wm=function(a){return this.ha&&a?ua(this.ha,a):-1};
o.removeChild=function(a,b){if(a){var c=ka(a)?a:a.F();a=this.GD(c);if(c&&a){Za(this.zd,c);Ka(this.ha,a);if(b){a.K();a.j&&L(a.j)}a.ez(i)}}if(!a)k(Error("Child is not in parent component"));return a};o.zX=function(a,b){return this.removeChild(this.kf(a),b)};o.hj=function(a){for(;this.ME();)this.zX(0,a)};var Nf=function(a,b,c){this.ax=a;this.Pi=b||0;this.i=c;this.Ye=r(this.$O,this)};t(Nf,Id);var Of=Nf;o=Nf.prototype;o.qb=0;o.C=function(){Nf.b.C.call(this);this.stop();delete this.ax;delete this.i};o.start=function(a){this.stop();this.qb=ye(this.Ye,ba(a)?a:this.Pi)};o.stop=function(){this.wh()&&ze(this.qb);this.qb=0};o.wh=function(){return this.qb!=0};o.$O=function(){this.qb=0;this.ax&&this.ax.call(this.i)};var Pf="complete",Qf="success",Rf="error",Sf="abort",Tf="timeout";var Uf=function(){if(!!E){this.gi={};this.rt={};this.Hs=[]}};o=Uf.prototype;o.Oa=md("goog.net.xhrMonitor");o.BH=function(a){if(!!E){var b=ka(a)?a:na(a)?qa(a):"";this.Oa.rv("Pushing context: "+a+" ("+b+")");this.Hs.push(b)}};o.pH=function(){if(!!E){var a=this.Hs.pop();this.Oa.rv("Popping context: "+a);this.K0(a)}};o.mV=function(a){if(!!E){var b=qa(a);this.Oa.U("Opening XHR : "+b);var c=0;for(;c<this.Hs.length;c++){var e=this.Hs[c];this.cp(this.gi,e,b);this.cp(this.rt,b,e)}}};
o.lV=function(a){if(!!E){var b=qa(a);this.Oa.U("Closing XHR : "+b);delete this.rt[b];for(var c in this.gi){Ka(this.gi[c],b);this.gi[c].length==0&&delete this.gi[c]}}};o.K0=function(a){var b=this.rt[a],c=this.gi[a];if(b&&c){this.Oa.rv("Updating dependent contexts");v(b,function(e){v(c,function(f){this.cp(this.gi,e,f);this.cp(this.rt,f,e)},this)},this)}};o.cp=function(a,b,c){a[b]||(a[b]=[]);Da(a[b],c)||a[b].push(c)};var Vf=new Uf;var Xf=function(){return Wf()};var Wf=i,Yf=i,Zf=i;(function(a,b){Wf=a;Yf=b;Zf=i})(function(){var a=$f();return a?new ActiveXObject(a):new XMLHttpRequest},function(){var a={};if($f()){a[0]=j;a[1]=j}return a});var ag=i,$f=function(){if(!ag&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;for(;b<a.length;b++){var c=a[b];try{new ActiveXObject(c);return ag=c}catch(e){}}k(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return ag};var bg=function(){S.call(this);this.headers=new Rc};t(bg,S);bg.prototype.Oa=md("goog.net.XhrIo");var cg=[],eg=function(a,b,c,e,f,g){var h=new bg;cg.push(h);b&&Q(h,Pf,b);Q(h,"ready",sa(dg,h));g&&h.ys(g);h.send(a,c,e,f)},dg=function(a){a.o();Ka(cg,a)};o=bg.prototype;o.Gg=d;o.Za=i;o.qt=i;o.Uw="";o.MF="";o.Fk=0;o.bn="";o.kv=d;o.Pq=d;o.Bw=d;o.Ni=d;o.Rh=0;o.wj=i;o.ys=function(a){this.Rh=Math.max(0,a)};
o.send=function(a,b,c,e){if(this.Gg)k(Error("[goog.net.XhrIo] Object is active with another request"));var f=b||"GET";this.Uw=a;this.bn="";this.Fk=0;this.MF=f;this.kv=d;this.Gg=j;this.Za=new Xf;this.qt=Zf||(Zf=Yf());Vf.mV(this.Za);this.Za.onreadystatechange=r(this.VG,this);try{this.Oa.U(this.eg("Opening Xhr"));this.Bw=j;this.Za.open(f,a,j);this.Bw=d}catch(g){this.Oa.U(this.eg("Error opening Xhr: "+g.message));this.$j(5,g);return}var h=c?String(c):"",l=this.headers.Ma();e&&Qc(e,function(m,n){l.Z(n,
m)});f=="POST"&&!l.Bc("Content-Type")&&l.Z("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Qc(l,function(m,n){this.Za.setRequestHeader(n,m)},this);try{if(this.wj){we.clearTimeout(this.wj);this.wj=i}if(this.Rh>0){this.Oa.U(this.eg("Will abort after "+this.Rh+"ms if incomplete"));this.wj=we.setTimeout(r(this.y0,this),this.Rh)}this.Oa.U(this.eg("Sending request"));this.Pq=j;this.Za.send(h);this.Pq=d}catch(g){this.Oa.U(this.eg("Send error: "+g.message));this.$j(5,g)}};
o.dispatchEvent=function(a){if(this.Za){Vf.BH(this.Za);try{bg.b.dispatchEvent.call(this,a)}finally{Vf.pH()}}else bg.b.dispatchEvent.call(this,a)};o.y0=function(){if(!(typeof aa=="undefined"))if(this.Za){this.bn="Timed out after "+this.Rh+"ms, aborting";this.Fk=8;this.Oa.U(this.eg(this.bn));this.dispatchEvent(Tf);this.abort(8)}};o.$j=function(a,b){this.Gg=d;if(this.Za){this.Ni=j;this.Za.abort();this.Ni=d}this.bn=b;this.Fk=a;this.UC();this.vp()};
o.UC=function(){if(!this.kv){this.kv=j;this.dispatchEvent(Pf);this.dispatchEvent(Rf)}};o.abort=function(a){if(this.Za){this.Oa.U(this.eg("Aborting"));this.Gg=d;this.Ni=j;this.Za.abort();this.Ni=d;this.Fk=a||7;this.dispatchEvent(Pf);this.dispatchEvent(Sf);this.vp()}};o.C=function(){if(this.Za){this.Gg=d;this.Ni=j;this.Za.abort();this.Ni=d;this.vp(j)}bg.b.C.call(this)};o.VG=function(){!this.Bw&&!this.Pq&&!this.Ni?this.rW():this.UG()};o.rW=function(){this.UG()};
o.UG=function(){if(!!this.Gg)if(!(typeof aa=="undefined"))if(this.qt[1]&&this.Jm()==4&&this.Ae()==2)this.Oa.U(this.eg("Local request error detected and ignored"));else if(this.Pq&&this.Jm()==4)we.setTimeout(r(this.VG,this),0);else{this.dispatchEvent("readystatechange");if(this.Kw()){this.Oa.U(this.eg("Request complete"));this.Gg=d;if(this.Bk()){this.dispatchEvent(Pf);this.dispatchEvent(Qf)}else{this.Fk=6;this.bn=this.jE()+" ["+this.Ae()+"]";this.UC()}this.vp()}}};
o.vp=function(a){if(this.Za){this.Za.onreadystatechange=this.qt[0]?ea:i;var b=this.Za;this.qt=this.Za=i;if(this.wj){we.clearTimeout(this.wj);this.wj=i}if(!a){Vf.BH(b);this.dispatchEvent("ready");Vf.pH()}Vf.lV(b)}};o.wh=function(){return this.Gg};o.Kw=function(){return this.Jm()==4};o.Bk=function(){switch(this.Ae()){case 0:case 200:case 204:case 304:return j;default:return d}};o.Jm=function(){return this.Za?this.Za.readyState:0};
o.Ae=function(){try{return this.Jm()>2?this.Za.status:-1}catch(a){this.Oa.k1("Can not get status: "+a.message);return-1}};o.jE=function(){try{return this.Jm()>2?this.Za.statusText:""}catch(a){this.Oa.U("Can not get status: "+a.message);return""}};o.mc=function(){return this.Za?this.Za.responseText:""};o.lg=function(){return this.Za?bf(this.Za.responseText):undefined};o.eg=function(a){return a+" ["+this.MF+" "+this.Uw+" "+this.Ae()+"]"};var fg=/^(?:([^:\/?#]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,gg=function(a){return a.match(fg)};var hg=function(a,b){var c;if(a instanceof hg){this.tl(b==i?a.pf:b);this.hz(a.Mh);this.lz(a.So);this.Py(a.oi);this.gz(a.Gh);this.wl(a.sd);this.ws(a.sc.Ma());this.ql(a.bh)}else if(a&&(c=gg(String(a)))){this.tl(!!b);this.hz(c[1],j);this.lz(c[2],j);this.Py(c[3],j);this.gz(c[4]);this.wl(c[5],j);this.ws(c[6]);this.ql(c[7],j)}else{this.tl(!!b);this.sc=new ig(i,this,this.pf)}};o=hg.prototype;o.Mh="";o.So="";o.oi="";o.Gh=i;o.sd="";o.bh="";o.xU=d;o.pf=d;
o.toString=function(){if(this.zc)return this.zc;var a=[];this.Mh&&a.push(jg(this.Mh,kg),":");if(this.oi){a.push("//");this.So&&a.push(jg(this.So,kg),"@");a.push(lg(this.oi));this.Gh!=i&&a.push(":",String(this.Gh))}this.sd&&a.push(jg(this.sd,mg));var b=String(this.sc);b&&a.push("?",b);this.bh&&a.push("#",jg(this.bh,ng));return this.zc=a.join("")};o.Ma=function(){return og(this.Mh,this.So,this.oi,this.Gh,this.sd,this.sc.Ma(),this.bh,this.pf)};
o.hz=function(a,b){this.Yf();delete this.zc;if(this.Mh=b?a?decodeURIComponent(a):"":a)this.Mh=this.Mh.replace(/:$/,"");return this};o.lz=function(a,b){this.Yf();delete this.zc;this.So=b?a?decodeURIComponent(a):"":a;return this};o.Py=function(a,b){this.Yf();delete this.zc;this.oi=b?a?decodeURIComponent(a):"":a;return this};o.gz=function(a){this.Yf();delete this.zc;if(a){a=Number(a);if(isNaN(a)||a<0)k(Error("Bad port number "+a));this.Gh=a}else this.Gh=i;return this};
o.yT=function(){return this.Gh!=i};o.wl=function(a,b){this.Yf();delete this.zc;this.sd=b?a?decodeURIComponent(a):"":a;return this};o.ws=function(a){this.Yf();delete this.zc;if(a instanceof ig){this.sc=a;this.sc.Ga=this;this.sc.tl(this.pf)}else this.sc=new ig(a,this,this.pf);return this};o.lh=function(){return this.sc.toString()};o.oa=function(a,b){this.Yf();delete this.zc;this.sc.Z(a,b);return this};o.SZ=function(a,b){this.Yf();delete this.zc;ia(b)||(b=[String(b)]);this.sc.w_(a,b);return this};
o.Ea=function(a){return this.sc.get(a)};o.ql=function(a,b){this.Yf();delete this.zc;this.bh=b?a?decodeURIComponent(a):"":a;return this};o.Yf=function(){if(this.xU)k(Error("Tried to modify a read-only Uri"))};o.tl=function(a){this.pf=a;this.sc&&this.sc.tl(a)};var og=function(a,b,c,e,f,g,h,l){var m=new hg(i,l);a&&m.hz(a);b&&m.lz(b);c&&m.Py(c);e&&m.gz(e);f&&m.wl(f);g&&m.ws(g);h&&m.ql(h);return m};
var lg=function(a){if(ka(a))return encodeURIComponent(a);return i},pg=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,jg=function(a,b){var c=i;if(ka(a)){c=a;pg.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c.replace(b,qg)}return c},qg=function(a){var b=a.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)},kg=/[#\/\?@]/g,mg=/[\#\?]/g,ng=/#/g,ig=function(a,b,c){this.sb=new Rc;this.Ga=b||i;this.pf=!!c;if(a){var e=a.split("&"),f=0;for(;f<e.length;f++){var g=e[f].indexOf("="),h=i,l=i;if(g>=0){h=e[f].substring(0,
g);l=e[f].substring(g+1)}else h=e[f];h=sb(h);h=this.kh(h);this.add(h,l?sb(l):"")}}};o=ig.prototype;o.Ja=0;o.ja=function(){return this.Ja};o.add=function(a,b){this.yk();a=this.kh(a);if(this.Bc(a)){var c=this.sb.get(a);ia(c)?c.push(b):this.sb.Z(a,[c,b])}else this.sb.Z(a,b);this.Ja++;return this};o.remove=function(a){a=this.kh(a);if(this.sb.Bc(a)){this.yk();var b=this.sb.get(a);if(ia(b))this.Ja-=b.length;else this.Ja--;return this.sb.remove(a)}return d};
o.clear=function(){this.yk();this.sb.clear();this.Ja=0};o.isEmpty=function(){return this.Ja==0};o.Bc=function(a){a=this.kh(a);return this.sb.Bc(a)};o.zp=function(a){var b=this.Uc();return Da(b,a)};o.kg=function(){var a=this.sb.Uc(),b=this.sb.kg(),c=[],e=0;for(;e<b.length;e++){var f=a[e];if(ia(f)){var g=0;for(;g<f.length;g++)c.push(b[e])}else c.push(b[e])}return c};
o.Uc=function(a){var b;if(a){var c=this.kh(a);if(this.Bc(c)){var e=this.sb.get(c);if(ia(e))return e;else{b=[];b.push(e)}}else b=[]}else{var f=this.sb.Uc();b=[];var g=0;for(;g<f.length;g++){var h=f[g];ia(h)?Na(b,h):b.push(h)}}return b};o.Z=function(a,b){this.yk();a=this.kh(a);if(this.Bc(a)){var c=this.sb.get(a);if(ia(c))this.Ja-=c.length;else this.Ja--}this.sb.Z(a,b);this.Ja++;return this};o.get=function(a,b){a=this.kh(a);if(this.Bc(a)){var c=this.sb.get(a);return ia(c)?c[0]:c}else return b};
o.w_=function(a,b){this.yk();a=this.kh(a);if(this.Bc(a)){var c=this.sb.get(a);if(ia(c))this.Ja-=c.length;else this.Ja--}if(b.length>0){this.sb.Z(a,b);this.Ja+=b.length}};o.toString=function(){if(this.zc)return this.zc;var a=[],b=0,c=this.sb.kg(),e=0;for(;e<c.length;e++){var f=c[e],g=B(f),h=this.sb.get(f);if(ia(h)){var l=0;for(;l<h.length;l++){b>0&&a.push("&");a.push(g,"=",B(h[l]));b++}}else{b>0&&a.push("&");a.push(g,"=",B(h));b++}}return this.zc=a.join("")};
o.yk=function(){delete this.zc;this.Ga&&delete this.Ga.zc};o.Ma=function(){var a=new ig;a.sb=this.sb.Ma();return a};o.kh=function(a){var b=String(a);if(this.pf)b=b.toLowerCase();return b};o.tl=function(a){if(a&&!this.pf){this.yk();Qc(this.sb,function(b,c){var e=c.toLowerCase();if(c!=e){this.remove(c);this.add(e,b)}},this)}this.pf=a};o.extend=function(){var a=0;for(;a<arguments.length;a++)Qc(arguments[a],function(b,c){this.add(c,b)},this)};var rg=function(a,b,c){if(!D&&!(Vb&&ac("525")))return j;if(D&&!c&&(b==17||b==18))return d;if(a>=48&&a<=57)return j;if(a>=96&&a<=106)return j;if(a>=65&&a<=90)return j;if(a==27&&Vb)return d;switch(a){case 13:case 27:case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return d}},sg=function(a){if(a>=48&&a<=57)return j;if(a>=96&&a<=106)return j;if(a>=65&&a<=90)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;
default:return d}};var tg,ug="activedescendant",vg=function(a,b){if(E||tg){a.setAttribute("role",b);a.W2=b}},wg=function(a,b,c){if(E||tg)a.setAttribute("aria-"+b,c)};var xg=function(a){S.call(this);a&&this.dm(a)};t(xg,S);o=xg.prototype;o.j=i;o.gr=i;o.Sw=i;o.hr=i;o.cn=-1;o.Ck=-1;o.PF=0;o.VT=j;
var yg={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},zg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ag={61:187,
59:186},Bg=D||Vb&&ac("525");o=xg.prototype;o.Om=function(a){if(Bg&&!rg(a.keyCode,this.cn,a.shiftKey))this.handleEvent(a);else this.Ck=E&&a.keyCode in Ag?Ag[a.keyCode]:a.keyCode};o.ES=function(){this.Ck=this.cn=-1};
o.handleEvent=function(a){var b=a.Dc,c,e;if(D&&a.type==Od){c=this.Ck;e=c!=13&&c!=27?b.keyCode:0}else if(Vb&&a.type==Od){c=this.Ck;e=b.charCode>=0&&b.charCode<63232&&sg(c)?b.charCode:0}else if(Tb){c=this.Ck;e=sg(c)?b.keyCode:0}else{c=b.keyCode||this.Ck;e=b.charCode||0;if(Yb&&e==63&&!c)c=191}var f=c,g=b.keyIdentifier;if(c)if(c>=63232&&c in yg)f=yg[c];else{if(c==25&&a.shiftKey)f=9}else if(g&&g in zg)f=zg[g];var h=f==this.cn;this.cn=f;if(Vb&&this.VT){if(h&&b.timeStamp-this.PF<50)return;this.PF=b.timeStamp}var l=
new Cg(f,e,h,b);try{this.dispatchEvent(l)}finally{l.o()}};o.dm=function(a){this.hr&&this.detach();this.j=a;this.gr=Q(this.j,Od,this);this.Sw=Q(this.j,me,this.Om,d,this);this.hr=Q(this.j,ne,this.ES,d,this)};o.detach=function(){if(this.gr){ge(this.gr);ge(this.Sw);ge(this.hr);this.hr=this.Sw=this.gr=i}this.j=i;this.cn=-1};o.C=function(){xg.b.C.call(this);this.detach()};var Cg=function(a,b,c,e){Kd.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};t(Cg,Kd);var Dg=function(){},Eg;fa(Dg);o=Dg.prototype;o.hg=function(){return undefined};o.r=function(a){return a.O.r("div",{className:this.eh(a).join(" ")},a.Ed())};o.Sa=function(a){return a};o.Vp=function(a,b,c){var e=a.f?a.f():a;if(e)if(D&&!ac("7")){var f=this.xv(cc(e),b);f.push(b);sa(c?dc:ec,e).apply(i,f)}else fc(e,b,c)};o.kD=function(a,b,c){this.Vp(a,b,c)};o.Ac=function(){return j};
o.qa=function(a,b){b.id&&a.ps(b.id);var c=this.Sa(b);c&&c.firstChild?a.ks(c.firstChild.nextSibling?La(c.childNodes):c.firstChild):a.ks(i);var e=0,f=this.da(),g=this.Ci(),h=d,l=d,m=d,n=cc(b);v(n,function(x){if(!h&&x==f){h=j;if(g==f)l=j}else if(!l&&x==g)l=j;else e|=this.Ov(x)},this);a.YI(e);if(!h){n.push(f);if(g==f)l=j}l||n.push(g);var q=a.we;q&&n.push.apply(n,q);if(D&&!ac("7")){var u=this.xv(n);if(u.length>0){n.push.apply(n,u);m=j}}if(!h||!l||q||m)F(b,n.join(" "));return b};
o.wk=function(a){a.Ak()&&this.xl(a.f(),j);a.rb()&&this.Af(a,a.Ka())};o.vI=function(a){if(E){var b=this.hg();b&&vg(a,b)}};o.po=function(a,b){Df(a,!b,!D&&!Tb)};o.xl=function(a,b){this.Vp(a,this.Ci()+"-rtl",b)};o.xh=function(a){var b;if(a.Xc(32)&&(b=a.Tb()))return Fc(b);return d};o.Af=function(a,b){var c;if(a.Xc(32)&&(c=a.Tb())){if(!b&&a.CF()){try{c.blur()}catch(e){}a.CF()&&a.Gi(i)}Fc(c)!=b&&Gc(c,b)}};o.P=function(a,b){W(a,b)};
o.vb=function(a,b,c){var e=a.f();if(e){var f=this.jg(b);f&&this.Vp(a,f,c);this.Il(e,b,c)}};o.Il=function(a,b,c){if(E){Eg||(Eg=gb(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));var e=Eg[b];e&&wg(a,e,c)}};o.ub=function(a,b){var c=this.Sa(a);if(c){sc(c);if(b)if(ka(b))N(c,b);else{function e(f){if(f){var g=jc(c);c.appendChild(ka(f)?g.createTextNode(f):f)}}ia(b)?v(b,e):e(b)}}};o.Tb=function(a){return a.f()};o.da=function(){return"goog-control"};o.VD=function(){return[]};o.Ci=function(){return this.da()};
o.eh=function(a){var b=this.da(),c=[b],e=this.Ci();e!=b&&c.push(e);var f=this.vQ(a.Lm());f&&c.push.apply(c,f);var g=a.we;g&&c.push.apply(c,g);D&&!ac("7")&&c.push.apply(c,this.xv(c));return c};o.xv=function(a,b){var c=[];if(b)a=a.concat([b]);v(this.VD(),function(e){if(Aa(e,sa(Da,a))&&(!b||Da(e,b)))c.push(e.join("_"))});return c};o.vQ=function(a){if(a){var b=[],c=1;for(;a;c<<=1)if(a&c){b.push(this.jg(c));a&=~c}return b}return i};o.jg=function(a){this.up||this.rC();return this.up[a]};
o.Ov=function(a){this.zJ||this.eO();var b=parseInt(this.zJ[a],10);return isNaN(b)?0:b};o.rC=function(){var a=this.Ci();this.up=gb(1,a+"-disabled",2,a+"-hover",4,a+"-active",8,a+"-selected",16,a+"-checked",32,a+"-focused",64,a+"-open")};o.eO=function(){this.up||this.rC();this.zJ=db(this.up)};var Fg=function(){Dg.call(this)};t(Fg,Dg);fa(Fg);o=Fg.prototype;o.hg=function(){return"button"};o.Il=function(a,b,c){if(E)b==16?wg(a,"pressed",c):Fg.b.Il.call(this,a,b,c)};o.r=function(a){var b=Fg.b.r.call(this,a),c=a.Di();c&&this.pj(b,c);var e=a.Na();e&&this.gc(b,e);a.Xc(16)&&this.Il(b,16,d);return b};o.qa=function(a,b){b=Fg.b.qa.call(this,a,b);a.v_(this.Na(b));a.n_(this.Di(b));a.Xc(16)&&this.Il(b,16,d);return b};o.Na=ea;o.gc=ea;o.Di=function(a){return a.title};
o.pj=function(a,b){if(a)a.title=b||""};o.da=function(){return"goog-button"};var Gg=function(){Fg.call(this)};t(Gg,Fg);fa(Gg);var Hg="goog-custom-button";o=Gg.prototype;o.r=function(a){var b={"class":"goog-inline-block "+this.eh(a).join(" "),title:a.Di()||""};return a.O.r("div",b,this.$e(a.Ed(),a.O))};o.Sa=function(a){return a&&a.firstChild.firstChild};o.$e=function(a,b){var c="goog-inline-block "+this.da();return b.r("div",{"class":c+"-outer-box"},b.r("div",{"class":c+"-inner-box"},a))};o.Ac=function(a){return a.tagName=="DIV"};
o.LE=function(a,b){var c=a.O.hk(b);if(c&&c.className.indexOf(this.da()+"-outer-box")!=-1){var e=a.O.hk(c);if(e&&e.className.indexOf(this.da()+"-inner-box")!=-1)return j}return d};o.qa=function(a,b){Ig(b,j);Ig(b,d);this.LE(a,b)||b.appendChild(this.$e(b.childNodes,a.O));dc(b,"goog-inline-block",this.da());return Gg.b.qa.call(this,a,b)};o.da=function(){return Hg};
var Ig=function(a,b){if(a){var c=b?a.firstChild:a.lastChild,e;for(;c&&c.parentNode==a;){e=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(ob(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=e}}};var Kg=function(a){var b,c;for(;a;){b=qa(a);if(c=Jg[b])break;a=a.b?a.b.constructor:i}if(c)return ma(c.wa)?c.wa():new c;return i},Lg=function(a,b){if(!ma(a))k(Error("Invalid component class "+a));if(!ma(b))k(Error("Invalid renderer class "+b));var c=qa(a);Jg[c]=b};var Ng=function(a,b){if(!a)k(Error("Invalid class name "+a));if(!ma(b))k(Error("Invalid decorator function "+b));Mg[a]=b},Og=function(a){var b,c=cc(a),e=0,f=c.length;for(;e<f;e++)if(b=c[e]in Mg?Mg[c[e]]():i)return b;return i},Jg={},Mg={};var Pg=function(a,b,c){X.call(this,c);this.$=b||Kg(this.constructor);this.ks(a)};t(Pg,X);o=Pg.prototype;o.Ad=i;o.wb=0;o.Go=39;o.kp=255;o.Ks=0;o.ra=j;o.we=i;o.aw=j;o.hp=d;o.lf=function(){return this.i||(this.i=new T(this))};o.Uy=function(a){this.N&&a!=this.aw&&this.nD(a);this.aw=a};o.Tb=function(){return this.$.Tb(this)};o.jq=function(){return this.cb||(this.cb=new xg)};o.wc=function(a){if(a){if(this.we)Da(this.we,a)||this.we.push(a);else this.we=[a];this.$.kD(this,a,j)}};
o.AX=function(a){if(a&&this.we){Ka(this.we,a);if(this.we.length==0)this.we=i;this.$.kD(this,a,d)}};o.Vp=function(a,b){b?this.wc(a):this.AX(a)};o.r=function(){var a=this.$.r(this);this.Zb(a);this.$.vI(a);this.hp||this.$.po(a,d);this.Ka()||this.$.P(a,d)};o.Sa=function(){return this.$.Sa(this.f())};o.Ac=function(a){return this.$.Ac(a)};o.ea=function(a){a=this.$.qa(this,a);this.Zb(a);this.$.vI(a);this.hp||this.$.po(a,d);this.ra=a.style.display!="none"};
o.A=function(){Pg.b.A.call(this);this.$.wk(this);if(this.Go&-2){this.aw&&this.nD(j);if(this.Xc(32)){var a=this.Tb();if(a){var b=this.jq();b.dm(a);this.lf().e(b,"key",this.De).e(a,pe,this.Ii).e(a,oe,this.Gi)}}}};o.nD=function(a){var b=this.lf(),c=this.f();if(a){b.e(c,Md,this.ok).e(c,R,this.ng).e(c,ke,this.Pm).e(c,Nd,this.bw);D&&b.e(c,"dblclick",this.yE)}else{b.ca(c,Md,this.ok).ca(c,R,this.ng).ca(c,ke,this.Pm).ca(c,Nd,this.bw);D&&b.ca(c,"dblclick",this.yE)}};
o.K=function(){Pg.b.K.call(this);this.i&&this.i.Y();this.cb&&this.cb.detach();this.Ka()&&this.rb()&&this.$.Af(this,d)};o.C=function(){Pg.b.C.call(this);if(this.i){this.i.o();delete this.i}if(this.cb){this.cb.o();delete this.cb}delete this.$;this.we=this.Ad=i};o.Ed=function(){return this.Ad};o.ub=function(a){this.$.ub(this.f(),a);this.ks(a)};o.ks=function(a){this.Ad=a};o.ig=function(){var a=this.Ed();if(!a||ka(a))return a;var b=ia(a)?xa(a,Ic).join(""):Ic(a);return b&&ob(b)};o.zI=function(a){this.ub(a)};
o.xl=function(a){Pg.b.xl.call(this,a);var b=this.f();b&&this.$.xl(b,a)};o.po=function(a){this.hp=a;var b=this.f();b&&this.$.po(b,a)};o.Ka=function(){return this.ra};o.P=function(a,b){if(b||this.ra!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.f();c&&this.$.P(c,a);this.rb()&&this.$.Af(this,a);this.ra=a;return j}return d};o.rb=function(){return!this.Vc(1)};o.uU=function(){var a=this.V;return!!a&&typeof a.rb=="function"&&!a.rb()};
o.Va=function(a){if(!this.uU()&&this.Ri(1,!a)){if(!a){this.setActive(d);this.ud(d)}this.Ka()&&this.$.Af(this,a);this.vb(1,!a)}};o.ud=function(a){this.Ri(2,a)&&this.vb(2,a)};o.wh=function(){return this.Vc(4)};o.setActive=function(a){this.Ri(4,a)&&this.vb(4,a)};o.$m=function(){return this.Vc(8)};o.Bf=function(a){this.Ri(8,a)&&this.vb(8,a)};o.Jw=function(){return this.Vc(16)};o.Ly=function(a){this.Ri(16,a)&&this.vb(16,a)};o.CF=function(){return this.Vc(32)};
o.Sy=function(a){this.Ri(32,a)&&this.vb(32,a)};o.Qi=function(){return this.Vc(64)};o.$b=function(a){this.Ri(64,a)&&this.vb(64,a)};o.Lm=function(){return this.wb};o.Vc=function(a){return!!(this.wb&a)};o.vb=function(a,b){if(this.Xc(a)&&b!=this.Vc(a)){this.$.vb(this,a,b);this.wb=b?this.wb|a:this.wb&~a}};o.YI=function(a){this.wb=a};o.Xc=function(a){return!!(this.Go&a)};o.wg=function(a,b){if(this.N&&this.Vc(a)!=b)k(Error(Kf));!b&&this.Vc(a)&&this.vb(a,d);this.Go=b?this.Go|a:this.Go&~a};
o.Gd=function(a){return!!(this.kp&a)&&this.Xc(a)};o.KY=function(a,b){this.kp=b?this.kp|a:this.kp&~a};o.to=function(a,b){this.Ks=b?this.Ks|a:this.Ks&~a};o.Ri=function(a,b){return this.Xc(a)&&this.Vc(a)!=b&&(!(this.Ks&a)||this.dispatchEvent(Mf(a,b)))&&!this.Zq()};o.ok=function(a){a.relatedTarget&&!zc(this.f(),a.relatedTarget)&&this.dispatchEvent("enter")&&this.rb()&&this.Gd(2)&&this.ud(j)};
o.bw=function(a){if(a.relatedTarget&&!zc(this.f(),a.relatedTarget)&&this.dispatchEvent("leave")){this.Gd(4)&&this.setActive(d);this.Gd(2)&&this.ud(d)}};o.ng=function(a){if(this.rb()){this.Gd(2)&&this.ud(j);if(a.Tq(0)){this.Gd(4)&&this.setActive(j);this.$.xh(this)&&this.Tb().focus()}}!this.hp&&a.Tq(0)&&a.preventDefault()};o.Pm=function(a){if(this.rb()){this.Gd(2)&&this.ud(j);this.wh()&&this.Wk(a)&&this.Gd(4)&&this.setActive(d)}};o.yE=function(a){this.rb()&&this.Wk(a)};
o.Wk=function(){this.Gd(16)&&this.Ly(!this.Jw());this.Gd(8)&&this.Bf(j);this.Gd(64)&&this.$b(!this.Qi());return this.dispatchEvent(Y)};o.Ii=function(){this.Gd(32)&&this.Sy(j)};o.Gi=function(){this.Gd(4)&&this.setActive(d);this.Gd(32)&&this.Sy(d)};o.De=function(a){if(this.Ka()&&this.rb()&&this.kk(a)){a.preventDefault();a.stopPropagation();return j}return d};o.kk=function(a){return a.keyCode==13&&this.Wk(a)};Lg(Pg,Dg);Ng("goog-control",function(){return new Pg(i)});var Qg=function(){Fg.call(this)};t(Qg,Fg);fa(Qg);o=Qg.prototype;o.hg=function(){return undefined};o.r=function(a){this.dJ(a);return a.O.r("button",{"class":this.eh(a).join(" "),disabled:!a.rb(),title:a.Di()||"",value:a.Na()||""},a.ig()||"")};o.Ac=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};o.qa=function(a,b){this.dJ(a);b.disabled&&dc(b,this.jg(1));return Qg.b.qa.call(this,a,b)};o.wk=function(a){a.lf().e(a.f(),P,a.Wk)};o.po=ea;
o.xl=ea;o.xh=function(a){return a.rb()};o.Af=ea;o.vb=function(a,b,c){Qg.b.vb.call(this,a,b,c);var e=a.f();if(e&&b==1)e.disabled=c};o.Na=function(a){return a.value};o.gc=function(a,b){if(a)a.value=b};o.Il=ea;o.dJ=function(a){a.Uy(d);a.KY(255,d);a.wg(32,d)};var Rg=function(a,b,c){Pg.call(this,a,b||Qg.wa(),c)};t(Rg,Pg);o=Rg.prototype;o.Na=function(){return this.Oc};o.gc=function(a){this.Oc=a;this.$.gc(this.f(),a)};o.v_=function(a){this.Oc=a};o.Di=function(){return this.$z};o.pj=function(a){this.$z=a;this.$.pj(this.f(),a)};o.n_=function(a){this.$z=a};o.C=function(){Rg.b.C.call(this);delete this.Oc;delete this.$z};o.A=function(){Rg.b.A.call(this);if(this.Xc(32)){var a=this.Tb();a&&this.lf().e(a,ne,this.kk)}};
o.kk=function(a){return(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type==ne)&&this.Wk(a)};Ng("goog-button",function(){return new Rg(i)});var Sg=function(a){S.call(this);this.j=a;var b=D?"focusout":"blur";this.NU=Q(this.j,D?"focusin":"focus",this,!D);this.OU=Q(this.j,b,this,!D)};t(Sg,S);Sg.prototype.handleEvent=function(a){var b=new Kd(a.Dc);b.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.o()}};Sg.prototype.C=function(){Sg.b.C.call(this);ge(this.NU);ge(this.OU);delete this.j};var Tg=function(a,b,c){this.target=a;this.handle=b||a;this.Yw=c||new $e(NaN,NaN,NaN,NaN);this.za=a.ownerDocument||a.document;Q(this.handle,R,this.uJ,d,this)};t(Tg,S);var Ug="beforedrag";o=Tg.prototype;o.screenX=0;o.screenY=0;o.Az=0;o.Bz=0;o.qm=0;o.rm=0;o.Kb=j;o.Wg=d;o.eF=0;o.LV=0;o.Va=function(a){this.Kb=a};o.C=function(){Tg.b.C.call(this);ee(this.handle,R,this.uJ,d,this);ee(this.za,le,this.yx,d,this);ee(this.za,ke,this.wm,d,this);this.ko&&ee(this.ko,"scroll",this.Tx,d,this);delete this.target;delete this.handle};
o.uJ=function(a){if(this.Kb&&!this.Wg){if(this.eF==0){this.oF(a);if(this.Wg)a.preventDefault();else return}else a.preventDefault();Q(this.za,le,this.yx,d,this);Q(this.za,ke,this.wm,d,this);this.ko&&Q(this.ko,"scroll",this.Tx,d,this);this.screenX=this.Az=a.screenX;this.screenY=this.Bz=a.screenY;this.qm=this.target.offsetLeft;this.rm=this.target.offsetTop;this.On=kc(this.za).yi();this.LV=s()}};o.oF=function(a){if(this.dispatchEvent(new Vg("start",this,a.clientX,a.clientY,a))!==d)this.Wg=j};
o.wm=function(a){ee(this.za,le,this.yx,d,this);ee(this.za,ke,this.wm,d,this);this.ko&&ee(this.ko,"scroll",this.Tx,d,this);if(this.Wg){this.Wg=d;var b=this.UF(this.qm),c=this.VF(this.rm);this.dispatchEvent(new Vg("end",this,a.clientX,a.clientY,a,b,c))}};
o.yx=function(a){if(this.Kb)if(D&&!a.button)this.wm(a);else{var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Wg){var e=this.Az-this.screenX,f=this.Bz-this.screenY;if(e*e+f*f>this.eF){this.oF(a);if(!this.Wg){this.wm(a);return}}}var g=this.OB(b,c),h=g.x,l=g.y;if(this.Wg)if(this.dispatchEvent(new Vg(Ug,this,a.clientX,a.clientY,a,h,l))!==d){this.YC(a,h,l);a.preventDefault()}}};
o.OB=function(a,b){var c=kc(this.za).yi();a+=c.x-this.On.x;b+=c.y-this.On.y;this.On=c;this.qm+=a;this.rm+=b;var e=this.UF(this.qm),f=this.VF(this.rm);return new w(e,f)};o.Tx=function(a){var b=this.OB(0,0);a.clientX=this.On.x-this.screenX;a.clientY=this.On.x-this.screenY;this.YC(a,b.x,b.y)};o.YC=function(a,b,c){this.zO(b,c);this.dispatchEvent(new Vg("drag",this,a.clientX,a.clientY,a,b,c))};
o.UF=function(a){var b=this.Yw,c=!isNaN(b.left)?b.left:i,e=!isNaN(b.width)?b.width:0;return Math.min(c!=i?c+e:Infinity,Math.max(c!=i?c:-Infinity,a))};o.VF=function(a){var b=this.Yw,c=!isNaN(b.top)?b.top:i,e=!isNaN(b.height)?b.height:0;return Math.min(c!=i?c+e:Infinity,Math.max(c!=i?c:-Infinity,a))};o.zO=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};
var Vg=function(a,b,c,e,f,g,h){O.call(this,a);this.type=a;this.clientX=c;this.clientY=e;this.W1=f;this.left=ba(g)?g:b.qm;this.top=ba(h)?h:b.rm;this.bD=b};t(Vg,O);var Xg=function(a,b,c){X.call(this,c);this.yb=a||"modal-dialog";this.xA=!!b;this.gb=Wg;this.k=new T(this);this.Bm=new Sg(this.O.za)};t(Xg,X);o=Xg.prototype;o.yb=i;o.xA=d;o.tn=j;o.sm=j;o.Xt=0.3;o.ke="";o.Ad="";o.gb=i;o.te=i;o.ra=d;o.WC=d;o.mb=i;o.Hb=i;o.xd=i;o.Qe=i;o.Zz=i;o.Ag=i;o.hd=i;o.yc=i;o.k=i;o.lf=function(){return this.k};o.Ne=function(a){this.ke=a;this.Qe&&N(this.Qe,a)};o.Be=function(){return this.ke};o.ub=function(a){this.Ad=a;if(this.hd)this.hd.innerHTML=a};o.Ed=function(){return this.Ad};
o.Sa=function(){this.hd||this.G();return this.hd};o.Rv=function(){this.N||this.G();return this.Qe};o.uR=function(){this.N||this.G();return this.Ag};o.MY=function(a){this.Xt=a;this.mb&&zf(this.mb,this.Xt)};o.HZ=function(a){this.tn=a;this.kx()};o.bZ=function(a){if((this.sm=a)&&!this.te&&this.f())this.te=this.uC();else if(!this.sm&&this.te){this.f()&&ec(this.xd,this.yb+"-title-draggable");this.te.o();this.te=i}};o.uC=function(){var a=new Tg(this.f(),this.xd);dc(this.xd,this.yb+"-title-draggable");return a};
o.r=function(){this.kx();this.Zb(this.O.r("div",{className:this.yb,tabIndex:0},this.xd=this.O.r("div",{className:this.yb+"-title",id:this.F()},this.Qe=this.O.r("span",{className:this.yb+"-title-text"},this.ke),this.Ag=this.O.r("span",{className:this.yb+"-title-close"})),this.hd=this.O.r("div",{className:this.yb+"-content"}),this.yc=this.O.r("div",{className:this.yb+"-buttons"}),this.Rz=this.O.r("span",{tabIndex:0})));this.Zz=this.xd.id;vg(this.f(),"dialog");wg(this.f(),"labelledby",this.Zz);if(this.Ad)this.hd.innerHTML=
this.Ad;W(this.f(),d);this.gb&&this.gb.Ut(this.yc)};o.kx=function(){if(this.xA&&this.tn&&!this.Hb){this.Hb=this.O.r("iframe",{frameborder:0,style:"border: 0; vertical-align: bottom",src:'javascript:""'});this.Hb.className=this.yb+"-bg";W(this.Hb,d);zf(this.Hb,0)}else if((!this.xA||!this.tn)&&this.Hb){L(this.Hb);this.Hb=i}if(this.tn&&!this.mb){this.mb=this.O.r("div",{className:this.yb+"-bg"});zf(this.mb,this.Xt);W(this.mb,d)}else if(!this.tn&&this.mb){L(this.mb);this.mb=i}};
o.G=function(a){if(this.N)k(Error(Kf));this.f()||this.r();var b=a||this.O.za.body;this.SH(b);Xg.b.G.call(this,b)};o.SH=function(a){this.Hb&&a.appendChild(this.Hb);this.mb&&a.appendChild(this.mb)};o.TH=function(){k(Error(Jf))};o.Ac=function(a){return a&&a.tagName&&a.tagName=="DIV"&&Xg.b.Ac.call(this,a)};
o.ea=function(a){Xg.b.ea.call(this,a);dc(this.f(),this.yb);var b=this.yb+"-content";if(this.hd=Cc(this.f(),function(h){return h.nodeType==1&&Da(cc(h),b)}))this.Ad=this.hd.innerHTML;else{this.hd=this.O.r("div",{className:b});if(this.Ad)this.hd.innerHTML=this.Ad;this.f().appendChild(this.hd)}var c=this.yb+"-title",e=this.yb+"-title-text",f=this.yb+"-title-close";if(this.xd=Cc(this.f(),function(h){return h.nodeType==1&&Da(cc(h),c)})){this.Qe=Cc(this.xd,function(h){return h.nodeType==1&&Da(cc(h),e)});
this.Ag=Cc(this.xd,function(h){return h.nodeType==1&&Da(cc(h),f)})}else{this.xd=this.O.r("div",{className:c});this.f().insertBefore(this.xd,this.hd)}if(this.Qe)this.ke=Ic(this.Qe);else{this.Qe=this.O.r("span",{className:e},this.ke);this.xd.appendChild(this.Qe)}wg(this.f(),"labelledby",this.Zz);if(!this.Ag){this.Ag=this.O.r("span",{className:f});this.xd.appendChild(this.Ag)}var g=this.yb+"-buttons";if(this.yc=Cc(this.f(),function(h){return h.nodeType==1&&Da(cc(h),g)})){this.gb=new Yg(this.O);this.gb.qa(this.yc)}else{this.yc=
this.O.r("div",{className:g});this.f().appendChild(this.yc);this.gb&&this.gb.Ut(this.yc)}this.kx();this.SH(jc(this.f()).body);W(this.f(),d)};o.A=function(){Xg.b.A.call(this);if(this.sm&&!this.te)this.te=this.uC();this.k.e(this.Ag,P,this.WG).e(this.Bm,"focusin",this.Tk);vg(this.f(),"dialog");this.Qe.id!==""&&wg(this.f(),"labelledby",this.Qe.id)};o.K=function(){this.k.ca(this.Ag,P,this.WG).ca(this.Bm,"focusin",this.Tk);this.Ka()&&this.P(d);if(this.te){this.te.o();this.te=i}Xg.b.K.call(this)};
o.P=function(a){if(!(a==this.ra)){var b=this.O.za,c=rc(b)||window;this.N||this.G(b.body);if(a){this.aI();this.fc();this.k.e(this.f(),me,this.Jr,j).e(c,re,this.Kr,j)}else this.k.ca(this.f(),me,this.Jr,j).ca(c,re,this.Kr,j);this.Hb&&W(this.Hb,a);this.mb&&W(this.mb,a);W(this.f(),a);if(a){E&&this.f().focus();if(this.gb){var e=this.gb.Nu;if(e){var f=this.yc.getElementsByTagName("button"),g=0,h;for(;h=f[g];g++)if(h.name==e){try{if(Vb||Tb){var l=b.createElement("input");l.style.cssText="position:fixed;width:0;height:0";
this.f().appendChild(l);l.focus();this.f().removeChild(l)}h.focus()}catch(m){}break}}}}if(this.ra=a)this.k.e(this.yc,P,this.NG);else{this.k.ca(this.yc,P,this.NG);this.dispatchEvent("afterhide");this.WC&&this.o()}}};o.Ka=function(){return this.ra};
o.aI=function(){this.Hb&&W(this.Hb,d);this.mb&&W(this.mb,d);var a=this.O.za,b=rc(a)||window,c=pc(b),e=a.body.scrollWidth,f=Math.max(a.body.scrollHeight,c.height);if(this.Hb){W(this.Hb,j);wf(this.Hb,e,f)}if(this.mb){W(this.mb,j);wf(this.mb,e,f)}if(this.sm){var g=xf(this.f());this.te.Yw=new $e(0,0,e-g.width,f-g.height)}};
o.fc=function(){var a=this.O.za,b=rc(a)||window;if(jf(this.f())=="fixed")var c=0,e=0;else var f=this.O.yi(),c=f.x,e=f.y;var g=xf(this.f()),h=pc(b),l=Math.max(c+h.width/2-g.width/2,0),m=Math.max(e+h.height/2-g.height/2,0);kf(this.f(),l,m)};o.WG=function(){var a=this.gb,b=a&&a.ei;if(b){var c=a.get(b);this.dispatchEvent(new Zg(b,c))&&this.P(d)}else this.P(d)};o.aZ=function(a){this.WC=a};
o.C=function(){Xg.b.C.call(this);if(this.k){this.k.o();this.k=i}if(this.Bm){this.Bm.o();this.Bm=i}if(this.mb){L(this.mb);this.mb=i}if(this.Hb){L(this.Hb);this.Hb=i}this.Rz=this.yc=this.Ag=i};o.he=function(a){this.gb=a;this.yc&&this.gb.Ut(this.yc)};o.NG=function(a){var b=this.FP(a.target);if(b){var c=b.name,e=this.gb.get(c);this.dispatchEvent(new Zg(c,e))&&this.P(d)}};o.FP=function(a){var b=a;for(;b!=i&&b!=this.yc;){if(b.tagName=="BUTTON")return b;b=b.parentNode}return i};
o.Jr=function(a){var b=this.gb;if(a.keyCode==27){var c=b&&b.ei;if(c){var e=b.get(c);this.dispatchEvent(new Zg(c,e))&&this.P(d)}else this.P(d);a.stopPropagation()}else if(a.keyCode==13){var f=a.target&&a.target.tagName=="BUTTON"?a.target.name:b&&b.Nu;if(f&&this.dispatchEvent(new Zg(f,String(b.get(f))))){this.P(d);a.preventDefault()}a.stopPropagation()}else if(a.keyCode==9&&a.shiftKey&&a.target==this.f()){a.preventDefault();a.stopPropagation()}};o.Kr=function(){this.aI()};
o.Tk=function(a){this.Rz==a.target&&ye(this.KP,0,this)};o.KP=function(){D&&this.O.za.body.focus();this.f().focus()};var Zg=function(a,b){this.type="dialogselect";this.Da=a;this.caption=b};t(Zg,O);var $g="dialogselect",Yg=function(a){this.O=a||kc();Rc.call(this)},Wg,ah;t(Yg,Rc);o=Yg.prototype;o.Nu=i;o.j=i;o.ei=i;o.Z=function(a,b,c,e){Rc.prototype.Z.call(this,a,b);if(c)this.Nu=a;if(e)this.ei=a;return this};o.Ut=function(a){this.j=a;this.G()};
o.G=function(){if(this.j){this.j.innerHTML="";var a=kc(this.j);Qc(this,function(b,c){this.j.appendChild(a.r("button",{name:c},b))},this)}};o.qa=function(a){if(!(!a||a.nodeType!=1)){this.j=a;var b=this.j.getElementsByTagName("button"),c=0,e,f,g;for(;e=b[c];c++){f=e.name||e.id;g=Ic(e)||e.value;f&&this.Z(f,g,c==0,e.name==bh)}}};o.tQ=function(a){var b=this.pQ(),c=0,e;for(;e=b[c];c++)if(e.name==a||e.id==a)return e;return i};o.pQ=function(){return this.j.getElementsByTagName("BUTTON")};
var bh="cancel",ch="continue";(function(){Wg=(new Yg).Z("ok","OK",j).Z(bh,"Cancel",d,j);ah=(new Yg).Z("yes","Yes",j).Z("no","No",d,j)})();var dh=function(a){return"We are unable to find "+(a+".")},eh=function(a){return"Please enter a location in the '"+(a+"' field.")};var fh="Click the map or drag the marker to adjust location.",gh="Loading&#8230;";var hh="Report inappropriate content";
var ih=(function(){return'<div class="lhcl_search_results_no_results">There were no items that matched <span class="lhcl_search_results_query">{query}</span> found in {corpusName}.<div class="lhcl_search_results_help"><div>In order to find more items, consider the following tips:</div><div><ul><li>Choosing the right search terms is the key to finding the information you need.  Start with the obvious - if you\'re looking for items related to <b>Hawaii</b> try typing "<b>Hawaii</b>".</li><li>It\'s often advisable to use multiple search terms. For example, if you\'re looking for items of a Hawaiian vacation, type "<b>vacation Hawaii</b>".</li><li>Don\'t worry about capitalization. Google searches are not case sensitive.</li><li>Sometimes you\'ll only want results that include an exact phrase. In this case, simply put quotation marks around your search terms. For example, you could type "the long and winding road".</li></ul></div></div>'})(),jh=
"Sign-in required to view.";
var kh="Photo information",lh=function(a){var b='<a href="'+a+'">Activate</a> your free Picasa Web Albums account.',c='<a href="'+a+'">Activate</a> your free Google Photos account.';return _features.PWA_NEWUI?b:c},mh=function(a,b){var c='<a href="'+a+'">'+("Sign in"+("</a>"+(" if you have a Picasa Web Albums account, or "+('<a href="'+b+'">sign up</a> for a free account.')))),e='<a href="'+a+'">'+("Sign in"+("</a>"+(" if you have a Google Photos account, or "+('<a href="'+b+'">sign up</a> for a free account.'))));
return _features.PWA_NEWUI?c:e},nh=function(a,b){return"Your comment is "+(a+(" characters long. ("+(b+" maximum)")))};var oh=function(a,b){return"We're sorry, the maximum length for flagging messages is "+(b+(" characters. You are currently using "+(a+" characters. Please modify your message and try again.")))};var ph=function(a){return a+"KB"};var qh="Powered by Google Translate";var rh=function(){return Dg.call(this)};t(rh,Dg);fa(rh);var sh="goog-menuseparator";rh.prototype.r=function(a){return a.O.r("div",{"class":this.da()})};rh.prototype.qa=function(a,b){if(b.tagName=="HR"){var c=b;b=this.r(a);tc(b,c);L(c)}else dc(b,this.da());return b};rh.prototype.ub=function(){};rh.prototype.da=function(){return sh};var th=function(a,b){Pg.call(this,i,a||rh.wa(),b);this.wg(1,d);this.wg(2,d);this.wg(4,d);this.wg(32,d);this.YI(1)};t(th,Pg);th.prototype.A=function(){th.b.A.call(this);vg(this.f(),"separator")};Ng(sh,function(){return new th});var uh=function(){};fa(uh);o=uh.prototype;o.hg=function(){return undefined};o.AT=function(a){if(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){var c=a.tabIndex;return la(c)&&c>=0}}return d};o.jv=function(a,b){if(a)a.tabIndex=b?0:-1};o.r=function(a){return a.O.r("div",{"class":this.eh(a).join(" ")})};o.Sa=function(a){return a};o.Ac=function(a){return a.tagName=="DIV"};
o.qa=function(a,b){b.id&&a.ps(b.id);var c=this.da(),e=d,f=cc(b);f&&v(f,function(g){if(g==c)e=j;else g&&this.j_(a,g,c)},this);e||dc(b,c);this.yO(a,b);return b};o.j_=function(a,b,c){if(b==c+"-disabled")a.Va(d);else if(b==c+"-horizontal")a.dz(vh);else b==c+"-vertical"&&a.dz(wh)};
o.yO=function(a,b){if(b){var c=b.firstChild,e;for(;c&&c.parentNode==b;){e=c.nextSibling;if(c.nodeType==1){var f=this.Gm(c);if(f){f.Zb(c);a.rb()||f.Va(d);a.H(f);f.qa(c)}}else if(!c.nodeValue||ob(c.nodeValue)=="")b.removeChild(c);c=e}}};o.Gm=function(a){return Og(a)};o.wk=function(a){var b=a.f();Df(b,j,E);if(D)b.hideFocus=j;var c=this.hg();c&&vg(b,c);if(a.Ua==vh&&E&&!ac("1.9a")&&a.Ak()){var e=this.Sa(b);a.Wd(function(f){var g=f.f();g&&g.parentNode==e&&xh(f)})}};o.Tb=function(a){return a.f()};o.da=function(){return"goog-container"};
o.eh=function(a){var b=this.da(),c=[b,b+(a.Ua==vh?"-horizontal":"-vertical")];a.rb()||c.push(this.da()+"-disabled");return c};o.LD=function(){return wh};var xh=function(a){var b=a.f();if(b){var c=b.nextSibling;b.parentNode.insertBefore(a.O.r("div",{style:a instanceof th?"display:-moz-box;position:relative;top:4px":"display:-moz-box;position:relative"},b),c)}},yh=function(a){var b=a.f();if(b){var c=b.parentNode;c.parentNode.insertBefore(b,c);L(c)}};var zh=function(a,b,c){X.call(this,c);this.$=b||uh.wa();this.Ua=a||this.$.LD()};t(zh,X);var vh="horizontal",wh="vertical";o=zh.prototype;o.i=i;o.DU=i;o.cb=i;o.$=i;o.Ua=i;o.ra=j;o.Kb=j;o.tv=j;o.$d=-1;o.Xb=i;o.xx=d;o.wM=d;o.Og=i;o.lf=function(){return this.i||(this.i=new T(this))};o.Tb=function(){return this.DU||this.$.Tb(this)};o.jq=function(){return this.cb||(this.cb=new xg(this.Tb()))};o.r=function(){this.Zb(this.$.r(this))};o.Sa=function(){return this.$.Sa(this.f())};o.Ac=function(a){return this.$.Ac(a)};
o.ea=function(a){this.Zb(this.$.qa(this,a));if(a.style.display=="none")this.ra=d};o.A=function(){zh.b.A.call(this);var a=this.f();this.$.wk(this);this.P(this.ra,j);this.lf().e(this,"enter",this.Xv).e(this,"highlight",this.Zv).e(this,If,this.jw).e(this,"open",this.SS).e(this,"close",this.PR).e(a,R,this.ng).e(jc(a),ke,this.fS).e(a,[R,ke,Md,Nd],this.OR);this.xh()&&this.lD(j)};
o.lD=function(a){var b=this.lf(),c=this.Tb();a?b.e(c,pe,this.Ii).e(c,oe,this.Gi).e(this.jq(),"key",this.De):b.ca(c,pe,this.Ii).ca(c,oe,this.Gi).ca(this.jq(),"key",this.De)};o.K=function(){zh.b.K.call(this);this.uo(-1);this.i&&this.i.Y();this.Xb&&this.Xb.$b(d);this.xx=d};o.C=function(){zh.b.C.call(this);if(this.i){this.i.o();this.i=i}if(this.cb){this.cb.o();this.cb=i}this.$=this.Xb=this.Og=i};o.Xv=function(){return j};
o.Zv=function(a){var b=this.Wm(a.target);if(b>-1&&b!=this.$d){var c=this.zi();c&&c.ud(d);this.$d=b;c=this.zi();this.xx&&c.setActive(j);if(this.Xb&&c!=this.Xb)c.Xc(64)?c.$b(j):this.Xb.$b(d)}wg(this.f(),ug,a.target.f().id)};o.jw=function(a){if(a.target==this.zi())this.$d=-1;wg(this.f(),ug,i)};o.SS=function(a){var b=a.target;if(b&&b!=this.Xb&&b.V==this){this.Xb&&this.Xb.$b(d);this.Xb=b}};o.PR=function(a){if(a.target==this.Xb)this.Xb=i};
o.ng=function(a){this.Kb&&this.oj(j);var b=this.Tb();this.$.AT(b)?b.focus():a.preventDefault()};o.fS=function(){this.oj(d)};o.OR=function(a){var b=this.$Q(a.target);if(b)switch(a.type){case R:b.ng(a);break;case ke:b.Pm(a);break;case Md:b.ok(a);break;case Nd:b.bw(a);break}};o.$Q=function(a){if(this.Og){var b=this.f();for(;a&&a.parentNode&&a!=b;){var c=a.id;if(c in this.Og)return this.Og[c];a=a.parentNode}}return i};o.Ii=function(){};o.Gi=function(){this.uo(-1);this.oj(d);this.Xb&&this.Xb.$b(d)};
o.De=function(a){if(this.rb()&&this.xi()!=0&&this.kk(a)){a.preventDefault();a.stopPropagation();return j}return d};
o.kk=function(a){var b=this.zi();if(b&&typeof b.De=="function"&&b.De(a))return j;if(this.Xb&&this.Xb!=b&&typeof this.Xb.De=="function"&&this.Xb.De(a))return j;switch(a.keyCode){case 27:if(this.xh())this.Tb().blur();else return d;break;case 36:this.JT();break;case 35:this.KT();break;case 38:if(this.Ua==wh)this.sw();else return d;break;case 37:if(this.Ua==vh)this.Ak()?this.rw():this.sw();else return d;break;case 40:if(this.Ua==wh)this.rw();else return d;break;case 39:if(this.Ua==vh)this.Ak()?this.sw():
this.rw();else return d;break;default:return d}return j};o.Kt=function(a,b,c){a.to(2,j);a.to(64,j);if(this.xh()||!this.wM)a.wg(32,d);a.Uy(d);zh.b.Kt.call(this,a,b,c);var e=a.f();if(e){if(!e.id)e.id=a.F();if(!this.Og)this.Og={};ab(this.Og,e.id,a)}c&&this.N&&this.Ak()&&this.Ua==vh&&E&&!ac("1.9a")&&xh(a);b<=this.$d&&this.$d++};
o.removeChild=function(a,b){var c=this.Wm(a);if(c!=-1)if(c==this.$d)a.ud(d);else c<this.$d&&this.$d--;b&&this.N&&this.Ak()&&this.Ua==vh&&E&&!ac("1.9a")&&yh(a);var e=a.f();e&&e.id&&Za(this.Og,e.id);a=zh.b.removeChild.call(this,a,b);a.Uy(j);return a};o.dz=function(a){if(this.f())k(Error(Kf));this.Ua=a};o.Ka=function(){return this.ra};o.P=function(a,b){if(b||this.ra!=a&&this.dispatchEvent(a?"show":"hide")){this.ra=a;var c=this.f();if(c){W(c,a);this.xh()&&this.$.jv(this.Tb(),this.Kb&&this.ra)}return j}return d};
o.rb=function(){return this.Kb};o.Va=function(a){if(this.Kb!=a&&this.dispatchEvent(a?Hf:Gf)){if(a){this.Kb=j;this.Wd(function(b){if(b.sK)delete b.sK;else b.Va(j)})}else{this.Wd(function(b){if(b.rb())b.Va(d);else b.sK=j});this.Kb=d;this.oj(d)}this.xh()&&this.$.jv(this.Tb(),a&&this.ra)}};o.xh=function(){return this.tv};o.Af=function(a){a!=this.tv&&this.N&&this.lD(a);this.tv=a;this.Kb&&this.ra&&this.$.jv(this.Tb(),a)};o.uo=function(a){var b=this.kf(a);if(b)b.ud(j);else this.$d>-1&&this.zi().ud(d)};
o.ud=function(a){this.uo(this.Wm(a))};o.zi=function(){return this.kf(this.$d)};o.JT=function(){this.Hq(function(a,b){return(a+1)%b},this.xi()-1)};o.KT=function(){this.Hq(function(a,b){a--;return a<0?b-1:a},0)};o.rw=function(){this.Hq(function(a,b){return(a+1)%b},this.$d)};o.sw=function(){this.Hq(function(a,b){a--;return a<0?b-1:a},this.$d)};o.Hq=function(a,b){var c=b<0?this.Wm(this.Xb):b,e=this.xi();c=a(c,e);var f=0;for(;f<=e;){var g=this.kf(c);if(g&&this.RB(g)){this.mZ(c);return j}f++;c=a(c,e)}return d};
o.RB=function(a){return a.Ka()&&a.rb()&&a.Xc(2)};o.mZ=function(a){this.uo(a)};o.oj=function(a){this.xx=a};var Ah="gallery";var Bh;var Ch=function(a){Bh=a=a.replace(/-/g,"_")},Dh=function(){if(Bh==i)Bh="en";return Bh},Eh="DateTimeConstants",Gh=function(a,b,c){Fh[b]||(Fh[b]={});Fh[b][c]=a;if(Bh==i)Bh=c},Fh={},Hh=function(a,b){Gh(a,Eh,b)},Ih=function(a,b){var c=b?b:Dh();if(!(a in Fh))return undefined;return Fh[a][c]};var Jh=function(){},Lh=function(a){if(typeof a=="number")return Kh(a);var b=new Jh;b.LJ=a.id;b.tJ=-a.std_offset;b.dA=a.names;b.Ys=a.transitions;return b},Kh=function(a){var b=new Jh;b.tJ=a;b.LJ=Mh(a);var c=Nh(a);b.dA=[c,c];b.Ys=[];return b},Oh=function(a){var b=["GMT"];b.push(a<=0?"+":"-");a=Math.abs(a);b.push(Fb(Math.floor(a/60)%100,2),":",Fb(a%60,2));return b.join("")},Mh=function(a){if(a==0)return"Etc/GMT";var b=["Etc/GMT",a<0?"-":"+"];a=Math.abs(a);b.push(Math.floor(a/60)%100);a=a%60;a!=0&&b.push(":",
Fb(a,2));return b.join("")},Nh=function(a){if(a==0)return"UTC";var b=["UTC",a<0?"+":"-"];a=Math.abs(a);b.push(Math.floor(a/60)%100);a=a%60;a!=0&&b.push(":",a);return b.join("")};o=Jh.prototype;o.JD=function(a){var b=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes())/3600000,c=0;for(;c<this.Ys.length&&b>=this.Ys[c];)c+=2;return c==0?0:this.Ys[c-1]};o.GQ=function(a){return Oh(this.Hv(a))};o.TQ=function(a){return this.dA[this.BF(a)?3:1]};
o.Hv=function(a){return this.tJ-this.JD(a)};o.iR=function(a){var b=-this.Hv(a),c=[b<0?"-":"+"];b=Math.abs(b);c.push(Fb(Math.floor(b/60)%100,2),Fb(b%60,2));return c.join("")};o.qR=function(a){return this.dA[this.BF(a)?2:0]};o.BF=function(a){return this.JD(a)>0};var Ph=function(){this.W=Ih("DateTimeConstants",Dh());this.fb=[]},Qh=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];o=Ph.prototype;o.Ve=function(a){for(;a;){var b=0;for(;b<Qh.length;++b){var c=a.match(Qh[b]);if(c){var e=c[0];a=a.substring(e.length);if(b==0)if(e=="''")e="'";else{e=e.substring(1,e.length-1);e=e.replace(/\'\'/,"'")}this.fb.push({text:e,type:b});break}}}};
o.Dm=function(a,b){b||(b=Lh(a.getTimezoneOffset()));var c=(a.getTimezoneOffset()-b.Hv(a))*60000,e=c?new Date(a.getTime()+c):a,f=e;if(e.getTimezoneOffset()!=a.getTimezoneOffset()){c+=c>0?-86400000:86400000;f=new Date(a.getTime()+c)}var g=[],h=0;for(;h<this.fb.length;++h){var l=this.fb[h].text;1==this.fb[h].type?g.push(this.WP(l,a,e,f,b)):g.push(l)}return g.join("")};
o.bi=function(a){var b;if(a<4)b=this.W.Of[a];else if(a<8)b=this.W.Sl[a-4];else if(a<12)b=this.W.Of[a-8]+" "+this.W.Sl[a-8];else this.bi(10);this.Ve(b)};o.VP=function(a,b){var c=b.getFullYear()>0?1:0;return a>=4?this.W.JA[c]:this.W.wt[c]};o.fQ=function(a,b){var c=b.getFullYear();if(c<0)c=-c;return a==2?Fb(c%100,2):String(c)};o.ZP=function(a,b){var c=b.getMonth();switch(a){case 5:return this.W.VA[c];case 4:return this.W.Xh[c];case 3:return this.W.At[c];default:return Fb(c+1,a)}};
o.QP=function(a,b){return Fb(b.getHours()||24,a)};o.XP=function(a,b){return(b.getTime()%1000/1000).toFixed(Math.min(3,a)).substr(2)+(a>3?Fb(0,a-3):"")};o.TP=function(a,b){var c=b.getDay();return a>=4?this.W.Ct[c]:this.W.Wo[c]};o.RP=function(a,b){var c=b.getHours();return this.W.vt[c>=12&&c<24?1:0]};o.PP=function(a,b){return Fb(b.getHours()%12||12,a)};o.NP=function(a,b){return Fb(b.getHours()%12,a)};o.OP=function(a,b){return Fb(b.getHours(),a)};
o.bQ=function(a,b){var c=b.getDay();switch(a){case 5:return this.W.M1[c];case 4:return this.W.P1[c];case 3:return this.W.O1[c];default:return Fb(c,1)}};o.cQ=function(a,b){var c=b.getMonth();switch(a){case 5:return this.W.L1[c];case 4:return this.W.K1[c];case 3:return this.W.N1[c];default:return Fb(c+1,a)}};o.$P=function(a,b){var c=Math.floor(b.getMonth()/3);return a<4?this.W.bB[c]:this.W.aB[c]};o.SP=function(a,b){return Fb(b.getDate(),a)};o.YP=function(a,b){return Fb(b.getMinutes(),a)};
o.aQ=function(a,b){return Fb(b.getSeconds(),a)};o.dQ=function(a,b,c){return a<4?c.iR(b):c.GQ(b)};o.eQ=function(a,b,c){return a<4?c.qR(b):c.TQ(b)};
o.WP=function(a,b,c,e,f){var g=a.length;switch(a.charAt(0)){case "G":return this.VP(g,c);case "y":return this.fQ(g,c);case "M":return this.ZP(g,c);case "k":return this.QP(g,e);case "S":return this.XP(g,e);case "E":return this.TP(g,c);case "a":return this.RP(g,e);case "h":return this.PP(g,e);case "K":return this.NP(g,e);case "H":return this.OP(g,e);case "c":return this.bQ(g,c);case "L":return this.cQ(g,c);case "Q":return this.$P(g,c);case "d":return this.SP(g,c);case "m":return this.YP(g,e);case "s":return this.aQ(g,
e);case "v":return f.LJ;case "z":return this.eQ(g,b,f);case "Z":return this.dQ(g,b,f);default:return""}};var Rh=function(a,b,c){var e=new Ph;e.Ve(a);return e.Dm(b,c)},Sh=function(a,b,c){var e=new Ph;e.bi(a);return e.Dm(b,c)};var Th=/\s*;\s*/,Uh=function(a,b,c,e,f){if(/[;=]/.test(a))k(Error('Invalid cookie name "'+a+'"'));if(/;/.test(b))k(Error('Invalid cookie value "'+b+'"'));ba(c)||(c=-1);var g=f?";domain="+f:"",h=e?";path="+e:"",l;if(c<0)l="";else if(c==0)l=";expires="+(new Date(1970,1,1)).toUTCString();else{var m=new Date((new Date).getTime()+c*1000);l=";expires="+m.toUTCString()}document.cookie=a+"="+b+g+h+l},Vh=function(a,b){var c=a+"=",e=String(document.cookie).split(Th),f=0,g;for(;g=e[f];f++)if(g.indexOf(c)==0)return g.substr(c.length);
return b},Xh=function(a,b,c){var e=Wh(a);Uh(a,"",0,b,c);return e},Wh=function(a){var b={};return Vh(a,b)!==b};var Yh="dialogopen",Zh="dialogclose",$h=function(a,b){if(ka(b))b=new O(b,a);else b.target=b.target||a;return te(p,b.type,d,b)};var ai=/\{(\w*)\}/g,bi=function(a,b){var c=b||{};return a.replace(ai,function(e,f){return ba(c[f])?c[f]:""})},ci=J("div"),di=function(a,b){ci.innerHTML=bi(a,b);return L(ci.firstChild)};function ei(a,b){var c=H(b);if(c)c.style.visibility=a?"":"hidden"}function fi(a,b){return function(c){if(!c)c=window.event;if(c&&!c.target)c.target=c.srcElement;b.call(a,c)}}function gi(a,b,c){if(a.addEventListener)a.addEventListener(b,c,d);else a.attachEvent&&a.attachEvent("on"+b,c)}function hi(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,d);else a.detachEvent&&a.detachEvent("on"+b,c)}
function ii(a){if(window.event){a.cancelBubble=j;a.returnValue=d}else if(a){a.cancelBubble=j;if(a.preventDefault){a.preventDefault();a.stopPropagation()}}}function ji(a,b){if(!!(a&&b)){sc(a);K(a,b)}}
function ki(a,b){var c=[],e=0,f=0,g=b||20,h=/[-.,?!\/\\#]/,l=-1,m=0;for(;m<a.length;m++){var n=a.charAt(m);if(n.search(/\s/)==0)e=0;else if(n=="<")for(;n&&n!=">";)n=a.charAt(++m);else{if(e>=g){var q=a.substring(f,m);if(l>=f&&l<m){c.push(q.substring(0,l-f+1));e=m-l-1;f=l+1}else{c.push(a.substring(f,m));e=0;f=m}}if(n=="&")for(;n&&n!=";";)n=a.charAt(++m);else if(n.search(h)==0)l=m;e++}}if(c.length){var u=E?"<wbr />":"&shy;";c.push(a.substring(f));return c.join(u)}else return a}var li,mi;
(function(){var a="(?:(?:(?:\\d{1,3}\\.){3}\\d{1,3})|(?:(?:[a-z0-9\\-]+\\.)+(?:aero|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|travel|[a-z]{2})\\b))",b="a-z0-9/~?&;=%@+$#_\\-",c="\\b(?:https?://)?"+a+"(?::\\d+)?(?:"+("/(?:["+b+",:\\.]*["+b+"])?")+")?";li=new RegExp("("+("\\b[a-z0-9_.+\\-]+@"+a)+")","gi");mi=new RegExp("("+c+")","gi")})();
function ni(a,b){var c=a.split(/\s/),e='<a href="http://$1" rel="nofollow">$1</a>';if(b)e='<a href="http://$1" rel="nofollow" target="_blank">$1</a>';var f=0;for(;f<c.length;f++){var g=c[f];if(g.search(li)>=0){g=g.replace(li,'<a href="mailto:$1">$1</a>');c[f]=g}else if(g.search(mi)>=0){g=g.replace(mi,e);g=g.replace(/http:\/\/(https?:\/\/)/,"$1");c[f]=g}}return c.join(" ")}function oi(){this.gW=0;this.Hr={};this.iC=r(this.JK,this);gi(window,"unload",this.iC)}
oi.prototype.Wh=function(a){a.fB=this.gW++;this.Hr[a.fB]=a};oi.prototype.Yh=function(a){delete this.Hr[a.fB]};oi.prototype.JK=function(){for(var a in this.Hr){var b=this.Hr[a];b&&b.jc&&b.jc()}hi(window,"unload",this.iC)};function pi(){$h(p,"gphotounload");ie();typeof GUnload!="undefined"&&GUnload()}Q(p,"unload",pi);var qi=bi,ri=di,si={},ti={};function $(a){a=a||"_";var b=si[a]||0,c=a||"";if(b)c+="_"+b;si[a]=b+1;return c}function ui(a,b){ti[a]=b}
function vi(a){ti[a]&&delete ti[a];if(si[a]==1)si[a]=0}function wi(a){var b=[],c=1;for(;c<arguments.length;c++)b.push(arguments[c]);b.push(a);ti[a]&&ti[a].apply(this,b)}function xi(a){var b=a.split(/\,/);if(b.length!=3)return i;var c=parseInt(b[0],10),e=parseInt(b[1],10),f=parseInt(b[2],10);if(c<1)return i;if(e<1||e>12)return i;return new Date(f,e-1,c)}function yi(a,b){var c=Ih(Eh);return Rh(c.Of[b],a)}function zi(a,b){if(b<0||b>3)return a;var c=xi(a);if(c==i)return a;return yi(c,b)}
function Ai(a,b,c,e){e<0||e>3||typeof a!="number"||typeof b!="number"||typeof c!="number"||a<1||b<1||b>12||document.write(yi(new Date(c,b-1,a),e))}function Bi(){var a=lc("div","lhcl_wrap");v(a,function(b){ec(b,"lhcl_wrap");Ci(b)})}function Ci(a){Di(a,0,"",0)}
function Di(a,b,c,e){if(!!a)if(b<1&&D)a.style.wordWrap="break-word";else{var f=-1;if(b>0){a.innerHTML="g";var g=1;for(;g<b;g++)a.innerHTML=a.innerHTML+"<br />g";f=a.offsetHeight;a.innerHTML=c;if(a.offsetWidth<=e&&a.offsetHeight<=f)return}if(!!a.hasChildNodes()){var h=a.firstChild;if(!(h.nodeValue.length<1)){var l=0,m=0,n=h.nodeValue.length,q=5,u=a.style.width;if(u&&u.length>0){var x=parseInt(u,10);q=Math.max(5,Math.floor(x/15))}for(;l<n;){var z=Math.min(h.nodeValue.length,m+q),G=h.nodeValue.substring(m,
z).search(/\s/);if(G>-1||z<n){var M=G>-1?G+1:q,Z=h.splitText(G>-1?G+1:z);if(f>0){a.removeChild(Z);if(a.offsetHeight>f){a.innerHTML=a.innerHTML+"&#8230;";l=n}else{var Ia=J("wbr");a.appendChild(Ia);a.appendChild(Z);h=Z;m=0;l+=M}}else{var Ia=J("wbr");a.insertBefore(Ia,Z);h=Z;m=0;l+=M}}else l=n}if(f>0)for(;a.offsetHeight>f&&a.childNodes.length>2;){a.removeChild(a.lastChild);a.removeChild(a.lastChild);a.innerHTML=a.innerHTML+"&#8230;"}}}}}
function Ei(){Uh("_lh_backLink",location.pathname+location.search+location.hash)}function Fi(a){var b=H("lhid_flash_inter_frame");if(b){if(document.body.firstChild!=b){document.body.removeChild(b);document.body.insertBefore(b,document.body.firstChild)}kf(b,of(a));wf(b,xf(a));W(b,j)}}function Gi(){var a=H("lhid_flash_inter_frame");a&&W(a,d)};var Hi=Fe("dialog",1),Ii=function(){Hi(0)},Ji=function(){Hi(5)},Ki=function(){_user.noalbums?Hi(2):Hi(1)};var Li=function(a,b,c){return Math.min(Math.max(a,b),c)};var Ni=function(a,b,c,e,f,g,h,l){var m,n=c.offsetParent;if(n&&(n.tagName!="BODY"||jf(n)!="static"))m=of(n);var q=of(a),u=m?new w(q.x-m.x,q.y-m.y):q,x=xf(a),z=(b&4&&rf(a)?b^2:b)&-5;u.x+=z&2?x.width:0;u.y+=z&1?x.height:0;if(f){u.x+=(z&2?-1:1)*f.x;u.y+=(z&1?-1:1)*f.y}var G;if(h)if((G=qf(c))&&m){G.top=Math.max(0,G.top-m.y);G.right-=m.x;G.bottom-=m.y;G.left=Math.max(0,G.left-m.x)}return Mi(u,c,e,g,G,h,l)},Mi=function(a,b,c,e,f,g,h){var l=0,m=(c&4&&rf(b)?c^2:c)&-5,n=xf(b),q=h?h.Ma():n;if(e||m!=0){if(m&
2)a.x-=q.width+(e?e.right:0);else if(e)a.x+=e.left;if(m&1)a.y-=q.height+(e?e.bottom:0);else if(e)a.y+=e.top}if(g){l=f?Oi(a,q,f,g):256;if(l&496)return l}kf(b,a);Ua(n,q)||wf(b,q);return l},Oi=function(a,b,c,e){var f=0;if(a.x<c.left&&e&1){a.x=c.left;f|=1}if(a.x<c.left&&a.x+b.width>c.right&&e&16){b.width-=a.x+b.width-c.right;f|=4}if(a.x+b.width>c.right&&e&1){a.x=Math.max(c.right-b.width,c.left);f|=1}if(e&2)f|=(a.x<c.left?16:0)|(a.x+b.width>c.right?32:0);if(a.y<c.top&&e&4){a.y=c.top;f|=2}if(a.y>=c.top&&
a.y+b.height>c.bottom&&e&32){b.height-=a.y+b.height-c.bottom;f|=8}if(a.y+b.height>c.bottom&&e&4){a.y=Math.max(c.bottom-b.height,c.top);f|=2}if(e&8)f|=(a.y<c.top?64:0)|(a.y+b.height>c.bottom?128:0);return f};var Pi=function(){};Pi.prototype.fc=function(){};var Qi=function(a,b){this.$a=a;this.ii=b};t(Qi,Pi);Qi.prototype.fc=function(a,b,c){Ni(this.$a,this.ii,a,b,undefined,c)};var Ri=function(a,b){this.zu=a instanceof w?a:new w(a,b)};t(Ri,Pi);Ri.prototype.fc=function(a,b,c,e){Ni(lf(a),0,a,b,this.zu,c,i,e)};var Si=function(a,b,c){Qi.call(this,a,b);this.qM=c};t(Si,Qi);Si.prototype.fc=function(a,b,c,e){var f=Ni(this.$a,this.ii,a,b,i,c,10,e)&496;if(f)if(f=Ni(this.$a,b,a,this.ii,i,c,10,e)&496)this.qM?Ni(this.$a,this.ii,a,b,i,c,5,e):Ni(this.$a,this.ii,a,b,i,c,0,e)};var Ti=function(a,b){this.i=new T(this);this.Qy(a||i);b&&this.p_(b)};t(Ti,S);var Ui="toggle_display",Vi="move_offscreen";o=Ti.prototype;o.j=i;o.LM=j;o.CB=i;o.Ic=d;o.H_=d;o.OF=-1;o.KF=-1;o.HT=d;o.iP=j;o.S=Ui;o.p_=function(a){this.S=a};o.f=function(){return this.j};o.Qy=function(a){this.pP();this.j=a};o.pP=function(){if(this.Ic)k(Error("Can not change this state of the popup while showing."))};o.Ka=function(){return this.Ic};
o.P=function(a){if(a){if(!this.j)k(Error("Caller must call setElement before trying to show thepopup"));this.T_()}else this.Gq()};o.fc=function(){};
o.T_=function(){if(!this.Ic)if(!!this.Qx()){this.fc();var a=jc(this.j);this.HT&&this.i.e(a,me,this.kW,j);if(this.LM){this.i.e(a,R,this.PG,j);if(D){var b=a.activeElement;for(;b&&b.nodeName=="IFRAME";){try{var c=Ac(b)}catch(e){break}a=c;b=a.activeElement}this.i.e(a,R,this.PG,j);this.i.e(a,"deactivate",this.OG)}else this.i.e(a,oe,this.OG)}if(this.S==Ui)this.Q_();else this.S==Vi&&this.fc();this.Ic=j;this.Kn()}};
o.Gq=function(a){if(!this.Ic||!this.iW(a))return d;this.i&&this.i.Y();if(this.S==Ui)this.H_?ye(this.UE,0,this):this.UE();else this.S==Vi&&this.OV();this.Ic=d;this.Gn(a);return j};o.Q_=function(){this.j.style.visibility="visible";W(this.j,j)};o.UE=function(){this.j.style.visibility="hidden";W(this.j,d)};o.OV=function(){this.j.style.left="-200px";this.j.style.top="-200px"};o.Qx=function(){return this.dispatchEvent("beforeshow")};o.Kn=function(){this.OF=s();this.KF=-1;this.dispatchEvent("show")};
o.iW=function(a){return this.dispatchEvent({type:"beforehide",target:a})};o.Gn=function(a){this.KF=s();this.dispatchEvent({type:"hide",target:a})};o.PG=function(a){var b=a.target;if(!zc(this.j,b)&&(!this.CB||zc(this.CB,b))&&!this.hJ())this.Gq(b)};o.kW=function(a){if(a.keyCode==27)if(this.Gq(a.target)){a.preventDefault();a.stopPropagation()}};o.OG=function(a){if(!!this.iP){var b=jc(this.j);if(D||Tb){var c=b.activeElement;if(c&&zc(this.j,c))return}else if(a.target!=b)return;this.hJ()||this.Gq()}};
o.hJ=function(){return s()-this.OF<150};o.C=function(){Ti.b.C.call(this);this.i.o();delete this.j;delete this.i};var Wi=function(a,b){this.VW=4;this.cy=b||undefined;Ti.call(this,a)};t(Wi,Ti);Wi.prototype.UI=function(a){this.cy=a||undefined;this.Ic&&this.fc()};Wi.prototype.fc=function(){if(!!this.cy){var a=!this.Ic&&this.S!=Vi,b=this.j;if(a){this.j.style.visibility="hidden";W(b,j)}this.cy.fc(b,this.VW,this.D2);a&&W(b,d)}};var Xi=function(a,b,c){this.O=c||(a?kc(H(a)):kc());Wi.call(this,this.O.r("div",{style:"position:absolute;display:none;"}));this.Sg=new w(1,1);this.Pb=i;this.Tc=new Vc;a&&this.dm(a);b!=i&&this.aJ(b)};t(Xi,Wi);var Yi=[];o=Xi.prototype;o.className="goog-tooltip";o.K_=500;o.qw=0;o.dm=function(a){a=H(a);this.Tc.add(a);Q(a,Md,this.ok,d,this);Q(a,Nd,this.wq,d,this);Q(a,le,this.mk,d,this);Q(a,pe,this.Ii,d,this);Q(a,oe,this.wq,d,this)};
o.detach=function(a){if(a){var b=H(a);this.NC(b);this.Tc.remove(b)}else{var c=this.Tc.Uc(),b,e=0;for(;b=c[e];e++)this.NC(b);this.Tc.clear()}};o.NC=function(a){ee(a,Md,this.ok,d,this);ee(a,Nd,this.wq,d,this);ee(a,le,this.mk,d,this);ee(a,pe,this.Ii,d,this);ee(a,oe,this.wq,d,this)};o.lZ=function(a){this.qw=a};o.SD=function(){return this.qw};o.aJ=function(a){N(this.f(),a)};o.qZ=function(a){this.f().innerHTML=a};o.Qy=function(a){var b=this.f();b&&L(b);Xi.b.Qy.call(this,a);a&&K(this.O.za.body,a)};
o.Lm=function(){return this.Al?this.Ka()?4:1:this.rk?3:this.Ka()?2:0};o.Uq=function(a){if(!this.Ka())return d;var b=of(this.f()),c=xf(this.f());return b.x<=a.x&&a.x<=b.x+c.width&&b.y<=a.y&&a.y<=b.y+c.height};o.Qx=function(){if(!Ti.prototype.Qx.call(this))return d;if(this.anchor){var a,b=0;for(;a=Yi[b];b++)zc(a.f(),this.anchor)||a.P(d)}Fa(Yi,this);var c=this.f();c.className=this.className;this.jm();Q(c,Md,this.iw,d,this);Q(c,Nd,this.GE,d,this);this.ou();return j};
o.Gn=function(){Ka(Yi,this);var a=this.f(),b,c=0;for(;b=Yi[c];c++)b.anchor&&zc(a,b.anchor)&&b.P(d);this.fH&&this.fH.Is();ee(a,Md,this.iw,d,this);ee(a,Nd,this.GE,d,this);this.anchor=undefined;if(this.Lm()==0)this.Ey=d;Ti.prototype.Gn.call(this)};o.tV=function(a,b){if(this.anchor==a)if(this.Ey||!this.V2){this.P(d);this.Ka()||this.XW(a,b)}else this.anchor=undefined;this.Al=undefined};o.XW=function(a,b){var c;if(b)c=b;else{var e=new w(this.Sg.x,this.Sg.y);c=new Zi(e)}this.anchor=a;this.UI(c);this.P(j)};
o.oG=function(a){this.rk=undefined;if(a==this.anchor)if((this.Pb==i||this.Pb!=this.f()&&!this.Tc.contains(this.Pb))&&!this.IE())this.P(d)};o.IE=function(){return!!(this.Lj&&this.Lj.Pb)};o.ok=function(a){var b=this.eq(a.target);this.Pb=b;this.jm();if(b!=this.anchor){this.anchor=b;this.yJ(b);this.XB()}};o.eq=function(a){try{for(;a&&!this.Tc.contains(a);)a=a.parentNode;return a}catch(b){return i}};o.mk=function(a){var b=this.O.yi();this.Sg.x=a.clientX+b.x;this.Sg.y=a.clientY+b.y;this.Ey=j};
o.Ii=function(a){var b=this.eq(a.target);this.Pb=b;this.Ey=j;if(this.anchor!=b){this.anchor=b;var c=new $i(this.Pb);this.jm();this.yJ(b,c);this.XB()}};o.XB=function(){if(this.anchor){var a,b=0;for(;a=Yi[b];b++)if(zc(a.f(),this.anchor)){a.Lj=this;this.fH=a}}};o.wq=function(a){var b=this.eq(a.target),c=this.eq(a.relatedTarget);if(!(b==c)){if(b==this.Pb)this.Pb=i;this.ou();if(this.Ka()&&(!a.relatedTarget||!zc(this.f(),a.relatedTarget)))this.Is();else this.anchor=i}};
o.iw=function(){var a=this.f();if(this.Pb!=a){this.jm();this.Pb=a}};o.GE=function(a){var b=this.f();if(this.Pb==b&&(!a.relatedTarget||!zc(b,a.relatedTarget))){this.Pb=i;this.Is()}};o.yJ=function(a,b){if(!this.Al)this.Al=ye(r(this.tV,this,a,b),this.K_)};o.ou=function(){if(this.Al){ze(this.Al);this.Al=undefined}};o.Is=function(){if(this.Lm()==2)this.rk=ye(r(this.oG,this,this.anchor),this.SD())};o.jm=function(){if(this.rk){ze(this.rk);this.rk=undefined}};
o.C=function(){var a=this.f();Xi.b.C.call(this);this.ou();this.detach();a&&L(a);this.Pb=i;delete this.O};var Zi=function(a,b){Ri.call(this,a,b)};t(Zi,Ri);Zi.prototype.fc=function(a,b,c){var e=lf(a),f=c?new Ye(c.top+10,c.right,c.bottom,c.left+10):new Ye(10,0,0,10);Ni(e,4,a,4,this.zu,f,9)&496&&Ni(e,4,a,5,this.zu,f,5)};var $i=function(a){Qi.call(this,a,3)};t($i,Qi);$i.prototype.fc=function(a,b,c){var e=new w(10,0);Ni(this.$a,this.ii,a,b,e,c,9)&496&&Ni(this.$a,2,a,1,e,c,5)};var aj=/^([0-9]{4})((-?([0-9]{2})(-?([0-9]{2}))?)|(-?([0-9]{3}))|(-?W([0-9]{2})(-?([1-7]))?))?$/,bj=/^([0-9]{2})(:?([0-9]{2})(:?([0-9]{2})(\.([0-9]+))?)?)?$/,cj=/Z|(([-+])([0-9]{2})(:?([0-9]{2}))?)$/;
var dj=function(a,b){switch(b){case 1:return a%4==0&&(a%100!=0||a%400==0)?29:28;case 5:case 8:case 10:case 3:return 30}return 31},ej=function(a,b,c,e,f){var g=new Date(a,b,c),h=e||3,l=f||0,m=((g.getDay()+6)%7-l+7)%7,n=(h-l+7)%7,q=g.valueOf()+(n-m)*86400000,u=(new Date((new Date(q)).getFullYear(),0,1)).valueOf();return Math.floor(Math.round((q-u)/86400000)/7)+1};
var hj=function(a,b){b=ob(b);var c=b.indexOf("T")==-1?" ":"T",e=b.split(c);a=fj(a,e[0]);if(e.length==2)a=gj(a,e[1]);return a},fj=function(a,b){if(!a)return i;var c=b.match(aj);if(!c)return i;var e=c[4],f=c[6],g=c[8],h=c[10],l=c[12]?c[12]:1;a.setFullYear(c[1]);if(g){a.setDate(1);a.setMonth(0);a.add(new ij("d",g-1))}else if(h)jj(a,h,l);else{if(e){a.setDate(1);a.setMonth(e-1)}f&&a.setDate(f)}return a},jj=function(a,b,c){a.setMonth(0);a.setDate(1);var e=a.getDay()||7;if(e<=4)var f=1-e;else f=8-e;var g=
Number(c)+7*(Number(b)-1),h=new ij("d",f+g-1);a.add(h)},gj=function(a,b){if(!a)return i;var c=b.match(cj),e=0;if(c){if(c[0]!="Z"){e=c[3]*60+Number(c[5]);e*=c[2]=="-"?1:-1}e-=a.getTimezoneOffset();b=b.substr(0,b.length-c[0].length)}c=b.match(bj);if(!c)return i;var f=c[3]||0,g=c[5]||0,h=c[7]?("0."+c[7])*1000:0;a.setHours(c[1]);a.setMinutes(f);a.setSeconds(g);a.setMilliseconds(h);e!=0&&a.setTime(a.getTime()+e*60000);return a},ij=function(a,b,c,e,f,g){if(ka(a)){var h=a,l=b;this.Mf=h=="y"?l:0;this.wf=
h=="m"?l:0;this.df=h=="d"?l:0;this.Ub=h=="h"?l:0;this.Kc=h=="n"?l:0;this.Mc=h=="s"?l:0}else{this.Mf=a||0;this.wf=b||0;this.df=c||0;this.Ub=e||0;this.Kc=f||0;this.Mc=g||0}};
ij.prototype.Lo=function(a){var b=Math.min(this.Mf,this.wf,this.df,this.Ub,this.Kc,this.Mc),c=Math.max(this.Mf,this.wf,this.df,this.Ub,this.Kc,this.Mc);if(b<0&&c>0)return i;if(!a&&b==0&&c==0)return"PT0S";var e=[];b<0&&e.push("-");e.push("P");if(this.Mf||a)e.push(Math.abs(this.Mf)+"Y");if(this.wf||a)e.push(Math.abs(this.wf)+"M");if(this.df||a)e.push(Math.abs(this.df)+"D");if(this.Ub||this.Kc||this.Mc||a){e.push("T");if(this.Ub||a)e.push(Math.abs(this.Ub)+"H");if(this.Kc||a)e.push(Math.abs(this.Kc)+
"M");if(this.Mc||a)e.push(Math.abs(this.Mc)+"S")}return e.join("")};ij.prototype.Ma=function(){return new ij(this.Mf,this.wf,this.df,this.Ub,this.Kc,this.Mc)};ij.prototype.add=function(a){this.Mf+=a.Mf;this.wf+=a.wf;this.df+=a.df;this.Ub+=a.Ub;this.Kc+=a.Kc;this.Mc+=a.Mc};
var kj=function(a,b,c){if(!this.R)if(la(a)){this.R=new Date(a,b||0,c||1);this.nx(c||1)}else if(na(a)){this.R=new Date(a.getFullYear(),a.getMonth(),a.getDate());this.nx(a.getDate())}else{this.R=new Date;this.R.setHours(0);this.R.setMinutes(0);this.R.setSeconds(0);this.R.setMilliseconds(0)}this.cg=0;this.bk=3};o=kj.prototype;o.Ma=function(){var a=new kj(this.R);a.cg=this.cg;a.bk=this.bk;return a};o.getFullYear=function(){return this.R.getFullYear()};o.getYear=function(){return this.getFullYear()};
o.getMonth=function(){return this.R.getMonth()};o.getDate=function(){return this.R.getDate()};o.getTime=function(){return this.R.getTime()};o.getDay=function(){return this.R.getDay()};o.MQ=function(){return(this.getDay()+6)%7};o.zR=function(){return(this.MQ()-this.cg+7)%7};o.getUTCFullYear=function(){return this.R.getUTCFullYear()};o.getUTCMonth=function(){return this.R.getUTCMonth()};o.getUTCDate=function(){return this.R.getUTCDate()};o.getUTCHours=function(){return this.R.getUTCHours()};
o.getUTCMinutes=function(){return this.R.getUTCMinutes()};o.bE=function(){return dj(this.getFullYear(),this.getMonth())};o.yR=function(){return ej(this.getFullYear(),this.getMonth(),this.getDate(),this.bk,this.cg)};o.getTimezoneOffset=function(){return this.R.getTimezoneOffset()};o.Qv=function(){var a,b=this.getTimezoneOffset();if(b==0)a="Z";else{var c=Math.abs(b)/60,e=Math.floor(c),f=(c-e)*60;a=(b>0?"-":"+")+Fb(e,2)+":"+Fb(f,2)}return a};
o.Z=function(a){this.R=new Date(a.getFullYear(),a.getMonth(),a.getDate())};o.setFullYear=function(a){this.R.setFullYear(a)};o.setYear=function(a){this.setFullYear(a)};o.setMonth=function(a){this.R.setMonth(a)};o.setDate=function(a){this.R.setDate(a)};o.setTime=function(a){this.R.setTime(a)};o.FI=function(a){this.cg=a};o.iZ=function(a){this.bk=a};
o.add=function(a){if(a.Mf||a.wf){var b=this.getMonth()+a.wf+a.Mf*12,c=this.getYear()+Math.floor(b/12);b%=12;if(b<0)b+=12;var e=dj(c,b),f=Math.min(e,this.getDate());this.setDate(1);this.setYear(c);this.setMonth(b);this.setDate(f)}if(a.df){var g=new Date(this.getYear(),this.getMonth(),this.getDate(),12),h=new Date(g.getTime()+a.df*86400000);this.setDate(1);this.setYear(h.getFullYear());this.setMonth(h.getMonth());this.setDate(h.getDate());this.nx(h.getDate())}};
o.Lo=function(a,b){return[this.getFullYear(),Fb(this.getMonth()+1,2),Fb(this.getDate(),2)].join(a?"-":"")+(b?this.Qv():"")};o.toString=function(){return this.Lo()};o.nx=function(a){if(this.getDate()!=a){var b=this.getDate()<a?1:-1;this.R.setUTCHours(this.R.getUTCHours()+b)}};o.valueOf=function(){return this.R.valueOf()};var lj=function(a,b,c,e,f,g,h){this.R=la(a)?new Date(a,b||0,c||1,e||0,f||0,g||0,h||0):new Date(a?a.getTime():s());kj.call(this)};t(lj,kj);o=lj.prototype;o.getHours=function(){return this.R.getHours()};
o.getMinutes=function(){return this.R.getMinutes()};o.getSeconds=function(){return this.R.getSeconds()};o.getUTCHours=function(){return this.R.getUTCHours()};o.getUTCMinutes=function(){return this.R.getUTCMinutes()};o.setHours=function(a){this.R.setHours(a)};o.setMinutes=function(a){this.R.setMinutes(a)};o.setSeconds=function(a){this.R.setSeconds(a)};o.setMilliseconds=function(a){this.R.setMilliseconds(a)};o.setUTCHours=function(a){this.R.setUTCHours(a)};
o.add=function(a){kj.prototype.add.call(this,a);a.Ub&&this.setHours(this.R.getHours()+a.Ub);a.Kc&&this.setMinutes(this.R.getMinutes()+a.Kc);a.Mc&&this.setSeconds(this.R.getSeconds()+a.Mc)};o.Lo=function(a,b){var c=kj.prototype.Lo.call(this,a);if(a)return c+" "+Fb(this.getHours(),2)+":"+Fb(this.getMinutes(),2)+":"+Fb(this.getSeconds(),2)+(b?this.Qv():"");return c+"T"+Fb(this.getHours(),2)+Fb(this.getMinutes(),2)+Fb(this.getSeconds(),2)+(b?this.Qv():"")};o.toString=function(){return this.Lo()};
o.Ma=function(){var a=new lj(this.R);a.cg=this.cg;a.bk=this.bk;return a};var mj=function(a){this.va=d;this.hx=a;this.du=[]},nj;mj.prototype.QU=function(a){if(typeof GMap2!="undefined")a&&a();else{a&&this.du.push(a);if(!this.va){this.va=j;ye(function(){var b=J("script");b.src="http://maps.google.com/maps?file=api&v=2&client=google-pweb&async=2&callback=pwa.mapLoaded&oe=utf-8&hl="+this.hx;K(document.body,b)},0,this)}}};mj.prototype.BM=function(){$h(p,"mapload");for(;this.du.length>0;)this.du.pop()()};
var oj=function(a){nj&&nj.QU(a)},pj=function(){nj&&nj.BM()},qj=function(a){nj=new mj(a)};var rj=function(a){var b=a.toSpan();return{ll:{lat:String(a.getSouthWest().lat()),lon:String(a.getSouthWest().lng())},ur:{lat:String(a.getNorthEast().lat()),lon:String(a.getNorthEast().lng())},latSpan:b.lat()/2,lonSpan:b.lng()/2}},sj=function(a){if(a&&a.lat&&a.lon){var b=Number(a.lat),c=Number(a.lon);if(!isNaN(b+c))return{lat:b,lon:c}}return i},tj=function(a,b,c){c.extend(a);if(b){var e=sj(b.ll);c.extend(new GLatLng(e.lat,e.lon));e=sj(b.ur);c.extend(new GLatLng(e.lat,e.lon))}},uj=function(a){var b=
sj(a.ll),c=sj(a.ur);return new GLatLngBounds(new GLatLng(b.lat,b.lon),new GLatLng(c.lat,c.lon))};var wj=function(a,b,c){vj.Wh(this);S.call(this);a.M2=this;this.tw=a;this.S=b;this.cA=c||{};this.He=[];this.ww={};oj(r(this.iV,this))};t(wj,S);var xj="markermove",yj="http://www.google.com/mapfiles/";o=wj.prototype;o.BC=0;o.oI=i;o.o=function(){if(!this.pb()){wj.b.o.call(this);vj.Yh(this);this.xp();this.I&&GEvent.clearInstanceListeners(this.I)}};o.jc=function(){this.o()};o.Ew=function(a,b){this.S=a;this.cA=b||{};this.xp();this.Gy(i);this.rF()};
o.xp=function(){for(;this.He.length;){var a=this.He.pop();this.I.removeOverlay(a);GEvent.clearInstanceListeners(a)}this.ww={};this.gk=i};o.reset=function(){this.xp();this.ds()};o.f=function(){return this.tw};o.XY=function(a){this.pm=a;if(this.I)if(a)this.pF();else{this.ds();this.AK=d}};
o.Zy=function(a){if(!(a==this.BC)){this.BC=a;if(this.I){if(this.Vi){this.I.removeControl(this.Vi);this.Vi=i}if(a==1)this.Vi=new GLargeMapControl;else if(a==2)this.Vi=new GSmallMapControl;else if(a==3)this.Vi=new GSmallZoomControl;this.Vi&&this.I.addControl(this.Vi)}}};o.$y=function(a){if(!(a==this.sO)){this.sO=a;if(this.I){if(this.mn){this.I.removeControl(this.mn);this.mn=i}if(a==1)this.mn=new GHierarchicalMapTypeControl;this.mn&&this.I.addControl(this.mn)}}};
o.hv=function(a){if(this.I)if(a&&!this.Mn){this.Mn=new GOverviewMapControl;this.I.addControl(this.Mn)}else if(!a&&this.Mn){this.I.removeControl(this.Mn);this.Mn=i}};o.Gy=function(a){if(a)if(this.He.length>0)this.gk=this.He[this.ww[a]];else this.oI=a;else this.gk=i};
o.savePosition=function(a){if(this.I){var b=this.I.getBounds();if(a){var c=this.I.getCenter(),e=sj(a);this.I.setCenter(new GLatLng(e.lat,e.lon));this.I.savePosition();b=this.I.getBounds();this.I.setCenter(c)}else this.I.savePosition();return rj(b)}return i};o.Kh=function(){if(this.I){this.I.checkResize();this.vK=new GLatLngBounds;this.n1=this.I.getBoundsZoomLevel(this.vK)}};o.NE=function(){return this.He.length>0};
o.iV=function(){this.I=new GMap2(this.tw,{mapTypes:[G_NORMAL_MAP,G_SATELLITE_MAP,G_HYBRID_MAP,G_PHYSICAL_MAP]});this.I.enableContinuousZoom();this.I.enableScrollWheelZoom();this.Kh();this.ds();this.YL();this.rF()};o.Cp=function(a,b,c){var e=new GMarker(a,c);e.data=b;e.uO=b.id;GEvent.addListener(e,"dragend",r(this.mG,this,xj,"dragend",e));return e};o.dO=function(a,b){return this.Cp(a,b,{clickable:d})};
o.xC=function(a,b){var c=new GIcon;c.image=yj+"marker_mini.png";c.shadow=yj+"marker_mini_shadow.png";c.iconSize=new GSize(12,20);c.shadowSize=new GSize(22,20);c.iconAnchor=new GPoint(6,20);return this.Cp(a,b,{clickable:d,og:c})};o.UN=function(a,b){var c=String.fromCharCode("A".charCodeAt(0)+b.index),e=new GIcon(G_DEFAULT_ICON);e.s2=yj+"marker"+c+".png";return this.Cp(a,b,{clickable:d,og:e})};o.PN=function(a,b){return this.Cp(a,b,{draggable:j})};
o.rF=function(){if(!!this.I){this.hU();this.I.enableDoubleClickZoom();this.I.setMapType(G_PHYSICAL_MAP);if(this.S==1||this.S==0)this.lU();else if(this.S==3)this.mU();else if(this.S==2)this.pF();else if(this.S==4)this.jU();else if(this.S==5||this.S==6){this.I.disableDoubleClickZoom();this.kU()}this.I.savePosition()}};o.kU=function(){this.Rq(["photo","album"],r(this.PN,this))};o.jU=function(){this.Rq(["geoResult"],r(this.UN,this))};o.lU=function(){this.Rq(["album"],r(this.xC,this))};
o.BQ=function(a){var b=[],c=0;for(;c<a.length;c++){var e=this.cA[a[c]+"s"];if(e){var f=0;for(;f<e.length;f++){var g=e[f];g.h3=a[c];b.push(g)}}}return b};
o.Rq=function(a,b){var c=this.BQ(a),e,f=d,g,h=0;for(;h<c.length;h++){var l=c[h],m=sj(l);if(m){var n=new GLatLng(m.lat,m.lon),q=b(n,l);this.He.push(q);this.I.addOverlay(q);this.ww[q.uO]=this.He.length-1;if(this.oI)this.gk=q;if(!g||g.getPoint().lat()<m.lat)g=q;e||(e=new GLatLngBounds(n,n));tj(n,l.bb,e);if(l.bb)f=j}}var u,x=this.cA.defaultView;if(this.He.length==1)u=this.He[0].getPoint();else if(this.He.length==0)if(x){var n=sj(x);u=new GLatLng(n.lat,n.lon);e=new GLatLngBounds(u,u);tj(u,x.bb,e);if(x.bb)f=
j}else{this.ds();return}u||(u=e.getCenter());var z=this.I.getBoundsZoomLevel(e);f||(z=Math.min(z,this.ZD(u)-2));this.I.setCenter(u,z);this.HP(g)};o.HP=function(a){if(a){var b=this.I.fromLatLngToDivPixel(a.getPoint()).y-1.5*a.getIcon().iconSize.height;this.I.fromLatLngToDivPixel(this.I.getBounds().getNorthEast()).y>b&&this.I.zoomOut()}};o.mU=function(){this.Rq(["photo"],r(this.xC,this))};
o.pF=function(){this.xp();if(!!this.pm){var a=sj(this.pm);if(a){var b=new GLatLng(a.lat,a.lon),c=this.dO(b,this.pm);this.He.push(c);this.I.addOverlay(c);var e=this.I.getZoom(),f=this.ZD(b);if(this.pm.bb)e=this.I.getBoundsZoomLevel(uj(this.pm.bb));else this.AK||(e=f-2);this.AK=j;this.I.setZoom(e);this.I.panTo(b)}}};o.ZD=function(a){return this.I.getBoundsZoomLevel(new GLatLngBounds(a,a))};o.ds=function(){this.I&&this.I.setCenter(this.vK.getCenter(),this.n1)};
o.YL=function(){GEvent.bind(this.I,"click",this,this.hV);GEvent.addDomListener(this.tw,E?"DOMMouseScroll":"mousewheel",r(this.NV,this))};o.hU=function(){switch(this.S){case 0:case 6:this.hv(j);this.Zy(1);this.$y(1);break;case 1:case 2:case 3:this.hv(d);this.Zy(3);this.$y(0);break;case 5:this.hv(d);this.Zy(2);this.$y(1);break}};o.oS=function(a,b){if(this.gk&&!a){this.gk.setPoint(b);this.mG(xj,"click",this.gk)}};o.hV=function(a,b){if(this.S==5||this.S==6)this.oS(a,b)};
o.NV=function(a){if(!a)a=window.event;if(a.preventDefault)a.preventDefault();else a.returnValue=d};o.mG=function(a,b,c){this.dispatchEvent(new zj(a,b,this,c))};function zj(a,b,c,e){O.call(this,a);this.C2=b;this.nV=e;this.map=c}t(zj,O);var Aj=function(){Gg.call(this)};t(Aj,Gg);fa(Aj);var Bj=[];o=Aj.prototype;o.r=Aj.b.r;o.Sa=function(a){return a&&a.firstChild.firstChild.firstChild.lastChild};o.$e=function(a,b){var c=this.Ci(),e="goog-inline-block ";return b.r("div",{"class":e+c+"-outer-box"},b.r("div",{"class":e+c+"-inner-box"},b.r("div",{"class":c+"-pos"},b.r("div",{"class":c+"-top-shadow"},"\u00a0"),b.r("div",{"class":c+"-content"},a))))};
o.LE=function(a,b){var c=a.O.hk(b);if(c&&c.className.indexOf("goog-button-base-outer-box")!=-1){var e=a.O.hk(c);if(e&&e.className.indexOf("goog-button-base-inner-box")!=-1){var f=a.O.hk(e);if(f&&f.className.indexOf("goog-button-base-pos")!=-1){var g=a.O.hk(f);if(g&&g.className.indexOf("goog-button-base-top-shadow")!=-1){var h=a.O.XQ(g);if(h&&h.className.indexOf("goog-button-base-content")!=-1)return j}}}}return d};o.da=function(){return"goog-button"};o.Ci=function(){return"goog-button-base"};
o.VD=function(){return Bj};Ng("goog-button",function(){return new Rg(i,Aj.wa())});var Cj=function(){Dg.call(this);var a=this.Ci();this.Mj={aC:a+"-checkbox",content:a+"-content",cF:a+"-highlight"}};t(Cj,Dg);fa(Cj);o=Cj.prototype;o.hg=function(){return"menuitem"};o.r=function(a){var b=a.O.r("div",{"class":this.eh(a).join(" ")},this.sC(a.Ed(),a.O));this.CI(a,b,a.Xc(8)||a.Xc(16));return b};o.Sa=function(a){return a&&a.firstChild};o.qa=function(a,b){this.vT(b)||b.appendChild(this.sC(b.childNodes,a.O));if(Da(cc(b),"goog-option")){a.js(j);this.js(a,b,j)}return Cj.b.qa.call(this,a,b)};
o.ub=function(a,b){var c=this.Sa(a),e=this.lw(a)?c.firstChild:i;Cj.b.ub.call(this,a,b);if(e&&!this.lw(a))c.insertBefore(e,c.firstChild||i)};o.vT=function(a){var b=wc(a);return!!b&&b.className.indexOf(this.Mj.content)!=-1};o.sC=function(a,b){return b.r("div",{"class":this.Mj.content},a)};o.js=function(a,b,c){if(b){vg(b,c?"menuitemcheckbox":this.hg());this.CI(a,b,c)}};o.lw=function(a){var b=this.Sa(a);if(b){var c=b.firstChild;return!!c&&!!c.className&&c.className.indexOf(this.Mj.aC)!=-1}return d};
o.CI=function(a,b,c){if(c!=this.lw(b)){fc(b,"goog-option",c);var e=this.Sa(b);c?e.insertBefore(a.O.r("div",{"class":this.Mj.aC}),e.firstChild||i):e.removeChild(e.firstChild)}};o.jg=function(a){switch(a){case 2:return this.Mj.cF;case 16:case 8:return"goog-option-selected";default:return Cj.b.jg.call(this,a)}};o.Ov=function(a){switch(a){case "goog-option-selected":return 16;case this.Mj.cF:return 2;default:return Cj.b.Ov.call(this,a)}};o.da=function(){return"goog-menuitem"};var Dj=function(a,b,c,e){Pg.call(this,a,e||Cj.wa(),c);this.gc(b)};t(Dj,Pg);Dj.prototype.Na=function(){var a=this.ba();return a!=i?a:this.ig()};Dj.prototype.gc=function(a){this.B(a)};Dj.prototype.js=function(a){this.wg(16,a);var b=this.f();b&&this.$.js(this,b,a)};Ng("goog-menuitem",function(){return new Dj(i)});var Ej=function(){uh.call(this)};t(Ej,uh);fa(Ej);o=Ej.prototype;o.hg=function(){return"menu"};o.Ac=function(a){return a.tagName=="UL"||Ej.b.Ac.call(this,a)};o.Gm=function(a){return a.tagName=="HR"?new th:Ej.b.Gm.call(this,a)};o.fi=function(a,b){return zc(a.f(),b)};o.da=function(){return"goog-menu"};o.wk=function(a){Ej.b.wk.call(this,a);var b=a.f();wg(b,"haspopup","true")};Ng(sh,function(){return new th});var Fj=function(a,b){zh.call(this,wh,b||Ej.wa(),a);this.Af(d)};t(Fj,zh);o=Fj.prototype;o.Rt=j;o.xM=d;o.da=function(){return this.$.da()};o.fi=function(a){return this.$.fi(this,a)||this.ME()&&za(this.ha,function(b){return typeof b.fi=="function"&&b.fi(a)})};o.Yl=function(a){this.H(a,j)};o.UI=function(a,b){var c=this.Ka();c||W(this.f(),j);vf(this.f(),a,b);c||W(this.f(),d)};o.EY=function(a){(this.Rt=a)&&this.Af(j)};
o.P=function(a,b){var c=Fj.b.P.call(this,a,b);c&&a&&this.N&&this.Rt&&this.Tb().focus();return c};o.Xv=function(a){this.Rt&&this.Tb().focus();return Fj.b.Xv.call(this,a)};o.RB=function(a){return(this.xM||a.rb())&&a.Ka()&&a.Xc(2)};var Gj=function(){return rh.call(this)};t(Gj,rh);fa(Gj);var Hj="goog-toolbar-separator";Gj.prototype.r=function(a){return a.O.r("div",{"class":this.da()+" goog-inline-block"},"\u00a0")};Gj.prototype.qa=function(a,b){b=Gj.b.qa.call(this,a,b);dc(b,"goog-inline-block");return b};Gj.prototype.da=function(){return Hj};var Ij=function(){uh.call(this)};t(Ij,uh);fa(Ij);Ij.prototype.hg=function(){return"toolbar"};Ij.prototype.Gm=function(a){return a.tagName=="HR"?new th(Gj.wa()):Ij.b.Gm.call(this,a)};Ij.prototype.da=function(){return"goog-toolbar"};Ij.prototype.LD=function(){return vh};var Jj=function(a,b,c){zh.call(this,b,a||Ij.wa(),c)};t(Jj,zh);var Kj=function(){Gg.call(this)};t(Kj,Gg);fa(Kj);var Lj="goog-toolbar-button";Kj.prototype.da=function(){return Lj};var Mj=function(a,b,c){Rg.call(this,a,b||Kj.wa(),c)};t(Mj,Rg);Ng(Lj,function(){return new Mj(i)});var Nj=function(a,b,c){if(a.length!=b.length)return i;this.MO=c;this.i0(a);this.i1=b};Nj.prototype.i0=function(a){this.rX=a;var b=1;for(;b<a.length;b++)if(a[b]==i)a[b]=a[b-1]+1;else if(this.MO)a[b]+=a[b-1]};Nj.prototype.EM=function(a){var b=this.NQ(a);if(b<0)return i;return this.i1[b]};Nj.prototype.NQ=function(a){var b=this.rX,c=0,e=b.length;for(;e-c>8;){var f=e+c>>1;if(b[f]<=a)c=f;else e=f}for(;c<e;++c)if(a<b[c])break;return c-1};var Oj=new Nj([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,
2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,9082,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,
0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,
2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],j),Pj=function(a,b){if(a==10&&b==11)return d;if(a==1||a==10||a==11)return j;if(b==1||b==10||b==11)return j;if(a==5&&(b==5||b==6||b==8||b==9))return d;if((a==8||a==6)&&(b==6||b==7))return d;if((a==9||a==7)&&b==7)return d;if(b==2)return d;return j},Qj=function(a){if(44032<=
a&&a<=55203){if(a%28==16)return 8;return 9}else return Oj.EM(a)},Rj=function(a,b,c){var e=Qj(a),f=Qj(b);return Pj(e,f)&&!(c&&(e==3||f==4))};var Tj=function(a,b,c){var e=c||10;if(e>a.length)return a;var f=[],g=0,h=0,l=0,m=0,n=0;for(;n<a.length;n++){var q=m;m=a.charCodeAt(n);var u=m>=768&&!b(q,m,j);if(g>=e&&m>32&&!u){f.push(a.substring(l,n),Sj);l=n;g=0}if(h)if(m==62&&h==60)h=0;else{if(m==59&&h==38){h=0;g++}}else if(m==60||m==38)h=m;else if(m<=32)g=0;else g++}f.push(a.substr(l));return f.join("")},Uj=function(a,b){return Tj(a,Rj,b)},Sj=Vb?"<wbr></wbr>":Tb?"&shy;":"<wbr>";var Vj=function(a){var b=a.status;if(!b&&a.target&&a.target.Ae)b=a.target.Ae();if(b>=0&&b<400)return i;if(b==403)return"The server denied permission for this action. Please make sure you are still logged in to your account and try again.";if(b==404)return"It seems the item you requested has been misplaced. Please check your internet connection, cross your fingers, and try again.";if(b>=500)return xd+"\n"+("Error: "+b);return"Something unusual has happened. Hopefully, it is so unusual that you will never see this dialog again.\n"+
("Error: "+b)},Wj=function(a){var b=a.text;if(a.target&&a.target.mc)b=a.target.mc();if(b.indexOf("success")<0)return b.replace(/\<[^>]*\>/g,"");return i},Xj=function(a){var b=Vj(a);b||(b=Wj(a));b&&alert(b);return!!b};var $j=function(a){var b=new Rc;Yj(a,b,Zj);return b},Yj=function(a,b,c){var e=a.elements,f,g=0;for(;f=e[g];g++)if(!(f.disabled||f.tagName.toLowerCase()=="fieldset")){var h=f.name;switch(f.type.toLowerCase()){case "file":case "submit":case "reset":case "button":break;case "select-multiple":var l=ak(f);if(l!=i){var m,n=0;for(;m=l[n];n++)c(b,h,m)}break;default:var m=ak(f);m!=i&&c(b,h,m)}}var q=a.getElementsByTagName("input"),u,g=0;for(;u=q[g];g++)if(u.form==a&&u.type.toLowerCase()=="image"){h=u.name;
c(b,h,u.value);c(b,h+".x","0");c(b,h+".y","0")}},Zj=function(a,b,c){var e=a.get(b);if(!e){e=[];a.Z(b,e)}e.push(c)},ak=function(a){var b=a.type;if(!ba(b))return i;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:i;case "select-one":return bk(a);case "select-multiple":return ck(a);default:return ba(a.value)?a.value:i}};
var bk=function(a){var b=a.selectedIndex;return b>=0?a.options[b].value:i},ck=function(a){var b=[],c,e=0;for(;c=a.options[e];e++)c.selected&&b.push(c.value);return b.length?b:i};var ek=function(a,b){var c=a.ownerDocument||a.document;if(dk(a)){a.selectionStart=b;a.selectionEnd=b}else if(c.selection&&a.createTextRange){var e=a.createTextRange();e.collapse(j);e.move("character",b);e.select()}},dk=function(a){try{return typeof a.selectionStart=="number"}catch(b){return d}};var fk=function(){S.call(this)};t(fk,S);o=fk.prototype;o.ja=function(){return 0};o.Xd=function(){return i};o.gl=function(){};o.xk=function(a,b){this.dispatchEvent(new gk("insert",this,b))};o.remove=function(a){this.dispatchEvent(new gk("remove",this,a));return i};var hk="iconselected",gk=function(a,b,c,e){O.call(this,a,b);this.count=b.ja();this.index=c;this.nP=e||c};t(gk,O);var ik=function(a,b,c){X.call(this);this.My(a);this.nj(b);this.B(c||i)};t(ik,X);o=ik.prototype;o.qd=-1;o.jb=d;o.XE=d;o.Kb=j;o.jh=function(){return this.V?this.qd:-1};o.nj=function(a){this.qd=a};o.Pg="";o.r=function(){this.j=J("div");F(this.j,this.Pg)};o.K=function(){this.N&&L(this.j);ik.b.K.call(this)};o.ab=function(){return"goog.ui.icon.AbstractIcon"};o.My=function(a){this.Pg=a;this.N&&F(this.j,this.Pg)};o.zi=function(){return this.XE};o.ud=function(a){this.XE=!!a};o.Bf=function(a){this.jb=!!a;this.ud(a)};
o.rb=function(){return this.Kb};o.Va=function(a){if(this.Kb!=a){this.Kb=a;this.dispatchEvent(new O(a?Hf:Gf,this))}};o.B=function(a){ik.b.B.call(this,a);this.N&&this.na()};o.na=function(){};o.TC=function(a){!a.Tq(0)||this.dispatchEvent(new jk(this,a))};o.SO=function(a){if(!!a.Tq(0)){this.dispatchEvent(new jk(this,a,j));a.preventDefault()}};o.Sz=d;o.ru=0;o.width=0;o.height=0;
var kk=function(a,b){return a.qd-b.qd},jk=function(a,b,c){O.call(this,hk,a);this.GL=c||d;this.shiftKey=b.shiftKey;this.ctrlKey=b.ctrlKey;this.G2=b};t(jk,O);var lk=function(){Fg.call(this)},mk;t(lk,Fg);lk.prototype.vb=function(a,b,c){var e=a.f();if(e)switch(b){case 2:fc(e,"SPRITE_xbox-hover",c);fc(e,"SPRITE_xbox",!c);return}lk.b.vb.call(this,a,b,c)};lk.prototype.r=function(a){var b={"class":"goog-inline-block "+this.eh(a).join(" "),title:a.Di()||"",src:Ie};return a.O.r("img",b,a.Ed())};var nk=function(){mk||(mk=new lk);return mk},ok=function(a,b){Rg.call(this,"",a||nk(),b);this.wc("SPRITE_xbox")};t(ok,Rg);var pk=function(a){this.ha={};this.Yc=a;this.Sh=[]};pk.prototype.rj=-1;pk.prototype.Th=-1;pk.prototype.Pf="";var qk=new pk("root");qk.Lg=0;qk.Js=function(a){qk.Lg++;var b=qk.get("ajax").get(String(qk.Lg));b.start();b.oo(a)};o=pk.prototype;o.xc=function(a,b){var c=new rk(a,b);this.Sh.push(c);return c};o.get=function(a){this.ha[a]||(this.ha[a]=new pk(a));return this.ha[a]};o.Rm=function(a){return!!this.ha[a]};o.getName=function(){return this.Yc};o.uT=function(){return this.Pf!=""};
o.kE=function(){var a=0;for(var b in this.ha)a+=this.ha[b].mg();for(var c in this.Sh)a+=this.Sh[c].getTime();return a};o.mg=function(){if(this.Th>=0)return this.Th;return this.kE()};o.OE=function(){return this.rj>0};o.PE=function(){return this.Th>=0};o.pE=function(){return this.Th>=0?this.Th-this.kE():0};o.M=md("gphoto.perf.Timer");
o.uV=function(a){function b(e,f){var g=f.get(e.n);g.kz(i,e.t);for(var h in e.c)b(e.c[h],g);for(var l in e.m){var m=e.m[l];g.xc(m.n,m.t).setTime(i,m.m)}}if(!!a){var c=0;for(;c<a.length;c++)b(a[c],this)}};o.vV=function(a){for(var b in a){var c=b.split("\\"),e,f;if(!(!c||c.length==0||c.length>2)){e=c[0];f=c[1];var g=this;if(e&&e!=""){e=e.split("/");for(var h in e)g=g.get(e[h])}var l;if(f&&f!=""){f=f.split("/");var l=g.xc(f[0],f.length==1?"":f[1]);l.setTime(a[b].s,a[b].t)}else g.kz(i,a[b].t)}}};
o.AW=function(){function a(b){var c='<ul id="timings"><li><span id="childname">'+b.Yc+'</span>, total time: <span id="time">'+b.mg()+'ms</span>, unclassified time: <span id="time">'+b.pE()+'ms</span>, start: <span id="time">'+b.rj;if(b.uT())c+=', action: <span id="time">'+b.Pf+"</span>";c+="</li>";for(var e in b.ha)c+=a(b.ha[e]);var f=j;for(var g in b.Sh){f||(c+="<br/>");f=d;var h=b.Sh[g];c+='timing: <span id="timename">'+h.getName()+'</span>, type=<span id="timetype">'+h.S+'</span>, time=<span id="time">'+
h.getTime()+'ms</span>, start: <span id="time">'+h.sj+"</span>";if(h.Qs.length>0){c+="<ul>";c+="<li>start</li>";var l=h.sj;for(var g in h.Qs){var m=h.Qs[g];c+="<li>"+m.name+": "+(m.time-l)+"ms delta</li>";l=m.time}c+="<li>stop: "+(h.getTime()-(l-h.sj))+"ms delta</li>";c+="</ul>"}}c+="</ul>";return c}return"<style>ul#timings {list-style-type: disc; margin-left: 15px; padding: 0;}ul#timings li {color: #505050;}ul#timings li span {font-weight: bold;}span#childname {color: darkblue;}span#timename {color: blue;}span#timetype {color: green;}span#time {color: black;}</style>"+
a(this)};o.oE=function(){function a(b,c){for(var e in c.ha)b=a(b,c.ha[e]);for(var f in c.Sh){var g=c.Sh[f].S;b[g]||(b[g]=0);b[g]+=c.Sh[f].getTime()}return b}return a({},this)};o.BW=function(){var a=this.oE(),b='<ul id="timings">';for(var c in a)b+='<li>type: <span id="timetype">'+c+'</span>, total time: <span id="time">'+a[c]+"ms</span></li>";b+="</ul>";return b};o.kz=function(a,b){this.rj=a?a:-1;this.Th=b};o.jz=function(a){this.rj=a};
o.ZI=function(a){if(this.rj>=0){var b=a-this.rj;if(b>this.Th)this.Th=b}};o.oo=function(a){this.Pf=a};o.start=function(){this.rj=s()};o.stop=function(){this.ZI(s())};var sk="standard",tk="onload",rk=function(a,b){this.Yc=a;this.S=b;this.sj=-1;this.Rs=0;this.Qs=[]};o=rk.prototype;o.getName=function(){return this.Yc};o.getTime=function(){return this.Rs};o.setTime=function(a,b){this.sj=a?a:-1;this.Rs=b};o.start=function(){this.sj=s();return this};o.stop=function(){if(this.sj>0)this.Rs=s()-this.sj;return this};
o.w0=function(a){var b={};b.name=a;b.time=s();this.Qs.push(b)};var uk;
(function(){function a(l){var m=l.match(/[\d]+/g);m.length=3;return m.join(".")}var b=d,c="";if(navigator.plugins&&navigator.plugins.length){var e=navigator.plugins["Shockwave Flash"];if(e)if(e.description)c=a(e.description);if(navigator.plugins["Shockwave Flash 2.0"])c="2.0.0.11"}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var f=navigator.mimeTypes["application/x-shockwave-flash"];if(b=f&&f.enabledPlugin)c=a(f.enabledPlugin.description)}else try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");c=
a(g.GetVariable("$version"))}catch(h){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");c="6.0.21"}catch(h){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c=a(g.GetVariable("$version"))}catch(h){}}}uk=c})();function vk(a,b,c){var e=H(b);if(e)e.innerHTML='<object id="UploadListView" classid="CLSID:474F00F5-3853-492C-AC3A-476512BBC336" codebase="'+a+"uploader2.cab#version="+c+'" width="564" height="375"></OBJECT>'};var wk=function(a){this.tI=a;this.Pe={}};o=wk.prototype;o.e1="2";o.b0=-1;o.Pf="na";o.i_=function(a){this.b0=a};o.oo=function(a){this.Pf=a};o.f_=function(a){this.Pe.st=a};o.vZ=function(a){this.Pe.ol=a};o.CY=function(a){this.Pe.aft=a};o.RI=function(a){this.Pe.pst=a};o.QI=function(a){this.Pe.prt=a};o.kZ=function(a){this.Pe.sgt=a};o.LY=function(a){this.Pe.sbt=a};o.OZ=function(a){this.Pe.nt=a};o.QY=function(a){this.Pe.ct=a};o.wZ=function(a){this.Pe.jpt=a};
o.Ce=function(){var a="http://csi.gstatic.com/csi?s="+this.tI+"&v="+this.e1+"&action="+this.Pf,b=[];Va(this.Pe,function(c,e){b.push(e+"."+c)});if(b.length>0)a+="&rt="+b.join(",");return a};var xk=function(a){var b=new wk(window._serviceName?window._serviceName:"na");if(a.Rm("ajax")){if(a.Lg){var c=a.get("ajax").get(String(a.Lg)),e=c.mg();b.CY(e);b.RI(e);b.QI(e);b.oo(c.Pf)}}else{window._srt&&window._srt>0&&b.i_(window._srt);var f=a.get(sk),g=f.get(tk),h=g.get("prt"),l=h.get("client");if(window._prt&&window._prt>0)h.ZI(window._prt);else h.PE()||h.stop();g.stop();window.external&&window.external.pageT&&f.kz(-1,window.external.pageT);b.f_(f.get("request").mg());b.vZ(g.mg());var m=a.oE();
m.GAIA&&b.kZ(m.GAIA);m.LSS&&b.LY(m.LSS);m.jsparse&&b.wZ(m.jsparse);var n=f.pE();n>0&&b.OZ(n);b.QY(l.mg());b.oo(f.Pf);b.QI(h.mg());b.RI(g.mg())}var q=H("lhid_profile");if(q){var u='<table width="500"><tr><td>'+a.AW()+"<hr/>"+a.BW()+"</td></tr></table>";q.innerHTML=u+C(b.Ce())}if(_features.CSI)if(b.tI=="photos_html")if(b.Pf.length>0)(new Image).src=b.Ce()};var yk=function(a,b,c){var e=H(a),f=H(b),g=H(c);e&&W(e,_picasaVersion==0);if(f)W(f,_picasaVersion>0&&(_picasaVersion<3||_features.PWA_NEWUI));else g&&W(g,_picasaVersion>=3)};function zk(a,b,c){eg(a,r(Ak,i,b,c))}function Ak(a,b,c){if(Xj(c))alert(Ed);else{var e=H("lhid_addFav");e&&W(e,d);(e=H("lhid_inFav"))&&W(e,j);(e=H("lhid_nolink"))&&W(e,j);wi("hideVideo");new Bk(a,b)}}function Ck(a){if(Xj(a))alert(Ed);else{var b=H("lhid_nolink");b&&W(b,d);(b=H("lhid_link"))&&W(b,j)}}
function Bk(a,b){vj.Wh(this);this.uX=a;this.u={lhui_username:b,lhui_yes_func:$("func"),lhui_no_func:$("func")};this.dc=J("div");this.dc.className="lhcl_cover";document.body.appendChild(this.dc);this.Rl();this.bo=r(this.Rl,this);gi(window,"resize",this.bo);window.scrollTo(0,0);this.nb=ri('<div class="lhcl_dialog"><div class="lhcl_dialog_body lhcl_addfavorite"><p><img src="img/favorites_checked.gif" />{lhui_username} has been added as a favorite.</p><br /><hr /><p>Now that this user is one of your favorites, you can link to their public gallery from your public gallery.</p><p>Would you like to link to {lhui_username}\'s public gallery?</p><br /><table><tr><td class="lhcl_halfwidth lhcl_align_right""><input type="button" value="Yes" onclick="_d(\'{lhui_yes_func}\')" /></td><td class="lhcl_halfwidth lhcl_dialog_button"><input type="button" value="No, Skip this" onclick="_d(\'{lhui_no_func}\')" /></td></tr><tr><td></td><td class="lhcl_dialog_button"><span class="lhcl_mini_text">(you can always do this later)</span></td></tr></table></div></div>',
this.u);document.body.insertBefore(this.nb,document.body.firstChild);ui(this.u.lhui_yes_func,r(this.SK,this));ui(this.u.lhui_no_func,r(this.wL,this));this.YG=fi(this,this.B1);gi(document,"keydown",this.YG)}o=Bk.prototype;o.jc=function(){vj.Yh(this);if(this.u){vi(this.u.lhui_yes_func);vi(this.u.lhui_no_func)}hi(document,"keydown",this.YG);hi(window,"resize",this.bo);for(var a in this)this[a]=i};o.Nf=function(){this.nb&&L(this.nb);this.dc&&L(this.dc);wi("restoreVideo");this.jc()};
o.Rl=function(){var a=Math.max(document.body.offsetHeight,document.body.scrollHeight);a=Math.max(a,document.body.clientHeight);a=Math.max(a,document.documentElement.clientHeight);this.dc.style.height=a+"px"};o.wL=function(){this.Nf()};o.SK=function(){eg(this.uX,Ck);this.Nf()};var Dk=function(a,b){if(yb(Xb,"Win"))if(!_features.PWA_NEWUI&&_picasaVersion>=3){var c=H("lhid_launchGplFooter");c&&W(c,j)}else _picasaVersion>0?W(H("lhid_launchpicasafooter"),j):W(H("lhid_downloadpicasafooter"),j);else if(yb(Xb,"Mac")){var e=H("lhid_downloadpicasafooter");if(e){var f=lc("a",i,e);if(f.length)f[0].href=b}}else yb(Xb,"Linux")&&W(H("lhid_downloadpicasafooter"),d)};var Fk=function(a){a?Uh(Ek,"true",-1,"/"):Xh(Ek,"/");document.location.reload(j)};var Hk=function(a){var b="";if(Vh(Ek,"false")=="true"){var c={force:"false",view:"internal"};b=qi(Gk,c)}else{var c={force:"true",view:"external"};b=qi(Gk,c)}document.getElementById(a).innerHTML=b},Ek="GOOGLE_FORCE_EXTERNAL_IP",Gk='<a href="javascript:pwa.setForceExternalIp({force});">View {view} version</a>';var Ik=function(a,b){this.sd=a;this.tb=b?"tok="+b:i},Jk;Ik.prototype.log=function(a,b){var c=["page="+a];for(var e in b)c.push(e+"="+B(b[e]));var f=this.sd+"?"+c.join("&");eg(f,undefined,this.tb?"POST":"GET",this.tb?this.tb:undefined);if(_features.ANALYTICS_TRACKING)if("_gat"in window)try{window._gat._getTracker("UA-3737627-1")._trackPageview(f)}catch(g){}};function Kk(a){if(a>0){H("lhid_cartDiv").style.display="";H("lhid_cartCount").innerHTML=a}};var Lk={"JS parse":"jsprs","before pwa.start()":"jspre",onload:"plt","pwa.start()":"jspost"},Mk=[],Nk=function(a,b){a="pwa."+a;ta(a,b)},Ok=function(a){Va(a,function(b,c){Nk(c,b)})};
Ok({cart:Kk,client:yk,createAlbum:Ii,debugWindow:sd,editAlbum:Ji,footer:Dk,initTimer:function(a,b,c,e,f){var g=qk.get(sk);g.uV(b);g.vV(a);if(f){var h=window.location.hash;if(h!=undefined&&h.length>1){if(h.indexOf("#")==0)h=h.substring(1,h.length);if(h.indexOf("slideshow")==0){c+="Slideshow";h=h.substring("slideshow".length)}if(h.indexOf("/")==0)h=h.substring(1,h.length);if(h.length>0)c+="Photo"}}g.oo(c);var l=g.get(tk);l.jz(e);var m=l.get("prt");m.jz(e);m.get("client").jz(e)},loggerSetup:function(a,
b){Jk=new Ik(a,b)},mapLoaded:pj,mapSetup:qj,renderInternalExternalToggle:Hk,reportProfile:function(a,b,c,e){var f=new hg;f.wl("/lh/profile");f.oa("uname",b);f.oa("evid",c);for(var g in a)if(a.hasOwnProperty(g)){var h=Lk[g];if(h){f.oa(h,a[g].t);a[g].c>1&&f.oa(h+"_c",a[g].c)}}e&&xk(qk);var l=qk.get(sk).get(tk);f.oa("plt",l.mg());(new Image).src=f.toString()},setup:function(){Mk.push(sa.apply(i,arguments))},setForceExternalIp:Fk,start:function(){var a=qk.get(sk).get(tk).get("prt").get("client"),b=a.get("setup");
b.start();for(;Mk.length;)Mk.pop()();b.stop();a.stop()},uploadDialog:Ki});Ee("script/",function(a,b){var c="";if(_LH&&_LH.locale&&_LH.locale!="en_US")c="__"+_LH.locale.toLowerCase();return a+"lh_mod_"+b+c+".js"});if(D)try{document.execCommand("BackgroundImageCache",d,j)}catch(Pk){}_LH&&_LH.locale&&Ch(_LH.locale);
Hh({wt:["BC","AD"],JA:["Before Christ","Anno Domini"],VA:["J","F","M","A","M","J","J","A","S","O","N","D"],Xh:["January","February","March","April","May","June","July","August","September","October","November","December"],At:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ct:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Wo:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dL:["S","M","T","W","T","F","S"],bB:["Q1","Q2","Q3","Q4"],aB:["1st quarter","2nd quarter",
"3rd quarter","4th quarter"],vt:["AM","PM"],Of:["EEEE, MMMM d, yyyy","MMMM d, yyyy","MMM d, yyyy","M/d/yy"],Sl:["h:mm:ss a v","h:mm:ss a z","h:mm:ss a","h:mm a"],MA:6,Dt:[5,6],NA:6},Dh());var vj=new oi,Qk=Hb(uk,"7")>=0,Rk=Hb(uk,"9.0.124")>=0;ta("_onload",function(){Bi()});ta("_fd",function(a){return zi(a,2)});ta("_pd",function(a,b,c){Ai(a,b,c,2)});ta("_d",wi);ta("LH_CreateActiveXUploader",vk);ta("get",H);ta("_addFavorite",zk);ta("_setBackLink",Ei);var Sk=Fe("fr",7),Tk=Fe("fr",1),Uk=Fe("fr",6),Vk=Fe("fr",3),Wk=Fe("fr",2),Xk=Fe("fr",4);var Yk=function(a,b,c,e){S.call(this);if(!ia(a)||!ia(b))k(Error("Start and end parameters must be arrays"));if(a.length!=b.length)k(Error("Start and end points must be the same length"));this.Bl=a;this.oP=b;this.Qp=c;this.iB=e;this.coords=[]};t(Yk,S);
var Zk={},$k=i,al=function(){we.clearTimeout($k);var a=s();for(var b in Zk)Zk[b].EC(a);$k=Ya(Zk)?i:we.setTimeout(al,20)},bl=function(a){var b=qa(a);b in Zk||(Zk[b]=a);$k||($k=we.setTimeout(al,20))},cl=function(a){var b=qa(a);delete Zk[b];if($k&&Ya(Zk)){we.clearTimeout($k);$k=i}};o=Yk.prototype;o.wb=0;o.CD=0;o.Md=0;o.vc=i;o.qD=i;o.Tw=i;
o.mH=function(a){if(a||this.wb==0){this.Md=0;this.coords=this.Bl}else if(this.wb==1)return d;cl(this);this.vc=s();if(this.wb==-1)this.vc-=this.Qp*this.Md;this.qD=this.vc+this.Qp;this.Tw=this.vc;this.Md||this.Fn();this.qW();this.wb==-1&&this.sW();this.wb=1;bl(this);this.EC(this.vc);return j};o.stop=function(a){cl(this);this.wb=0;if(a)this.Md=1;this.jA(this.Md);this.tW();this.Ir()};o.C=function(){this.wb!=0&&this.stop(d);this.jW();Yk.b.C.call(this)};o.NO=function(){this.o()};
o.EC=function(a){this.Md=(a-this.vc)/(this.qD-this.vc);if(this.Md>=1)this.Md=1;this.CD=1000/(a-this.Tw);this.Tw=a;ma(this.iB)?this.jA(this.iB(this.Md)):this.jA(this.Md);if(this.Md==1){this.wb=0;cl(this);this.mW();this.Ir()}else this.wb==1&&this.Px()};o.jA=function(a){this.coords=new Array(this.Bl.length);var b=0;for(;b<this.Bl.length;b++)this.coords[b]=(this.oP[b]-this.Bl[b])*a+this.Bl[b]};o.Px=function(){this.Ug("animate")};o.Fn=function(){this.Ug("begin")};o.jW=function(){this.Ug("destroy")};
o.Ir=function(){this.Ug("end")};o.mW=function(){this.Ug("finish")};o.qW=function(){this.Ug("play")};o.sW=function(){this.Ug("resume")};o.tW=function(){this.Ug("stop")};o.Ug=function(a){this.dispatchEvent(new dl(a,this))};var dl=function(a,b){O.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.m3=b.coords[2];this.Qp=b.Qp;this.Md=b.Md;this.l2=b.CD;this.f3=b.wb;this.U1=b};t(dl,O);var el=function(a,b,c){S.call(this);this.Xg=H(a);this.hP=H(b);this.zm=c==j;this.Xg.tabIndex=0;Q(this.Xg,P,this.nW,d,this);Q(this.Xg,me,this.oW,d,this);this.ms(this.zm)};t(el,S);o=el.prototype;o.C=function(){ie(this.Xg);el.b.C.call(this)};o.expand=function(){this.ms(j)};o.collapse=function(){this.ms(d)};o.MJ=function(){this.ms(!this.zm)};o.ms=function(a){this.hP.style.display=a?"":"none";this.P0(a);this.zm=a;this.dispatchEvent(new fl("toggle",this,this.zm))};
o.P0=function(a){if(a){ec(this.Xg,"goog-zippy-collapsed");dc(this.Xg,"goog-zippy-expanded")}else{ec(this.Xg,"goog-zippy-expanded");dc(this.Xg,"goog-zippy-collapsed")}};o.oW=function(a){if(a.keyCode==13||a.keyCode==32){this.MJ();a.preventDefault();a.stopPropagation()}};o.nW=function(){this.MJ()};var fl=function(a,b,c){O.call(this,a,b);this.j2=c};t(fl,O);var gl="http://schemas.google.com";var hl=typeof p.Et!="undefined"&&!p.Et.default144thumbnails?[72,94,110,128,160,220,288]:[72,94,110,144,160,220,288],jl=hl.length-1,kl=gl+"/g/2005#feed",ll=gl+"/acl/2007#accessControlList",ml="deletefailed",nl=function(a,b){if(a)return a.isOwner(b);return d};var ol=function(a,b){this.ia=a;this.u=b;this.Qw=0;this.Yr=b.entry};ol.prototype.next=function(){if(this.Qw>=this.Yr.length)return i;var a=this.Yr[this.Qw];++this.Qw;return this.Bu(a)};ol.prototype.Bu=function(){return i};ol.prototype.PQ=function(){return this.Yr?this.Yr.length:0};var pl=function(a,b,c,e){ol.call(this,a,b);this.Aa=c;if(!this.Aa)if(b.user)this.Aa=a.Hc(b.user,b.nickname);this.pa=e};t(pl,ol);pl.prototype.Bu=function(a){var b=this.ia.Zd(a,a.author&&a.author[0]?i:this.Aa,this.pa);b.ne(a);return b};var ql=function(a){if(ka(a))this.Ga=new hg(a);else if(a instanceof hg)this.Ga=a;else k(Error("Undefined object: "+a));this.Ga.oa("kind","photo");this.Ga.oa("alt","jsonm");this.ff=i};ql.prototype.toString=function(){return"Source: "+this.Ga.sd};var rl=/(\/user\/).*(\/|$)/,sl=/\/user\/([^\/\?]{3,})/;o=ql.prototype;o.dZ=function(a){this.Zf=a};o.url=function(){return this.Ga.toString()};o.$I=function(a){this.Ga.oa("subjectids",a)};o.Db=function(){return String(this.Ga.Ea("subjectids")||"")};o.AF=function(){return d};
o.NY=function(a,b){this.Ga.oa("start-index",String(a));this.Ga.oa("max-results",String(b))};o.u_=function(a){this.Ga.wl(this.Ga.sd.replace(rl,"$1"+a+"$2"))};o.Hc=function(){var a=sl.exec(this.url());if(a&&a.length>1)return a[1];return""};o.Hm=function(a,b){return new this.Zf(a,b)};o.Gv=function(){var a={},b=this.Db();if(b)a.subjectids=b;return a};o.Fd=function(){return this.ff};var tl=function(a){ql.call(this,a);this.Zf=pl};t(tl,ql);o=tl.prototype;o.Aa=i;o.pa=i;o.toString=function(){return"AlbumSource: "+this.Ga.sd};o.Zf=pl;o.mQ=function(a,b){var c=a.hb(b.user,b.gphoto$id,b.title,"");c.Po(b);return c};o.Hm=function(a,b){if(this.ff)this.ff.Jl(b);else this.ff=this.mQ(a,b);if(this.Zf==pl){var c=a.Hc(b.user,b.nickname);return new this.Zf(a,b,c,this.ff)}else return tl.b.Hm.call(this,a,b)};var vl=function(a){this.si=[];if((this.T2=a)&&a.entry){var b=a.entry,c=0;for(;c<b.length;c++)this.si.push(new ul(b[c]))}};vl.prototype.get=function(a){return this.si[a]};vl.prototype.remove=function(a){Ja(this.si,a)};vl.prototype.yX=function(a){var b=Ba(this.si,function(c){return c.ye()==a},this);b>=0&&this.remove(b)};var ul=function(a){this.ao=a;this.JW()};o=ul.prototype;o.fI="none";o.se=i;o.Aa=i;o.ye=function(){return this.ve};o.mq=function(){return this.kl};o.Cb=function(){return this.se||this.ve};
o.Fi=function(){return this.Aa};o.JW=function(){var a=this.ao.scope;this.Aa=this.ao.user;this.ve=a.value;if(a.type=="user")this.kl="user";var b=this.ao.role$value;if(b=="reader")this.fI="reader";else if(b=="none"){this.fI="none";this.kl="invite"}if(this.ao.nickname)this.se=this.ao.nickname};var wl=function(a){S.call(this);this.ia=a};t(wl,S);o=wl.prototype;o.Xn=0;o.id="-1";o.wD="";o.T=i;o.dF="";o.$f="";o.Dw=j;o.isOwner=function(a){if(!a)return d;var b;if(this.xa&&this.xa.user){if(typeof a=="string")b=a;else if(a.name)b=a.name;return this.xa.user==b}return d};o.pd=function(){if(!this.Ld){var a,b="";if(this.xa&&this.xa.user){var c=this.xa.user;if(typeof c=="string")a=c;else if(c.name){a=c.name;b=c.nickname||""}this.Ld=this.ia.Hc(a,b)}}return this.Ld};o.Po=function(){};o.ne=function(a){this.pn(a)};
o.Jl=function(a){this.pn(a)};o.pn=function(a){if(this.xa){var b=wa(this.xa.link,function(c){return!xl(a.link,c)});Na(a.link,b);fb(this.xa,a)}else this.xa=a;this.Dw=j};var xl=function(a,b){return Ba(a,function(c){return c.rel==b.rel})>-1};o=wl.prototype;
o.Oi=function(){if(this.Dw&&this.xa){this.Dw=d;if(this.xa&&this.xa.link){var a=this.xa.link;this.Zo=i;var b=0;for(;b<a.length;++b){var c=a[b],e=c.href||"";switch(c.rel){case kl:this.wD=e;break;case "alternate":this.dF=e;break;case "self":if(yb(e,"/entry/"))this.$f=e;break;case "edit":this.gP=e;break;case ll:this.Zo=new vl(c.feed);break}}}if(!this.Zo)this.Zo=new vl(i)}};o.mh=function(){return this.wd};o.Be=function(){return this.xa?this.xa.title:""+this};o.Av=function(){this.Oi();return this.wD};
o.hq=function(){this.Oi();return this.$f};o.ih=function(a){this.Oi();var b=this.dF;if(a){var c=new hg(b);c.oa("feat",a);b=c.toString()}return b};o.QD=function(){this.Oi();return this.gP};o.jQ=function(){this.Oi();return this.Zo};o.Ta=function(a){this.T||this.iU(a);return this.T};o.iU=function(a){this.T=this.ia.DQ(this,a)};o.Ei=function(){return this.T?this.T.Ei():this.ia.LC};o.F=function(){return this.id||"-1"};o.yh=function(){return yl(this.lat,this.lon)};
o.thumbnail=function(a){var b="img/picasalogo.gif",c=new y(27,25),e=this.Fm();if(e){var f=Math.min(a||0,hl.length),g=hl[f],h=new y(g,g);b=e.url||b;if("width"in e&&"height"in e){c.width=e.width;c.height=e.height;var l=Qe(c,h);if(!Ua(c,l)){b=Me(b,l);c=l}}else{c=Se(h,h);b=Me(b,c,j)}}return{url:b,height:String(c.height),width:String(c.width)}};o.O0=function(a){if(!this.T)this.T=a};o.load=function(a){this.isLoaded()?a(this):this.Ui(a)};o.reload=function(a){this.Ui(a)};
o.Ui=function(a){this.Ei().send(this.hq(),r(function(b){if(b.status==404){typeof this.ro!="undefined"&&this.ro();a(this)}else{this.Jl(b.lg().entry);a(this)}},this))};o.ja=function(){if(this.xa)return Number(this.xa.numPhotos);return 0};o.isLoaded=function(){return!!this.xa};o.oh=function(a){return this.thumbnail(a).url};o.Fm=function(){if(this.xa){var a=this.xa.media,b=a?a.content:i;if(b&&b.length)return b[0]}return i};o.xe=function(){var a=this.Fm();if(a)return this.LG(a.url);return i};
o.yv=function(){var a,b=this.thumbnail();if(b)a=b.width/b.height;return a||0};o.Lp=function(){this.ia.Lp(this)};o.HO=function(a,b,c){this.aX(a,b,c)};o.tH=function(a,b,c,e){this.dy(this.QD(),zl,a,"POST",b,c,e)};o.aX=function(a,b,c){this.dy(this.QD(),Al,"","POST",a,b,c)};
o.dy=function(a,b,c,e,f,g,h){if(this.Xn){++this.Xn;if(this.Xn>10)h&&h("Timed out attempting to post");else ye(r(function(){this.dy(a,b,c,e,f,g,h)},this),50)}else{this.Xn=1;var l=r(function(n){this.$W(n,f,g)},this),m;if(g)m=r(g,this);this.Ei().send(a,l,m,h,e,c,b)}};o.$W=function(a,b,c){this.Xn=0;if(a.Ae()>=400)c&&c(this);else{var e=a.lg();e&&"entry"in e&&this.Jl(e.entry);b&&b(this)}};
var Cl=function(a){var b=i;if(a){var c;if("lat"in a&&"lon"in a)c=a.lat+" "+a.lon;var e=a.georss$where;if(e){var f=e.gml$Point;if(f)c=f.gml$pos}if(c)b=Bl(c);if(b&&e){var g=e.gml$Envelope;if(g){var h=g.gml$lowerCorner,l=g.gml$upperCorner;if(h&&l){var m=Bl(h),n=Bl(l);if(m&&n)b.bb={ll:m,ur:n}}}}}return b},Bl=function(a){if(a){var b=a.split(" ");if(b.length==2){var c=Number(b[0]),e=Number(b[1]);if(yl(c,e))return{lat:c,lon:e}}}return i},yl=function(a,b){if(ha(a)&&ha(b))if((la(a)||!lb(a))&&(la(b)||!lb(b))){var c=
Number(a),e=Number(b);return!isNaN(c+e)}return d};wl.prototype.LG=function(a){return a.replace(/%2D/gi,"-").replace(/%2E/gi,".").replace(/%5F/gi,"_").replace(/%7E/gi,"~")};var Dl=function(a,b,c,e,f){wl.call(this,a);this.Aj=b;this.id=c;this.name=this.title=e;this.Gp=f;this.link="/lh/sredir?uname="+this.Aj+"&target=ALBUM&id="+this.id;this.prints=d};t(Dl,wl);o=Dl.prototype;o.type="Album";o.AZ=function(a){if(a)this.link=a};o.xZ=function(a){this.kmlLink=a};o.FZ=function(a){this.tr=a};o.r_=function(a){this.l3=a};o.yZ=function(a){this.IF=a};o.Jy=function(a){if(a)this.Se=a};
o.Fm=function(){if(this.xa&&this.xa.media)return Dl.b.Fm.call(this);var a="img/picasalogo.gif";if(this.IF)a=Le(this.IF);return{url:a}};o.isOwner=function(a){return this.Aj==a};o.pd=function(){if(!this.Ld)this.Ld=this.Aj&&!this.xa?this.ia.Hc(this.Aj,""):Dl.b.pd.call(this);return this.Ld};o.toString=function(){return"[Album: "+this.title+", user: "+this.Aj+"]"};o.hq=function(){this.Oi();if(!this.$f)this.$f=jb("/data/entry/api/user/%s/albumid/%s?alt=jsonm",this.Aj,this.id);return this.$f};
o.Po=function(a){this.xa||this.ne(a)};o.pn=function(a){Dl.b.pn.call(this,a);this.link=this.ih()||this.link;this.title=this.title||this.xa.title;this.Gp=this.Gp||this.xa.gphoto$name;this.name=this.name||this.Gp;this.kn=this.kn||this.xa.location;this.Se=this.Se||this.xa.access;this.prints=a.allowPrints&&a.allowPrints!="false";var b=Cl(a);if(b){if(isNaN(this.lat))this.lat=b.lat;if(isNaN(this.lon))this.lon=b.lon;if(b.bb)this.bb=b.bb}};o.mh=function(){if(!this.wd)this.wd=new tl(this.Av());return this.wd};
o.ja=function(){if(this.xa)return Number(this.xa.totalResults||this.xa.numPhotos);return 0};var El="itemsadded",Fl="totalchanged",Gl="too_many_results_requested",Hl="query_string_too_long";var Il=function(a,b,c,e,f){this.T=a;this.Jj=b;this.qd=c;this.Ja=e;this.dg=f;this.k3=this.Jj.length;this.T.addEventListener(El,r(this.load,this));var g=0;for(;g<this.Jj.length;++g)this.T.RU(this.Jj[g])};Il.prototype.tu=d;Il.prototype.Kw=function(){return this.tu};
Il.prototype.load=function(){if(this.tu)return j;var a=[],b=0;for(;b<this.Jj.length;++b){var c=this.Jj[b];this.T.hn[c]||a.push(c)}if(a.length==0){this.tu=j;this.T.removeEventListener(El,this.load.bind,d,this);this.dg(this.T,this.qd,this.Ja);return j}else this.Jj=a;return d};var Jl=function(a,b,c,e){this.ia=a;this.wd=b;this.OJ=c||a.LC;this.k=new T(this);this.k.e(this.ia,"deleteinitiated",this.aS);this.k.e(this.ia,"deletesucceeded",this.bS);this.k.e(this.ia,ml,this.$R);this.Jc=[];this.hn=[];this.sg=new Rc;this.db=la(e)?e:24;this.UX()};t(Jl,S);var Kl="PENDING";o=Jl.prototype;o.le=i;o.ji=0;o.py=i;o.jH=d;o.toString=function(){return"Feed: "+this.wd};o.EI=function(a){this.sD=a};o.UX=function(){this.reset()};o.mh=function(){return this.wd};
o.reset=function(){this.le=i;this.ji=0;this.py=i;this.Jc=[];this.hn=[]};o.o=function(){Jl.b.o.call(this);this.reset()};o.UZ=function(a){this.jH=a};o.vl=function(a){this.L2=j;this.db=a};o.Ei=function(){return this.OJ};o.uH=function(a,b,c){if(!!b){this.yH(a,b);this.hn[this.Yt(a)]=c}};o.EP=function(a){return ua(this.Jc,a)};o.ze=function(a){if(a<this.Jc.length)return this.Jc[a];return i};o.Yt=function(a){return Math.floor(a/this.db)};
o.RU=function(a){this.hn[a]=j;var b=a*this.db,c=b+1;if(!(c>1000)){var e=Math.min(this.db,1000-c+1);if(!(e<=0)){if(this.jH){var f=b;for(;f<b+e;++f)this.Jc[f]=Kl}this.wd.NY(c,e);this.OJ.send(this.wd.url(),r(Jl.prototype.kX,this,a*this.db,this.db),r(this.vq,this),r(this.EE,this))}}};o.EE=function(a){if(a){var b=a.target;b&&ee(b,Tf,r(this.EE,this))}this.dispatchEvent({type:"error",status:"timeout",value:a?a.currentTarget.jE():""})};
o.vq=function(a){var b;if(a){b=a.target;ee(b,Rf,r(this.vq,this))}var c,e;if(b){c=b.mc();var f=new hg(b.Uw);if(Gl==c)e=f.Ea("start-index");else if(Hl==c){var g=f.Ea("q");e=g?g.length:-1}}else c="unknown";this.dispatchEvent({type:"error",status:c,value:""+e})};o.kX=function(a,b,c){if(c.Ae()==500){var e=c.mc(),f="";if(Gl==e)f=""+a;else if(Hl==e){var g=this.wd.lh();f=""+g.length}this.dispatchEvent({type:"error",status:e,value:f})}else this.yH(a,c.lg())};
o.yH=function(a,b){if(b){var c=this.le,e=b.feed;this.le=Number(e.totalResults);this.ji=Math.max(this.ji,Number(e.crowdedLength||this.le));this.py=e.relatedKeyword;0==this.le&&this.dispatchEvent("noitems");this.VL(a,e);c!=this.le&&this.dispatchEvent(Fl)}};
o.VL=function(a,b){if(!!b){var c=this.wd.Hm(this.ia,b),e=Math.min(a+c.PQ(),this.le),f=e-a;this.Jc.length=Math.max(this.Jc.length,e);var g=0;for(;g<f;++g){var h=a+g,l=c.next();this.Mt(h,l)}Math.max(this.ji,this.Jc.length);var m=this.wd.Fd();m&&m.O0(this);this.dispatchEvent({type:El,offset:a,count:f,a2:this.Ud()})}};o.Mt=function(a,b){if(!(this.Jc[a]&&this.Jc[a]!=Kl)){this.sD&&this.sD(b,a);this.Jc[a]=b}};
o.load=function(a,b,c){var e=this.Yt(a),f=this.Yt(a+b-1),g=[],h=e;for(;h<=f;++h)this.hn[h]||g.push(h);if(g.length==0){c(this,a,b);return j}else return(new Il(this,g,a,b,c)).Kw()};o.isLoaded=function(){return i!=this.le};o.Ud=function(){return Math.min(this.ji||this.le,1000)};o.$s=function(){return this.le||0};o.aS=function(a){var b=a.target,c=this.EP(b);c>=0&&this.remove(c)&&this.sg.Z(b.id,[b,c])};o.remove=function(a){var b=d;if(Ja(this.Jc,a)){b=j;--this.ji}--this.le;this.dispatchEvent(Fl);return b};
o.bS=function(a){this.sg.remove(a.target.id)};o.$R=function(a){var b=a.target,c=this.sg.get(b.id);if(c){Ha(this.Jc,c[0],c[1]);this.sg.remove(b.id);++this.ji}++this.le;this.dispatchEvent(Fl)};var Ll=function(a,b,c,e){wl.call(this,a);this.ne(b);this.user=c;this.album=e};t(Ll,wl);Ll.prototype.type="Tag";Ll.prototype.toString=function(){var a="Tag "+this.t;if(this.user)a+=", user: "+this.user;if(this.album)a+=", album: "+this.album;return a};
var Ml=function(a){return'<entry xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/"><category scheme="http://schemas.google.com/g/2005#kind" term="http://schemas.google.com/photos/2007#photo" /><media:group><media:keywords>'+ya(a,function(b,c){b.push(C(c.t));return b},[]).join(",")+"</media:keywords></media:group></entry>"};Ll.prototype.ne=function(a){this.t=a.title;this.w=a.weight?a.weight:1};
var Nl=/[^,'" ][^, ]*|\"[^"]*(?:\"|$)|\'[^']*(?:\'|$)/g,Ol=function(a){var b=a.split(","),c=[];if(b){var e=0;for(;e<b.length;e++){var f=ob(b[e]);f.length>0&&c.push(f)}}return c},Pl=function(a){a=a.replace(/\xa0|\s/g," ");var b=a.match(Nl),c={},e=[];if(b){var f=0;for(;f<b.length;f++){var g=Cb(Cb(b[f].replace(/\xa0|\s/g," "),"'"),'"');if(g.length&&g!="'"&&g!='"'&&!c[g]){e.push(g);c[g]=1}}}return e};var Ql=function(a,b,c){this.Vh=a;if(!!b&&!!c)this.Gb=new y(b,c)};Ql.prototype.Ce=function(){return this.Vh};Ql.prototype.getSize=function(){return this.Gb};Ql.prototype.nw=function(){return!!this.Gb};var Rl=function(a,b,c,e){wl.call(this,a);this.MC=d;this.src="../img/picasaweblogo-en_US.gif";this.user=c;this.album=e||i;if(b){this.iA(b);var f=b.author;if(!this.user&&f){var g=f[0],h=g.email;this.user=this.ia.Hc(h,g.name||h)}if(!this.album&&this.user){this.album=this.ia.hb(this.user.name,this.gg(),this.Ij,this.Ot);this.album.Jy(b.access)}this.pc=j}};t(Rl,wl);Rl.prototype.type="Photo";var Sl=md("gphoto.api.Photo");o=Rl.prototype;o.M=function(a){Sl.U(a)};o.Ep=d;o.MC=d;o.ky=d;o.Zu=d;o.lr=d;o.dn="";
o.Pd="";o.Ru=0;o.Pa=[];o.fp=[];var Tl="photoDataReady";o=Rl.prototype;o.u=i;o.pc=d;o.CH="";o.isOwner=function(a){if(!a)return d;var b;if(typeof a=="string")b=a;else if(a.name)b=a.name;return this.user&&this.user.name==b};o.pd=function(){if(!this.Ld)this.Ld=this.user instanceof Ul?this.user:Rl.b.pd.call(this);return this.Ld};o.hb=function(){return this.album};o.gg=function(){return this.Pd};o.toString=function(){return"Photo "+this.t+", in album: "+this.album+", user: "+this.user};o.Ta=function(){return i};
o.uf=function(a){if(this.Xq())a(this);else{de(this,Tl,function(){a(this)},d,this);this.bx()}};o.Xq=function(){return this.Ru==2};o.sU=function(){return this.Ru==1};o.so=function(a){this.Ru=a};o.XZ=function(a){if(Number(a.feed.totalResults)>0){this.qF();this.bl.uH(0,a,j)}};o.XU=function(a){if(this.bl)a&&a(this.bl);else{this.qF();this.bl.load(0,10,sa(a,this.bl))}};o.qF=function(){var a=this.ia.kR(this.pd().name,this.F(),j);this.bl=new Jl(this.ia,a);this.bl.vl(10)};
o.hq=function(){this.Oi();if(!this.$f)this.$f=jb("/data/entry/api/user/%s/albumid/%s/photoid/%s?alt=jsonm",this.user.name,this.album.id,this.id);return this.$f};o.bx=function(){if(!this.sU())if(this.Xq())this.dispatchEvent(Tl);else if(this.user.name){this.so(1);var a=this.Av();a+="&nocache="+s();this.Ei().send(a,r(this.AP,this))}else{this.pc=j;this.u=i;this.ro()}};o.Fa=function(){return!!this.Do};o.Sm=function(){return!!this.be};
o.DF=function(){var a=this.Be().toLowerCase();return ib(a,".jpg")||ib(a,".jpeg")};o.thumbnail=function(a){var b=Ue(this.Eg,"");if(!b)return Rl.b.thumbnail.call(this,a);var c=new y(288,216);return{url:b,height:String(c.height),width:String(c.width)}};o.AP=function(a){try{this.so(2);if(a.Ae()>=400){this.ro();return}this.ne(a.lg().feed)}catch(a){this.M(String(a));return}this.Xq()&&this.dispatchEvent(Tl)};
o.Jl=function(a){wl.prototype.Jl.call(this,a);this.iA(a);if(this.xa&&a&&a.media)this.xa.media.keywords=a.media.keywords;this.pc=j};
o.iA=function(a){wl.prototype.Jl.call(this,a);var b=a.media,c=b.content[0];this.s=this.LG(c.url);this.id=a.gphoto$id;this.w=Number(a.width||c.width);this.h=Number(a.height||c.height);this.zI(C(b.description));this.t=C(b.title);this.$p=a.exif;this.DP=a.title;this.R=a.timestamp||this.R;this.Gb=a.size;this.Pd=a.albumId||this.Pd;this.Ij=a.albumTitle||this.Ij;this.Ot=a.albumCTitle||this.Ot;this.Ux=a.gphoto$originalvideo||this.Ux;this.fp=a.albumInfo||this.fp;this.sJ=a.snippet||"";this.e3=a.snippettype||
"";this.G0=a.truncated=="1";this.jX(a);var e=b.content[1];if(e){this.Do=new Ql(B(e.url),e.width,e.height);this.Eg=a.videostatus;var f=b.content[2];if(f)this.be=new Ql(B(f.url),f.width,f.height)}this.CH=A(b,"keywords")||"";this.ac=b.thumbnail;this.gI=a.htmlCaption};
o.ne=function(a){if(!!a){this.pn(a);this.iA(a);if(!this.user){var b=a.author[0],c=b.email;this.user=this.ia.Hc(c,b.name||c)}this.lr=!!a.ccOverride;this.dn=a.cc;this.Pa=a.entry;this.ky=a.allowPrints=="true";this.Zu=a.allowDownloads=="true";if(!this.album)this.album=this.ia.hb(this.user.name,this.gg(),this.Ij,this.Ot);this.album&&a.access&&this.album.Jy(a.access);if(this.ky){var e=this.hb();if(e)e.prints=j}this.dl=""==a.uname||this.Zu;this.pc=j;Rl.b.ne.call(this,a);if(a.author){var f=a.author[0];if(!this.user.name)this.user.name=
f.email;if(!this.user.nickname)this.user.nickname=f.name}this.user.name||this.ro()}};o.ro=function(){this.MC=j;this.dispatchEvent("deleted")};o.yv=function(){if(la(this.w)&&la(this.h))return this.w/this.h;return 0};o.xe=function(a,b){var c=i;if(this.s){c=Le(this.s);if(a)c=Me(c,a,b)}return c};o.Mm=function(){if(!this.hc){this.hc=[];var a=Ol(this.CH),b=0;for(;b<a.length;++b){var c=a[b];!c||this.hc.push(this.ia.mE({title:c},this.user,this.album))}}return this.hc};
o.FX=function(a,b){this.hc&&Ka(this.hc,a);b&&this.ey()};o.ZL=function(a,b,c){this.hc||this.Mm();var e=this.ia.mE({title:a,weight:b},this.user,this.album);this.hc.push(e);c&&this.ey();return e};o.ey=function(a,b,c){this.tH(Ml(this.Mm()),a,b,c);this.reload(function(){})};o.ig=function(){return this.c};o.zI=function(a){this.c=Db(a,1024)};
o.jX=function(a){var b=Cl(a);if(b){if(isNaN(this.lat))this.lat=b.lat;if(isNaN(this.lon))this.lon=b.lon;if(b.bb)this.bb=b.bb;if(this.$p){this.$p.latitude=this.lat;this.$p.longitude=this.lon}}};o.JI=function(a){this.dn=a};o.KI=function(a){this.lr=a};o.getDate=function(){return this.R};o.hh=function(){return this.h};o.Be=function(){return this.t};o.xT=function(){return!!this.Ux};o.b_=function(a){this.gI=Db(a,1024)};o.kw=function(){return this.fp.length>0};var Vl=function(a){ql.call(this,a);this.Zf=pl};t(Vl,ql);o=Vl.prototype;o.$Z=function(a,b){a?this.Ga.oa("q",a):this.Ga.sc.remove("q");ba(b)&&this.VY(b)};o.lh=function(){return String(this.Ga.Ea("q")||"")};o.TY=function(a){var b=this.ID();if(b!=a){b=a||"G";this.Ga.oa("psc",b);b=="G"&&this.Ga.oa("access","public")}};o.UY=function(a){a?this.Ga.oa("uname",a):this.Ga.sc.remove("uname")};o.ID=function(){return String(this.Ga.Ea("psc")||"G")};o.wT=function(){return!!this.Ga.Ea("psc")};
o.VY=function(a){var b=this.AF();if(b!=a)(b=a)?this.Ga.oa("filter","1"):this.Ga.sc.remove("filter")};o.AF=function(){return this.Ga.Ea("filter")=="1"};o.Gv=function(){var a=Vl.b.Gv.call(this);if(this.wT())a.psc=this.ID();var b=this.lh(),c=this.Mm();if(b)a.q=b;else if(c)a.tags=c;return a};o.Mm=function(){return this.Ga.Ea("tag")||""};o.a_=function(a,b){this.Ga.oa("relatedTo",a+","+b)};var Wl=function(a,b,c){ol.call(this,a,b);this.Aa=c};t(Wl,ol);Wl.prototype.Bu=function(a){var b=this.ia.hb(this.Aa.name,a.gphoto$id,a.title,a.gphoto$name);b.ne(a);return b};var Xl=function(a,b){ql.call(this,a);this.yA=b;this.Ga.oa("kind","album");var c=this.Ga.sd.match(sl);if(c&&c.length>1)if(c[1]!=this.yA){this.u_(this.yA);var e=this.Ga.sc;if(e.Bc("authkey")){e.remove("authkey");e.remove("access")}}this.Zf=Wl};t(Xl,ql);Xl.prototype.toString=function(){return"UserSource: "+this.yA};Xl.prototype.Hm=function(a,b){if(this.Zf===Wl){if(!this.ff){var c=a.Hc(b.user,b.nickname);c.Po(b);this.ff=c}return new this.Zf(a,b,this.ff)}else return Xl.b.Hm.call(this,a,b)};var Ul=function(a,b,c){wl.call(this,a);this.name=b;this.nickname=c;this.og=U.Ls()+"noportrait.jpg";this.DD=this.nickname;this.Qu=this.loaded=d;this.Tp=""};t(Ul,wl);Ul.prototype.type="User";var Yl="userDataReady";o=Ul.prototype;o.mh=function(){if(!this.wd)this.wd=new Xl(this.Av(),this.name);return this.wd};o.Po=function(a){Ul.b.Po.call(this,a);this.og=a.og;this.DD=a.title};o.isOwner=function(a){var b;if(typeof a=="string")b=a;else if(a.name)b=a.name;return this.name==b};o.pd=function(){return this};
o.toString=function(){return"User "+this.nickname+", username: "+this.name};o.load=function(a){this.uf(a)};o.uf=function(a){if(this.Qu)a(this);else{Q(this,Yl,function(){a(this)},j,this);this.bx()}};o.bx=function(){if(this.Qu){this.loaded=j;this.dispatchEvent({type:Yl})}else{var a=this.hq()||"/data/entry/api/user/"+this.name+"?alt=jsonm";this.Ei().send(a,r(Ul.prototype.Yv,this))}};o.ne=function(a){Ul.b.ne.call(this,a);this.og=a.thumbnail||this.og;this.DD=a.title;this.name=a.user;this.nickname=a.nickname};
o.Yv=function(a){var b=a.lg();if(b){this.loaded=this.Qu=j;this.ne(b.entry);this.dispatchEvent({type:Yl})}};var Zl=function(){},$l=function(a,b,c){this.Cz=a;this.GV=b;this.CU=c};$l.prototype.Ae=function(){return this.Cz};$l.prototype.mc=function(){return this.GV};$l.prototype.lg=function(){return this.CU};var am=function(){Zl.call(this)};t(am,Zl);var zl={"Content-Type":"application/atom+xml","X-HTTP-Method-Override":"PUT"},Al={"Content-Type":"application/atom+xml","X-HTTP-Method-Override":"DELETE"};am.prototype.send=function(a,b,c,e,f,g,h){var l=new bg;Q(l,Pf,r(this.zq,this,b,c));l.ys(30000);e&&Q(l,Tf,e);c&&Q(l,Rf,c);if(!h&&f=="POST")h=zl;Q(l,"ready",l.o,d,l);l.send(a,f,g,h)};
am.prototype.zq=function(a,b,c){var e=c.target;ee(e,r(this.zq,this));var f,g=e.Ae();if(!(g<0)){if(g>=400)if(b){b(c);return}else f=new $l(g,e.mc(),"");else try{var h=e.mc(),l=h?cf(h):i;f=new $l(0,"",l)}catch(m){if(b){b(m);return}}a(f)}};var bm=function(a){this.ib=new Rc;this.ed=new Rc;this.zA=new Rc;this.hc=new Rc;this.qu={};this.qu.Album=this.ed;this.qu.Photo=this.ib;this.LC=a||new am;this.sg=new Rc;this.M=md("gphoto.api.DataManager")};t(bm,S);o=bm.prototype;o.reset=function(){this.ib.clear();this.ed.clear();this.zA.clear()};o.nQ=function(a,b,c,e,f){var g=this.hb(b,c,e||"",f||"");a=cm(a);var h=new tl(a);if(!h.ff)h.ff=g;return h};
o.nq=function(a,b,c,e,f){var g=cm(f||"/data/feed/api/all"),h=new Vl(g);h.$Z(b||"",e);a&&h.UY(a);c&&h.TY(c);return h};o.kR=function(a,b,c,e){var f=this.nq(i,"",undefined,c,e);f.a_(a,b);return f};o.lQ=function(a,b,c,e){var f=this.nQ(a,b,c.id,c.title||"",c.name||"");return new Jl(this,f,e,1000)};o.eR=function(a,b){a=cm(a);var c=new ql(a);c.dZ(pl);return new Jl(this,c,b)};o.DQ=function(a,b){var c=cm(a.mh());return new Jl(this,c,b||a.Ei())};
o.hb=function(a,b,c,e){var f=a+b,g=this.ed.get(f);if(!g){g=new Dl(this,a,b,c,e);this.ed.Z(f,g)}return g};o.kQ=function(a,b){return this.ed.get(a+b)};o.Hc=function(a,b){var c=this.zA.get(a);if(!c){c=new Ul(this,a,b);this.zA.Z(a,c)}return c};o.Zd=function(a,b,c){if(!a)return i;var e=a.gphoto$id,f=this.ib.get(e);if(!f){f=new Rl(this,a,b,c);this.ib.Z(e,f)}return f};
o.cR=function(a,b,c){var e=this.ib.get(a);if(!e){e=new Rl(this);if(b){e.user=this.Hc(b,"");if(c)e.album=this.hb(b,c,"","")}e.id=a;this.ib.Z(a,e)}return e};o.mE=function(a,b,c){if(!a)return i;var e=a.title,f=this.hc.get(e);if(!f){f=new Ll(this,a,b,c);this.hc.Z(e,f)}return f};
o.Lp=function(a){if(!a||!a.id)k(Error("Invalid Entity: "+a));var b=this.qu[a.type];if(!b)k(Error("Can't delete entities of type: "+a?a.type:"null"));var c=a.id;if(!this.sg.get(c))if(this.dispatchEvent(new O("deleterequested",a))){this.dispatchEvent(new O("deleteinitiated",a));this.sg.Z(c,a);b.remove(c);a.HO(r(this.dS,this),r(this.cS,this));this.dispatchEvent(new O("deleteposted",a))}else this.dispatchEvent(new O("deletecancelled",a))};
o.dS=function(a){this.sg.remove(a.id);this.dispatchEvent(new O("deletesucceeded",a))};o.cS=function(a){this.sg.remove(a.id);this.dispatchEvent(new O(ml,a))};o.ab=function(){return"gphoto.api.DataManager"};var cm=function(a){if(typeof p.Et!="undefined"&&p.Et.PERFORMANCE_EXPERIMENTS)a=a.replace("/data/feed/api/","/data/feed/t/");return a};var dm=function(a){X.call(this);this.Fp=a||[]};t(dm,X);o=dm.prototype;o.ab=function(){return"gphoto.context.BreadCrumb"};o.A=function(){dm.b.A.call(this);var a=this.Fp.length-1;v(this.Fp,function(b,c){c>0&&K(this.f(),I("span",{"class":"gphoto-context-separator"},">"));var e;e=b[1]?I("a",{href:b[1]}):J("span");K(this.f(),e);if(b[2])e.innerHTML=b[0];else N(e,b[0]);c==a&&F(e,"gphoto-context-current")},this)};o.ap=function(a,b){this.Fp.push([a,b])};
o.PL=function(a){v(a,function(b){this.ap(b[0],b.length>1&&b[1]?b[1]:i)},this)};o.Gj=function(a,b){this.Fp.push([a,b,j])};var em=function(a,b){X.call(this);this.i=new T(this);this.Xa=a||"";this.wx=[];if(b)this.jd=b};t(em,X);o=em.prototype;o.jd="gphoto-context-toggle";o.ab=function(){return"gphoto.context.Toggle"};o.r=function(){this.Zb(J("span"));F(this.f(),this.jd)};o.C=function(){em.b.C.call(this);this.i.o()};o.K=function(){em.b.K.call(this);this.i.Y()};o.A=function(){em.b.A.call(this);this.Xa&&N(this.j,this.Xa+"\u00a0");this.Vs=J("span");K(this.j,this.Vs);this.redraw()};
o.redraw=function(){this.i.Y();sc(this.Vs);v(this.wx,function(a,b){b>0&&this.Vs.appendChild(I("span",{"class":"gphoto-context-separator"},"|"));var c,e=a.action;if(a.id==this.la)c=J("b");else if(ka(e))c=I("a",{href:e});else{c=I("span",{"class":"lhcl_fakelink"});this.i.e(c,P,r(this.IV,this,a))}N(c,a.label);this.Vs.appendChild(c)},this)};o.Jg=function(a,b,c){this.wx.push({id:a,action:b,label:c})};o.ie=function(a){var b=this.la!=a;this.la=a;b&&this.N&&this.redraw()};o.IV=function(a){this.ie(a.id);a.action()};var fm=function(a,b){O.call(this,"objectionrequest",a);this.Yg=a;this.pB=b||""};t(fm,O);var gm=function(a,b,c){X.call(this);this.jd=b||"goog-icon-list";this.jb=[];this.i=new T(this);this.Wi=new T(this);this.eP=new T(this);this.HI(c||this.jd+"-icon");this.GI(a)};t(gm,X);var hm=md("goog.ui.IconList");o=gm.prototype;o.M=function(a){hm.U(a)};o.Jq="";o.IW=d;o.Hp=0;o.rV=0;o.hs=i;o.$C=i;o.Hy=0;o.Tu={};o.o=function(){if(!this.pb()){gm.b.o.call(this);this.i.o();this.Wi.o();this.eP.o();this.Ek&&ge(this.Ek)}};o.ab=function(){return"goog.ui.IconList"};
o.A=function(){gm.b.A.call(this);F(this.j,this.jd);this.Jh()};o.K=function(){this.i.Y();gm.b.K.call(this)};o.Jh=function(){if(!!this.N)if(!(!this.g||this.g&&this.g.isLoaded&&!this.g.isLoaded())){this.nc&&this.mu();this.Cu();this.WO()}};o.Cu=function(){if(this.Wc.prototype.Sz){var a=J("table");K(this.j,a);V(a,"width","100%");this.nc=J("tbody");K(a,this.nc)}else{this.nc=J("div");K(this.j,this.nc);var b=J("div");V(b,"clear","both");V(b,"font-size","0");K(this.j,b)}F(this.nc,this.jd+"-area")};
o.WO=function(){if(!!this.g){var a=this.g.ja(),b=0,c=a;if(this.IW){var e=this.lq()*this.rV;b=this.Hp*e;c=Math.min(b+e,a)}var f=this.Wc.prototype.ru;this.VN(b,c,f);this.i.e(this,hk,this.sq);this.i.e(this,Hf,this.uq);this.i.e(this,Gf,this.uq)}};o.VN=function(a,b,c){if(c){var e=this.Wc.prototype.Sz,f,g=a;for(;g<b;g++){if((g-a)%c==0){f=J(e?"tr":"div");K(this.nc,f)}this.tm(g,f)}}else{var g=a;for(;g<b;g++)this.tm(g,this.nc)}};
o.tm=function(a,b){var c;if(this.g)c=this.g.Xd(a);var e=new this.Wc(this,this.Jq,a,c);this.H(e);e.G(b);this.$C&&this.$C.Yl(e.f(),e)};o.mu=function(){this.Vj();this.i.Y();this.Wd(function(a){a.o()});this.zd=this.ha=i;this.N&&sc(this.j);this.nc=i};
o.lq=function(){var a=this.Wc.prototype.ru,b=this.Wc.prototype.width;if(a)return a;else if(b)return Math.floor(this.nc.offsetWidth/b)||1;else if(this.ha.length){var c=of(this.ha[0].f()).x,e=1;for(;e<this.ha.length;e++){var f=of(this.ha[e].f()).x;if(f<=c)break;c=f}return e}return 0};o.B=function(a){if(this.g){this.mu();this.Wi.Y()}gm.b.B.call(this,a);if(this.g){this.Wi.e(this.g,"insert",this.BS);this.Wi.e(this.g,"remove",this.$S);this.Wi.e(this.g,"update",this.qT)}this.N&&this.Jh()};o.BS=function(){this.Jh()};
o.$S=function(){this.Jh()};o.qT=function(a){var b=a.index,c=a.nP;for(;b<=c;b++){var e=this.kf(b);e&&e.na()}};o.My=function(a){this.jd=a;this.N&&F(this.j,a)};o.GI=function(a,b){if(this.Wc!=a){this.Wc=a;this.mu();b&&this.HI(b);this.Jh()}};o.HI=function(a){if(this.Jq!=a){this.Jq=a;this.Wd(function(b){b.My(a)})}};o.c_=function(a){this.Hy=a;if(a==0)this.Vj();else if(a==1){var b=this.hs;this.Vj();b&&this.gs(b,j)}};
o.sq=function(a){var b=a.target;if(this.Hy==1){a.ctrlKey=d;a.shiftKey=d}if(Yb){a.ctrlKey=a.shiftKey;a.shiftKey=d}if(a.shiftKey){this.jb.length==0&&this.fz(b);var c=this.eE(),e=b.jh();if(e<c){var f=c;c=e;e=f}a.ctrlKey||this.Vj();var g=c;for(;g<=e;g++)this.gs(this.ha[g],j)}else if(a.ctrlKey||this.Hy==3){this.gs(b,!b.jb);this.fz(b)}else if(!b.jb){this.Vj();this.gs(b,j);this.fz(b)}a.GL?this.RO():this.Uu();a.stopPropagation();a.preventDefault()};
o.uq=function(a){var b=a.target,c=String(b.jh()),e=d;if(a.type==Hf&&A(this.Tu,c)){Za(this.Tu,c);e=j}else if(a.type==Gf&&b.jb){ab(this.Tu,c,j);e=j}if(e){this.WB(b,a.type==Hf);this.Uu()}a.stopPropagation();a.preventDefault()};o.Vj=function(){if(this.jb.length){for(;this.jb.length;)this.jb.pop().Bf(d);this.Uu()}};o.gs=function(a,b){if(a.rb()){this.WB(a,b);this.jr=a}};o.WB=function(a,b){(b?Ra:Sa)(this.jb,a,kk);a.Bf(b)};o.fz=function(a){this.hs=a};o.eE=function(){return this.hs?this.hs.jh():0};
o.Wm=function(a){return this.ha?Qa(this.ha,a,kk):-1};o.Uu=function(){this.dispatchEvent("select")};o.RO=function(){this.dispatchEvent("change")};o.kP=function(a){if(a&&!this.Ek)this.Ek=Q(document,me,this.DS,d,this);else if(!a&&this.Ek){ge(this.Ek);this.Ek=i}};
o.DS=function(a){if(!!(this.ha&&this.ha.length&&im(a))){var b=a.keyCode,c=this.jr?this.jr.jh():this.eE(),e=this.lq();if(b==38||b==40){var f=b==38?c-e:c+e;if(f>=0&&f<this.ha.length)c=f}else if(b==37){var f=c-1;if(f%e<c%e)c=f}else if(b==39){var f=c+1;if(f%e>c%e)c=f}c=Li(c,0,this.ha.length-1);var g=this.ha[c];g!=this.jr&&a.preventDefault();a.shiftKey||this.Vj();this.sq(new jk(g,a));this.jr=g}};var im=function(a){if(a.altKey&&!a.ctrlKey)return d;switch(a.keyCode){case 38:case 40:case 37:case 39:return j}return d};var jm="entitychanged";var km=function(a,b){this.$a=a;this.ow=b};km.prototype.K=function(){this.$a&&L(this.$a)};var lm=function(a){X.call(this);this.qK=a;this.k=new T(this);this.Dy={}};t(lm,X);o=lm.prototype;o.A=function(){lm.b.A.call(this);this.qK&&this.k.e(this.qK,jm,this.Rj)};o.K=function(){this.k.Y();Va(this.Dy,function(a){a.K()});lm.b.K.call(this)};o.o=function(){if(!this.Zq()){lm.b.o.call(this);this.k.o()}};o.Rj=function(a){var b=a.Yg;this.B(b)};o.r=function(){this.j=I("div",{"class":"lhcl_sidebox",style:"display: none;"})};
o.oq=function(a){var b=this.Dy[a];if(!b){var c=I("div",{"class":"lhcl_hideoverflow",style:"position: relative"}),e=J("div");K(this.j,c);K(c,e);b=new km(c,e);this.Dy[a]=b}return b};o.Ne=function(a,b,c){var e=this.oq(a),f;if(c){f=J("a");f.href=c;f.title=b;N(f,b)}if(!e.Ko){e.Ko=I("div",{"class":"lhcl_title gphoto_entityDetailBoxTitle"});K(e.ow,e.Ko)}if(f){sc(e.Ko);K(e.Ko,f)}else N(e.Ko,b)};o.show=function(a){this.j&&W(this.j,a)};var nm=function(a,b){this.vf=a||0;this.pp=!!b;this.I=new Rc;this.ua=new mm("",undefined);this.ua.bd=this.ua;this.ua.next=this.ua.bd};o=nm.prototype;o.get=function(a,b){var c=this.I.get(a);if(c){if(this.pp){c.remove();this.Hw(c)}return c.value}return b};o.Z=function(a,b){var c=this.I.get(a);if(c){c.value=b;if(this.pp){c.remove();this.Hw(c)}}else{c=new mm(a,b);this.I.Z(a,c);this.Hw(c)}};o.shift=function(){return this.qH(this.ua.next)};o.pop=function(){return this.qH(this.ua.bd)};
o.remove=function(a){var b=this.I.get(a);if(b){b.remove();this.I.remove(a);return j}return d};o.ja=function(){return this.I.ja()};o.isEmpty=function(){return this.I.isEmpty()};o.kg=function(){return this.map(function(a,b){return b})};o.Uc=function(){return this.map(function(a){return a})};o.contains=function(a){return this.some(function(b){return b==a})};o.Bc=function(a){return this.I.Bc(a)};o.clear=function(){this.I.clear();this.ua.bd=this.ua;this.ua.next=this.ua.bd};
o.forEach=function(a,b){var c=this.ua.next;for(;c!=this.ua;c=c.next)a.call(b,c.value,c.Da,this)};o.map=function(a,b){var c=[],e=this.ua.next;for(;e!=this.ua;e=e.next)c.push(a.call(b,e.value,e.Da,this));return c};o.some=function(a,b){var c=this.ua.next;for(;c!=this.ua;c=c.next)if(a.call(b,c.value,c.Da,this))return j;return d};o.every=function(a,b){var c=this.ua.next;for(;c!=this.ua;c=c.next)if(!a.call(b,c.value,c.Da,this))return d;return j};
o.Hw=function(a){if(this.pp){a.next=this.ua.next;a.bd=this.ua;this.ua.next=a;a.next.bd=a}else{a.bd=this.ua.bd;a.next=this.ua;this.ua.bd=a;a.bd.next=a}this.F0()};o.F0=function(){if(this.vf){var a=this.I.ja();for(;a>this.vf;a--){var b=this.pp?this.ua.bd:this.ua.next;b.remove();this.I.remove(b.Da)}}};o.qH=function(a){if(this.ua!=a){a.remove();this.I.remove(a.Da)}return a.value};var mm=function(a,b){this.Da=a;this.value=b};
mm.prototype.remove=function(){this.bd.next=this.next;this.next.bd=this.bd;this.bd=this.next=i};var om=function(a){S.call(this);this.SI(a);this.i=new T(this);this.WX=new Of(this.YX,100,this)};t(om,S);o=om.prototype;o.va=d;o.o=function(){if(!this.pb()){om.b.o.call(this);this.i.o();if(this.L){L(this.L);delete this.L}}};o.load=function(a){this.vy();this.va=j;this.iH=a;a.vc=s();var b=a.tc,c=Ca(b,function(g){return g.jF}),e=c?c.jF:this.KQ(),f=a.src;if(e.src==f&&e.complete){this.vy();this.dispatchEvent(new O(Pf,a))}else{this.i.e(e,[qe,Sf,Rf],this.qh);e.src=f}};
o.KQ=function(){if(!this.L){var a=J("img");this.L=a;V(a,"position","absolute");V(a,"visibility","hidden");wf(a,1,1);kf(a,10,-10);K(document.body,a)}return this.L};o.vy=function(){this.va=d;this.iH=i;this.i.Y();this.L&&this.WX.start()};o.YX=function(){if(this.L&&!this.va)this.L.src=Ie};o.qh=function(a){var b=a.type==qe?Pf:Rf,c=this.iH;this.vy();this.dispatchEvent(new O(b,c))};var pm=function(a){this.src=a;this.tc=[];this.uy={}};pm.prototype.hM=function(a,b){this.uy[a]=b;this.tc.push(b)};pm.prototype.EX=function(a){var b=this.uy[a];if(b){Za(this.uy,a);Ka(this.tc,b);b.jF=i;b.callback=i;b.ym=i}};pm.prototype.zT=function(){return this.tc.length>0};var qm=function(){this.or=[];this.Zc=[];this.Qn={};this.i=new T(this)};t(qm,S);o=qm.prototype;o.o=function(){if(!this.pb()){qm.b.o.call(this);v(this.or,function(a){a.o()});this.i.o()}};o.load=function(a){var b=a.Da,c=Me(a.Rd,a.qf,a.Uf),e=this.Qn[c];if(!e){e=new pm(c);this.Qn[c]=e;this.Zc.push(e)}e.hM(b,a);this.bG()};o.remove=function(a){var b=a.Da,c=Me(a.Rd,a.qf,a.Uf),e=this.Qn[c];if(e){e.EX(b);if(!e.zT()){Za(this.Qn,c);Ka(this.Zc,e)}}};
o.bG=function(){if(this.Zc.length){var a=this.sQ();if(a){var b=this.Zc.shift();Za(this.Qn,b.src);a.load(b)}}};o.sQ=function(){var a=Ca(this.or,function(b){return!b.va});if(!a&&this.or.length<3){a=new om(this);this.or.push(a);this.i.e(a,[Pf,Rf],this.Wv)}return a};o.Wv=function(){this.bG()};var rm=function(a,b,c,e){this.status=a;this.Rd=b;this.qf=c;this.Uf=e};rm.prototype.iE=function(){return Me(this.Rd,this.qf,this.Uf)};var sm=function(a,b,c,e,f,g,h){Id.call(this);this.Da=a;this.Rd=b;this.qf=c;this.Uf=e;this.callback=f;this.ym=g;this.L=h;this.vc=s()};t(sm,Id);sm.prototype.C=function(){this.L=this.ym=this.callback=i;if(this.i){this.i.o();this.i=i}};sm.prototype.complete=function(a){this.Cz=a;this.bY=new rm(a,this.Rd,this.qf,this.Uf);if(this.L){var b=Me(this.Rd,this.qf,this.Uf);if(this.L.src!=b){if(this.callback||this.ym){this.i=new T(this);this.i.e(this.L,[qe,Sf,Rf],this.wF)}this.L.src=b}}this.i||this.wF()};
sm.prototype.wF=function(){var a=this.callback;if(this.Cz==0&&this.ym)a=this.ym;this.i&&this.i.Y();a&&a(this.bY);this.o()};var tm=function(){Id.call(this);this.Pp={};this.cj={};this.fG=new nm(100,j);this.i=new T(this)},um;t(tm,Id);o=tm.prototype;o.M=md("gphoto.image.Loader");o.PX=0;o.o=function(){if(!this.pb()){tm.b.o.call(this);Va(this.Pp,function(a){a.o()});this.i.o()}};o.load=function(a,b,c,e,f,g,h){var l=++this.PX,m=this.Nv(a,e,j);if(b)if(Math.max(b.width,b.height)<=c)c=0;var n=new sm(l,a,c,e,f,g,h);if(Da(m,c))this.jC(n,Pf);else{this.cj[l]=n;this.PD(a).load(n)}return l};
o.Qc=function(a){var b=this.cj[a];if(b){Za(this.cj,a);this.PD(b.Rd).remove(b);return j}return d};o.VQ=function(a,b,c){var e=-1,f=this.Nv(a,!!c,d);if(f&&f.length)if(b==0)e=f[0]==0?0:f[f.length-1];else{var g=0;for(;g<f.length;g++){var h=f[g];if(h<b)e=h;else{if(h<=b*2)e=h;break}}}return e};o.Nv=function(a,b,c){var e=(b?"c-":"")+a,f=this.fG.get(e);if(c&&!f){f=[];this.fG.Z(e,f)}return f};o.PD=function(a){var b=(new hg(a)).oi||"/";if(!(b in this.Pp)){var c=new qm(this);this.Pp[b]=c;this.i.e(c,[Pf,Rf],this.qh)}return this.Pp[b]};
o.qh=function(a){var b=a.type,c=a.target,e=c.tc,f=s()-c.vc;v(e,function(g){Za(this.cj,g.Da);this.jC(g,b,f)},this)};o.jC=function(a,b,c){var e=b==Rf?0:1,f=a.Rd.substr(a.Rd.lastIndexOf("/")+1);this.M.U("transfer time: "+(c||0)+"ms, request time: "+(s()-a.vc)+"ms, size: "+a.qf+"px, filename: "+f);e==1&&this.CZ(a.Rd,a.qf,a.Uf);a.complete(e)};o.CZ=function(a,b,c){var e=this.Nv(a,!!c,j);Ra(e,b)};
var vm=function(){um||(um=new tm);return um},wm=function(a,b,c,e,f,g,h){var l=vm(),m=c instanceof y?Math.max(c.width,c.height):c;return l.load(a,b,m,e,f,g||i,h||i)};var xm=function(a,b){this.Vb=a;this.db=Math.max(b,1);this.ya=-1;this.Sj=this.Qb=0;this.Hf=Math.ceil(this.Vb/this.db);this.dV=this.hG=d;this.Gu=1};t(xm,S);var ym="totalpageschanged",zm="currentpagechanged",Am="currentitemchanged",Bm="totalitemschanged";o=xm.prototype;o.EZ=function(a){this.hG=a};
o.mj=function(a){if(!(this.ya==a||0==this.Vb)){if(a<0||a>=this.Vb)if(this.Vb==0)return;else if(a<0)a=0;else if(a>=this.Vb)a=this.Vb-1;if(!isNaN(a)){var b=d;if(this.hG){var c=this.Iv(a);if(isNaN(c))return;if(c!=this.Qb){this.Qb=c;b=j}}this.Gu=this.ya<a?1:-1;this.ya=a;this.dispatchEvent(Am);b&&this.dispatchEvent(zm)}}};o.Km=function(a){if(a<0||a>this.Hf)return-1;return Math.floor(a*this.db)};o.Iv=function(a){if(a<0||a>=this.Vb)return-1;return Math.floor(a/this.db)};
o.FH=function(){var a=Math.ceil(this.Vb/this.db),b=this.ya<0?-1:this.Iv(this.ya);if(a!=this.Hf){this.Hf=a;this.Qb>0&&this.Qb>=this.Hf&&this.Oy(this.Hf-1);this.dispatchEvent(ym)}if(b>=0&&b!=this.Hp){this.Hp=b;this.dispatchEvent(zm)}if(this.ya>=this.Vb){this.ya=this.Vb-1;this.dispatchEvent(Am)}};o.rs=function(a,b){var c=this.Vb!=a,e=ba(b)?!b:j;this.Vb=a;if(a==0){this.Hp=0;e&&this.dispatchEvent(zm)}else{this.FH();c&&e&&this.dispatchEvent(Bm)}};o.nextPage=function(){this.gJ(1)};o.hX=function(){this.gJ(-1)};
o.gJ=function(a){var b=this.Sj+a*this.db;if(b<0)b=0;if(b>=this.Vb)b=this.Vb-this.db;var c=this.Iv(b);if(!isNaN(c)){this.Sj=b;this.Qb=c;this.dispatchEvent(zm)}};o.Oy=function(a,b,c){if(!(a<0||a>=this.Hf||isNaN(a))){var e=!b&&a!=this.Qb;this.Qb=a;this.Sj=this.Qb*this.db;var f=d;if(this.dV)if(this.ya!=this.Sj){this.Gu=this.ya<this.Sj?1:-1;this.ya=this.Sj;f=!c}e&&this.dispatchEvent(zm);f&&this.dispatchEvent(Am)}};o.vl=function(a){this.db=a;this.FH()};var Cm=function(a,b){fk.call(this);this.T=a;this.T.UZ(j);b&&this.RZ(b)};t(Cm,fk);o=Cm.prototype;o.Oa=md("gphoto.FeedModel");o.Q=i;o.RZ=function(a){this.Q&&ee(this.Q,zm,this.ki,d,this);this.Q=a;Q(this.Q,zm,this.ki,d,this)};o.ja=function(){if(!this.T.isLoaded())return-1;return this.T.Ud()};o.Xd=function(a){return this.T.ze(a)};o.remove=function(a){var b=this.Xd(a);this.T.remove(a);return b};o.gl=function(a,b,c){this.T.load(a,b-a,function(e,f,g){c(f,e.Jc.slice(f,f+g+1))})};o.Oh=function(a){this.T=a};
o.Ta=function(){return this.T};o.isLoaded=function(){return this.T.isLoaded()};o.ki=function(){this.dispatchEvent("update")};var Dm=function(a){lm.call(this,a)};t(Dm,lm);Dm.prototype.r=function(){Dm.b.r.call(this);this.ea(this.j)};Dm.prototype.ea=function(a){Dm.b.ea.call(this,a);var b=I("div",{"class":"lhcl_title"},"Belongs to");K(a,b);this.vu=I("ul",{"class":"lhcl_container_list"});K(a,this.vu)};Dm.prototype.B=function(a){Dm.b.B.call(this,a);this.HX()};
Dm.prototype.HX=function(){if(this.g){this.vu.innerHTML="";v(this.g.fp,function(a){var b=a.url,c=a.title;if(b&&c){var e=J("li"),f=I("a",{href:b},c);K(e,f);K(this.vu,e)}},this)}};var Fm=function(a,b,c,e,f,g,h,l){X.call(this);this.Aa=a;Em=b.substring(0,2);this.ML=c;this.tY=e;this.W_=f;this.X_=g;this.UL=!!h;this.pU=!!l;this.Qg=new T(this);this.Hg=new T(this);this.ot=r(this.p1,this);this.JZ=r(this.B,this)},Em;t(Fm,X);var Gm="lhid_translated_comment_",Hm="lhid_translate_script_";Fm.prototype.Oo=[];var Im=D&&ac("6");Fm.prototype.Fl=d;Fm.prototype.Vz=d;var Jm=yd+" ...";Fm.prototype.Ha=d;
Fm.prototype.r=function(){Fm.b.r.call(this);var a=this.f();if(this.Aa&&this.Aa.name&&this.Aa.nickname){this.Qf=Km(this.Aa);if(Im){this.Hg.e(this.Qf,Md,function(){dc(this.Qf,"gphoto-comment-hover")});this.Hg.e(this.Qf,Nd,function(){this.Vz||ec(this.Qf,"gphoto-comment-hover")})}}else this.Qf=Lm(this.Aa,this.W_,this.X_);K(a,this.Qf)};
var Km=function(a){var b=J("div");F(b,"gphoto-comment gphoto-comment-hoverable");var c=Mm(new Date),e=Uj(C(a.nickname||a.name||""),15);b.innerHTML=bi(Nm,{p:a.og,h:"/"+a.name,n:e,d:c});return b},Lm=function(a,b,c){var e=J("div");F(e,"lhcl_photoCommentSignIn");var f=J("div");F(f,"gphoto-comment-signin-title");N(f,yd);K(e,f);var g=J("div");g.innerHTML=a&&a.nickname&&!a.name?lh(c):mh(b,c);K(e,g);return e};o=Fm.prototype;
o.A=function(){Fm.b.A.call(this);this.Pc=H("lhid_comment_text_area");this.Zk=H("lhid_comment_post");this.Nl=H("lhid_comment_warn_msg");this.bP=document.body;if(this.Pc&&this.Zk){this.Hg.e(this.Pc,pe,this.LL);this.Hg.e(this.Pc,oe,this.KL);this.Hg.e(this.Zk,P,this.NL);this.Hg.e(this.Pc,ne,this.lT)}};o.K=function(){Fm.b.K.call(this);this.Hg.Y();this.Qg.Y();Ea(this.Oo)};o.C=function(){Fm.b.C.call(this);this.Hg.o();this.Qg.o()};
o.LL=function(){this.Vz=j;dc(this.Qf,"gphoto-comment-hover");if(!this.Fl){this.Pc.value="";dc(this.Pc,"gphoto-comment-input-active")}};o.KL=function(){this.Vz=d;ec(this.Qf,"gphoto-comment-hover");if(lb(this.Pc.value)){ec(this.Pc,"gphoto-comment-input-active");this.Pc.value=Jm;this.Fl=d}else this.Fl=j};
o.B=function(a){Fm.b.B.call(this,a);this.Qg.Y();Ea(this.Oo);this.QC(d);if(this.Fl){ec(this.Pc,"gphoto-comment-input-active");this.Pc.value=Jm;this.Fl=d;V(this.Nl,"color","");this.Nl.innerHTML="";this.Zk.blur()}if(this.km){L(this.km);this.km=i}if(a){this.Ha=a.isOwner(this.Aa);var b=this.f();this.km=this.NN(a);this.UL?K(b,this.km):tc(this.km,this.Qf);_features.COMMENT_TRANSLATION&&this.nM()}};o.clear=function(){this.B(i)};o.show=function(a){this.N&&this.j&&W(this.j,a)};
o.NN=function(a){var b=a.Pa,c=J("div");if(b)(this.pU?va:v)(b,function(e){var f=this.ON(e);K(c,f)},this);return c};
o.ON=function(a){var b=a.gphoto$id,c=Mm(hj(new lj(2000),a.published)),e=Om(a),f=a.author[0],g=Uj(C(f.nickname||f.name||""),15),h=f.uri,l=f.thumbnail,m=J("div");F(m,"gphoto-comment gphoto-comment-hoverable");var n=J("table");V(n,"table-layout","fixed");var q=J("tbody"),u=J("tr"),x=J("td");F(x,"gphoto-comment-portrait");var z=I("img",{width:"32",height:"32",src:l});K(x,z);K(u,x);x=J("td");F(x,"gphoto-comment-info");var G=J("a");G.href=h;G.innerHTML=g;K(x,G);var M=J("div");N(M,c);K(x,M);K(u,x);x=J("td");
F(x,"gphoto-comment-content");var Z=I("div",{id:"lhid_comment_"+b});Z.innerHTML=e;K(x,Z);if(_features.COMMENT_TRANSLATION){var Ia=I("div",{id:Gm+b,"class":"gphoto-comment-translated-content"});V(Ia,"color","#888");K(x,Ia)}K(u,x);if(this.Ha||this.Aa&&this.Aa.name==f.user){x=J("td");F(x,"gphoto-comment-close");var Ob=Xe("SPRITE_xbox");K(x,Ob);K(u,x);this.Qg.e(Ob,P,function(){this.FO(b)});this.Qg.e(Ob,Md,function(){F(Ob,"SPRITE_xbox-hover")});this.Qg.e(Ob,Nd,function(){F(Ob,"SPRITE_xbox")})}K(q,u);K(n,
q);K(m,n);if(Im){this.Qg.e(m,Md,function(){dc(m,"gphoto-comment-hover")});this.Qg.e(m,Nd,function(){ec(m,"gphoto-comment-hover")})}_features.COMMENT_TRANSLATION&&this.mO(b,a.content);return m};o.mO=function(a,b){var c="http://ajax.googleapis.com/ajax/services/language/translate?key=internal-picasaweb&"+["q="+B(b),"v=1.0","langpair=%7C"+Em,"callback=gphoto.CanonicalPhotoComments.prototype.commentTranslated","context="+a].join("&");this.Oo.push(I("script",{type:"text/javascript",id:Hm+a,src:c}))};
o.nM=function(){v(this.Oo,function(a){K(this.bP,a)},this);Ea(this.Oo)};o.C0=function(a,b,c){if(c==200){var e=H("lhid_comment_"+a),f=H(Gm+a);if(e&&f){var g=kb(Jc(e)),h=Bb(b.translatedText);if(b.detectedSourceLanguage!=Em&&g!=h){N(f,h);f.setAttribute("title",qh)}}}H(Hm+a)&&ye(r(Pm,undefined,a),100)};ta("gphoto.CanonicalPhotoComments.prototype.commentTranslated",Fm.prototype.C0);var Pm=function(a){var b=H(Hm+a);b&&L(b)};o=Fm.prototype;
o.lT=function(){var a=ob(this.Pc.value).length;if(a>=480){this.Nl.innerHTML=nh(a,512);a>=512?V(this.Nl,"color","red"):V(this.Nl,"color","")}else this.Nl.innerHTML=""};o.FO=function(a){if(confirm(Bd)){var b=["uname="+B(this.g.user.name),"mode=delete","cid_"+a,"iid="+this.ba().F(),"noredir=true"];eg(this.tY,this.ot,"POST",b.join("&"))}};o.p1=function(a){if(!Xj(a)){this.g.so(0);this.g.uf(this.JZ)}};o.NL=function(){var a=this.Pc.value;if(this.AU(a)){this.QC(j);this.ZW(a)}this.Zk.blur()};
o.QC=function(a){if(this.Pc&&this.Zk){this.Pc.disabled=a;this.Zk.disabled=a}};o.ZW=function(a){var b=["uname="+B(this.g.user.name),"iid="+this.g.F(),"AddComment="+B(ob(a)),"noredir=true"];eg(this.ML,this.ot,"POST",b.join("&"))};o.AU=function(a){var b=ob(a),c=j;if(!b||!this.Fl){alert(Ad);c=d}if(b.length>512){alert(zd);c=d}return c};var Mm=function(a){var b=Sh(2,a),c=Sh(7,a);return C(b+" "+c)},Om=function(a){var b=nb(C(a.content));b=b.replace(/\n\n+/g,"\n\n").replace(/\n/g,"<br>");return Uj(b)};
var Nm='<form action="javascript:void(0);"><table class="gphoto-comment-add" style="table-layout:fixed;"><tr><td class="gphoto-comment-portrait"><img width="32" height="32" src="{p}"/></td><td class="gphoto-comment-info"><a href="{h}">{n}</a><div>{d}</div></td><td class="gphoto-comment-add-content"><div class="gphoto-comment-input-container"><textarea name="comment" rows="3" class="gphoto-comment-input" id="lhid_comment_text_area">'+Jm+'</textarea> </div><input id="lhid_comment_post" type="submit" value="Post Comment"/><span id="lhid_comment_warn_msg"></span></td></tr></table></form>';var Qm=function(a,b){lm.call(this,b);this.wN=a;this.i=new T(this)};t(Qm,lm);var Rm='<div style="width:400px">'+C("Select this photo to be reviewed as a featured photo. If selected, it will appear on the explore page as seen below.")+'</div><div style="margin: 30px; text-align: center;"><img width="{size}" height="{size}" src="{url}" /></div>';o=Qm.prototype;o.A=function(){Qm.b.A.call(this);this.i.e(this.Er,P,this.UV)};o.K=function(){Qm.b.K.call(this);this.i.Y();this.kd&&this.kd.P(d)};
o.C=function(){Qm.b.C.call(this);this.i.o();this.kd&&this.kd.o()};o.r=function(){this.Zb(I("div",{"class":"lhcl_toolbox"}));this.Er=I("div",{"class":"lhcl_fakelink",title:"Internal Only"},"Nominate for featured photo.");this.Kx=I("div",{style:"display:none;"},"Thank you for nominating this photo");K(this.j,this.Er);K(this.j,this.Kx)};o.B=function(a){Qm.b.B.call(this,a);this.N&&this.show(j)};o.ba=function(){return this.g};
o.show=function(a){var b=this.ba()?this.ba().hb():i,c=b&&b.Se==ud;a=a&&c;Qm.b.show.call(this,a);a&&this.jJ(j)};o.jJ=function(a){if(this.Er&&this.Kx){W(this.Er,a);W(this.Kx,!a)}};o.UV=function(){if(!!this.g){if(!this.kd){this.kd=new Xg;this.i.e(this.kd,$g,this.PO);this.kd.Ne("Nominate this photo?\u00a0(Internal Only)")}var a=this.ba().xe(144,j);this.kd.ub(bi(Rm,{size:144,url:a}));this.kd.P(j);$h(this,Yh)}};o.PO=function(a){a.Da=="ok"&&this.yY();$h(this,Zh)};
o.yY=function(){var a=this.aR(this.ba());eg(this.wN,r(this.OX,this),"POST",a.join("&"))};o.aR=function(a){var b=[];if(a){b.push("uname="+a.pd().name);b.push("opt=set");b.push("value=fp_candidate");b.push("target=photo");b.push("id="+a.F())}return b};o.OX=function(a){Xj(a)||this.jJ(d)};var Sm=function(){Id.call(this);this.cx=new Of(this.TU,500,this)},Tm;t(Sm,Id);Sm.prototype.M=md("gphoto.FeedHelper");Sm.prototype.gn=[];Sm.prototype.PC=d;var Um=function(){Tm||(Tm=new Sm);return Tm};Sm.prototype.C=function(){Sm.b.C.call(this);this.cx.o()};Sm.prototype.uf=function(a,b){if(a&&a!=Kl){if(this.qr!=a){this.qr=a;this.PC=d;this.cx.stop();Ea(this.gn)}ba(b)&&!Da(this.gn,b)&&this.gn.push(b);this.PC||this.cx.start()}};
Sm.prototype.TU=function(){this.M.U("Load details for: "+this.qr.F());this.va=j;this.dx=s();this.qr.uf(r(this.SU,this))};Sm.prototype.SU=function(a){if(this.qr==a){this.dx=s()-this.dx;this.M.U("Details loaded for "+a.F()+" in "+this.dx+"ms.");this.va=d;for(;this.gn.length;)this.gn.shift()(a)}};var Vm=function(a,b,c,e){Si.call(this,a,b,c);this.Lh=e};t(Vm,Si);Vm.prototype.fc=function(a,b,c,e){this.Lh?Ni(this.$a,this.ii,a,b,i,c,33,e):Vm.b.fc.call(this,a,b,c,e)};var Wm=function(){Gg.call(this)};t(Wm,Gg);fa(Wm);var Xm="__goog_wrapper_div";if(E)Wm.prototype.ub=function(a,b){var c=Wm.b.Sa.call(this,a&&a.firstChild);c&&uc(this.createCaption(b,kc(a)),c)};o=Wm.prototype;o.Sa=function(a){var b=Wm.b.Sa.call(this,a&&a.firstChild);if(E&&b&&b[Xm])b=b.firstChild;return b};o.qa=function(a,b){var c=mc("*","goog-menu",b)[0];if(c){W(c,d);K(jc(c).body,c);var e=new Fj;e.qa(c);a.az(e)}return Wm.b.qa.call(this,a,b)};
o.$e=function(a,b){return Wm.b.$e.call(this,[this.createCaption(a,b),this.QN(b)],b)};o.createCaption=function(a,b){var c={"class":"goog-inline-block "+this.da()+"-caption"};if(Bf&&Af(a)){c[Xm]=j;return b.r("div",c,I("div",i,a))}else return b.r("div",c,a)};o.QN=function(a){return a.r("div",{"class":"goog-inline-block "+this.da()+"-dropdown"},"\u00a0")};o.da=function(){return"goog-menu-button"};var Ym=function(a,b,c,e){Rg.call(this,a,c||Wm.wa(),e);this.wg(64,j);b&&this.az(b);this.Wa=new xe(500)};t(Ym,Rg);o=Ym.prototype;o.tB=j;o.kI=d;o.Lw=d;o.A=function(){Ym.b.A.call(this);this.ka&&this.ip(this.ka,j);wg(this.f(),"haspopup","true")};o.K=function(){Ym.b.K.call(this);if(this.ka){this.$b(d);this.ka.K();this.ip(this.ka,d);var a=this.ka.f();a&&L(a)}};o.C=function(){Ym.b.C.call(this);if(this.ka){this.ka.o();delete this.ka}this.Wa.o()};
o.ng=function(a){Ym.b.ng.call(this,a);if(this.wh()){this.$b(!this.Qi());this.ka&&this.ka.oj(this.Qi())}};o.Pm=function(a){Ym.b.Pm.call(this,a);this.ka&&!this.wh()&&this.ka.oj(d)};o.Wk=function(){this.setActive(d);return j};o.eS=function(a){this.ka&&this.ka.Ka()&&!this.fi(a.target)&&this.$b(d)};o.fi=function(a){return a&&zc(this.f(),a)||this.ka&&this.ka.fi(a)};
o.kk=function(a){if(a.type!=(a.keyCode==32?ne:"key"))return d;if(this.ka&&this.ka.Ka()){var b=this.ka.De(a);if(a.keyCode==27){this.$b(d);return j}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.$b(j);return j}return d};o.HS=function(){this.$b(d)};o.IS=function(){this.wh()||this.$b(d)};o.Gi=function(a){this.Lw||this.$b(d);Ym.b.Gi.call(this,a)};o.UQ=function(){this.ka||this.az(new Fj(this.O));return this.ka||i};
o.az=function(a){var b=this.ka;if(a!=b){if(b){this.$b(d);this.N&&this.ip(b,d);delete this.ka}if(a){this.ka=a;a.ez(this);a.P(d);a.EY(this.Lw);this.N&&this.ip(a,j)}}return b};o.Yl=function(a){this.UQ().H(a,j)};o.P=function(a,b){var c=Ym.b.P.call(this,a,b);c&&!this.Ka()&&this.$b(d);return c};o.Va=function(a){Ym.b.Va.call(this,a);this.rb()||this.$b(d)};
o.$b=function(a){Ym.b.$b.call(this,a);if(this.ka&&this.Vc(64)==a){if(a){this.ka.N||this.ka.G();this.sH();this.ka.uo(-1)}else{this.setActive(d);this.ka.oj(d)}this.ka.P(a);this.JM(a)}};o.sH=function(){var a=this.tB?5:7,b=new Vm(this.f(),a,!this.kI,this.kI),c=this.ka.f();if(!this.ka.Ka()){c.style.visibility="hidden";W(c,j)}this.ZG=this.ZG||xf(c);b.fc(c,this.tB?4:6,i,this.ZG);if(!this.ka.Ka()){W(c,d);c.style.visibility="visible"}};o.Mr=function(){this.sH()};
o.ip=function(a,b){var c=this.lf(),e=b?c.e:c.ca;e.call(c,a,Y,this.HS);e.call(c,a,"highlight",this.Zv);e.call(c,a,If,this.jw)};o.Zv=function(a){wg(this.f(),ug,a.target.f().id)};o.jw=function(){this.ka.zi()||wg(this.f(),ug,i)};o.JM=function(a){var b=this.lf(),c=a?b.e:b.ca;c.call(b,this.O.za,R,this.eS,j);this.Lw&&c.call(b,this.ka,"blur",this.IS);c.call(b,this.Wa,"tick",this.Mr);a?this.Wa.start():this.Wa.stop()};Ng("goog-menu-button",function(){return new Ym(i)});var Zm=function(){Wm.call(this)};t(Zm,Wm);fa(Zm);var $m="goog-toolbar-menu-button";Zm.prototype.da=function(){return $m};var an=function(a,b,c,e){Ym.call(this,a,b,c||Zm.wa(),e)};t(an,Ym);Ng($m,function(){return new an(i)});var bn=function(a,b,c,e){this.id=a;this.eb=b;this.RJ=c;this.Mi=e};bn.prototype.$e=function(){return this.kO()};bn.prototype.kO=function(){return new Mj(I("div",{id:this.id,"class":"goog-toolbar-button"},I("div",{"class":"goog-inline-block "+this.Mi},"\u00a0"),I("div",{"class":"goog-inline-block "+this.RJ},this.eb)))};var cn,en=function(){dn(bi('<table class="lhcl_keyboard_shortcuts_table"><tr><th></th><th></th><th>Navigation</th></tr><tr><td class="lhcl_key">&lt;Enter&gt;</td><td class="lhcl_separator">:</td><td class="lhcl_description">View the first album or photo</td></tr><tr><td class="lhcl_key">&lt;Shift&gt;<span> + </span>&lt;Enter&gt;</td><td class="lhcl_separator">:</td><td class="lhcl_description">View the last album or photo</td></tr><tr><td class="lhcl_key">g</td><td class="lhcl_separator">:</td><td class="lhcl_description">Start slideshow</td></tr><tr><td class="lhcl_key">&lt;Esc&gt;</td><td class="lhcl_separator">:</td><td class="lhcl_description">Go back / leave the current dialog</td></tr><tr><td class="lhcl_key">&lt;Left&gt;<span> / </span>&lt;{right}&gt;<span>,</span>&nbsp;p<span> / </span>n</td><td class="lhcl_separator">:</td><td class="lhcl_description">Go to previous/next picture</td></tr><tr><th></th><th></th><th>Application</th></tr><tr><td class="lhcl_key">/</td><td class="lhcl_separator">:</td><td class="lhcl_description">search</td></tr><tr><td class="lhcl_key">?</td><td class="lhcl_separator">:</td><td class="lhcl_description">Open shortcut help</td></tr><tr><th></th><th></th><th>Actions</th></tr><tr><td class="lhcl_key">&lt;delete&gt;</td><td class="lhcl_separator">:</td><td class="lhcl_description">deletes the current photo</td></tr></table>',
{navigation:"Navigation",left:"Left",right:"Right"}))},dn=function(a){var b=new Xg("lhcl_keyboard_shortcuts");b.he(i);b.Ne("Keyboard shortcuts");b.uR().innerHTML="Close";b.ub(a);b.aZ(j);b.P(j);cn=b};var fn=function(a){X.call(this,a);this.i=new T(this);this.XH=new bg};t(fn,X);o=fn.prototype;o.Yq=d;o.ab=function(){return"gphoto.FlaggerWidget"};o.r=function(){fn.b.r.call(this)};o.A=function(){fn.b.A.call(this)};o.K=function(){fn.b.K.call(this);this.i.Y()};o.o=function(){if(!this.pb()){fn.b.o.call(this);this.i.o();this.XH.o()}};o.yo=function(a,b,c,e){if(!this.Yq){this.cd=a;this.lb=b;this.ce=c;this.pg=e}};
o.tC=function(){if(!this.Yq){var a=new Xg("lhcl_flagger");a.Ne(hh);a.ub(gn());var b=new Yg;b.Z("ok","Submit",j);b.Z(bh,Hd,d,j);a.he(b);this.i.e(a,$g,r(this.tq,this));a.P(j);this.Yq=j;$h(this,Yh)}};o.yp=function(a){var b=a.target;this.i.ca(b,$g,this.tq);b.o();this.Yq=d;$h(this,Zh)};o.tq=function(a){if(a.type==$g)if(a.Da=="ok"){var b=this.Iy(a);if(b==Qf){this.dispatchEvent("gphoto_flag_sent");this.yp(a)}else if(b==Rf)return d}this.dispatchEvent("gphoto_flag_canceled");this.yp(a)};
o.Iy=function(a){var b=$j(a.target.Sa().firstChild),c=Uc(b,"reason"),e=Uc(b,"msg"),f=ob(String(e)),g;if(c){if(f.length>200)g=oh(f.length,200)}else g=Dd;if(g){alert(g);return Rf}if(!confirm(Cd))return Sf;var h=["uname="+this.cd];this.lb&&h.push("aid="+this.lb);this.ce&&h.push("iid="+this.ce);var l=["reason="+c,"msg="+B(f)];this.XH.send("/lh/flagInappropriate?"+h.join("&"),"POST",l.join("&"));return Qf};
var gn=function(){var a='<form id="lhui_form"><p>';a+=_features.PWA_NEWUI?"By submitting this form, you're alerting the Picasa team to inappropriate content on this page.":"By submitting this form, you're alerting the Google Photos team to inappropriate content on this page.";a+=' <a href="http://picasa.google.com/support/bin/answer.py?answer=44321" target="_blank">What does this mean?</a></p><h2>Why are you reporting this as inappropriate?</h2><p><input type="radio" name="reason" value="1" /> This content promotes violence or is hateful.<br /><input type="radio" name="reason" value="2" /> This content is offensive.<br /><input type="radio" name="reason" value="3" /> This content contains nudity.<br /><input type="radio" name="reason" value="4" /> This content is otherwise inappropriate.</p><p>If you own the copyright for this work and would like it removed, please see our <a href="http://www.google.com/picasa_web_dmca.html" target="_blank">instructions for notification of copyright infringement</a>.</p><h2>Briefly tell us why you are reporting this content for review:</h2><p><textarea name="msg"></textarea></p></form>';
return a},hn=_features.PWA_NEWUI?"Thank you for reporting this content. Your vigilance helps us improve Web Albums.":"Thank you for reporting this content. Your vigilance helps us improve Google Photos.";fn.prototype.gv=function(a){if(!(this.PU==a))(this.PU=a)?this.i.e(this.j,P,this.tC,undefined,this):this.i.ca(this.j,P,this.tC,undefined,this)};var jn,kn;(function(){jn=d;kn="0";if("ScriptEngine"in p)if(jn=p.ScriptEngine()=="JScript")kn=p.ScriptEngineMajorVersion()+"."+p.ScriptEngineMinorVersion()+"."+p.ScriptEngineBuildVersion()})();var ln=function(a){this.Xe=jn?[]:"";a!=i&&this.D.apply(this,arguments)};ln.prototype.Z=function(a){this.clear();this.D(a)};if(jn){ln.prototype.au=0;ln.prototype.D=function(a,b){if(b==i)this.Xe[this.au++]=a;else{this.Xe.push.apply(this.Xe,arguments);this.au=this.Xe.length}return this}}else ln.prototype.D=function(a,b){this.Xe+=a;if(b!=i){var c=1;for(;c<arguments.length;c++)this.Xe+=arguments[c]}return this};ln.prototype.clear=function(){if(jn)this.au=this.Xe.length=0;else this.Xe=""};
ln.prototype.toString=function(){if(jn){var a=this.Xe.join("");this.clear();a&&this.D(a);return a}else return this.Xe};var on=function(a,b,c,e){Xg.call(this,"gphoto_abuse_dialog");this.cd=a;this.lb=b;this.ce=c;this.pg=e;this.Ne("Report abuse");this.ub(mn(0,j));this.zk=d;var f=new Yg;f.Z(ch,this.zk?"Continue Report":nn,d);f.Z(bh,Hd,d,j);this.he(f);this.k.e(this,$g,this.tq);this.jp()};t(on,Xg);o=on.prototype;o.zk=d;o.Ih=0;o.K=function(){on.b.K.call(this);this.k.Y()};o.jp=function(){var a=this.Sa().getElementsByTagName("input");v(a,function(b){this.k.e(b,P,this.XS,this)},this)};o.yp=function(){this.C();$h(this,Zh)};
o.GW=function(){this.ub(mn(this.Ih,j));var a=new Yg;a.Z(ch,nn,j);a.Z(bh,Hd,d,j);this.he(a);this.zk=d;this.jp()};o.HW=function(){this.ub(pn);var a=new Yg;a.Z("ok","OK",d,j);this.he(a);this.jp()};o.g1=function(a){if(!a)if(this.Ih==4){alert("You must enter a description");return d}if(a.length>200){alert(oh(a.length,200));return d}return confirm(Cd)};
o.tq=function(a){if(a.type==$g)if(a.Da==ch){if(this.Ih==0){alert(Dd);return d}var b=$j(this.Sa().firstChild);if(this.zk){this.GW();return d}else{var c=b.get("msg"),e=ob(String(c));if(!this.g1(e))return d;this.Iy(this.Ih,e);this.HW();return d}}else if(a.Da=="ok"){this.Ih==5?window.open("http://www.google.com/picasa_web_dmca.html"):this.dispatchEvent(qn);return j}this.dispatchEvent("gphoto_flag_canceled");this.yp(a)};
o.XS=function(a){this.Ih=a.target.id;this.ub(mn(this.Ih,!this.zk));var b=new Yg;if(this.Ih==5){b.Z("ok","View Copyright Instructions",j);b.Z(bh,Hd,d,j)}else{this.zk?b.Z(ch,"Continue Report",j):b.Z(ch,nn,j);b.Z(bh,Hd,d,j)}this.he(b);this.jp();return d};o.Iy=function(a,b){var c=["uname="+this.cd];this.lb&&c.push("aid="+this.lb);this.ce&&c.push("iid="+this.ce);var e=["reason="+a,"msg="+B(b)],f="/lh/flagInappropriate?"+c.join("&");(new bg).send(f,"POST",e.join("&"))};
var mn=function(a,b){function c(g,h,l){return jb('<input type="radio" name="reason" %s id="%s" value="%s" /> %s <br>',h==g?"checked":"",g,g,l)}function e(g){return jb("<table><tr><th>%s</th></tr><tr><td>%s</td></tr></table>","Our policy",g)}var f=new ln;f.D('<form id="lhui_form">');f.D("<p>","Thank you for helping our community by reporting content which may be in violation of our "+('<a href="'+rn+'" target ="_blank">Program Policies</a>.'),"</p>","<h2>","Please select the option that best describes this case.",
"</h2>");f.D("<p>",c(3,a,"Nudity"),c(1,a,"Hate against a protected group"),c(2,a,"Violent or promotes illegal activities"),c(5,a,"Infringes on my copyright"),c(4,a,"Violates another policy (describe next)"),"</p>");if(a==3)f.D(e("We will remove all images of frontal nudity for both men and women, as well as depictions of sex acts.  Images that are considered medical, scientific or educational in nature may be exempt from this policy."));else if(a==1)f.D(e("We will remove images which promote hate against a protected group, defined by their race, religion, ethnic origin, sex, age, veteran status or sexual orientation.<b> Please note that individuals are not considered a protected group.</b>"));
else if(a==2)f.D(e("We will remove all images which contain graphic images of violence, or promote violence or illegal activities."));else a==5&&f.D(e("If you own the copyright to material on this site, please file an official Digital Millennium Copyright Act (DMCA) complaint by clicking on the button below."));if(b){a!=4&&f.D("<br>");if(a!=0&&a!=5)f.D(jb('<h2>%s%s</h2><p><textarea name="msg"></textarea></p>',"Please add comments to help us understand your report.",a==4?"<br>Comments are required for this option.":
""))}else f.D("<p>","Based on our policy, what would you like to do?","</p>");f.D("</form>");return f.toString()},rn="http://picasa.google.com/web/policy.html",qn="gphoto_flag_sent";
var nn="Submit Report",pn="<h1>Thank you!</h1><p>"+(function(a,b){return"We have received your official abuse report. Our team will review your report and take the appropriate action based on our "+(a+("Program Policies"+(b+". Please note that we will not personally notify you of our decision.")))})('<a href="'+rn+'" target ="_blank">',"</a>")+"</p><p>We rely on users like you to keep our community safe for all users and appreciate your taking the time to help the site.</p><p>Thanks again!</p>";var sn=function(a){X.call(this,a)};t(sn,X);o=sn.prototype;o.pg=d;o.C=function(){sn.b.C.call(this);ge(this.rI);delete this.rI;this.kd&&this.kd.o()};o.yo=function(a,b,c,e){this.cd=a;this.lb=b||"";this.ce=c||"";this.pg=!!e};o.UO=function(){this.dispatchEvent(qn)};o.UW=function(){this.kd=new on(this.cd,this.lb,this.ce,this.pg);this.rI=Q(this.kd,qn,this.UO,d,this);this.kd.P(j);$h(this,Yh)};o.gv=function(a){if(a){if(!this.Wp)this.Wp=Q(this.j,P,this.UW,d,this)}else if(this.Wp){ge(this.Wp);delete this.Wp}};var tn=function(a,b,c){lm.call(this,c);this.Aa=b;this.Gr=a;this.wi=_features.ENABLE_NEW_FLAG_ABUSE_FORM?new sn:new fn};t(tn,lm);o=tn.prototype;o.En=i;o.ab=function(){return"gphoto.FlaggerBox"};o.r=function(){tn.b.r.call(this);this.wi.qa(this.f());this.xm=I("span",{id:"lhid_flagger"});K(this.f(),this.xm);if(this.Aa&&this.Gr&&_features.fr){this.En=I("div",{"class":"lhcl_fakelink issueLink"});N(this.En,"Report issue to owner");K(this.j,this.En)}};
o.A=function(){tn.b.A.call(this);this.k.e(this.wi,_features.NEW_FLAG_SUBMISSION?qn:"gphoto_flag_sent",this.cX);this.En&&this.k.e(this.En,[R,P],this.QX)};o.QX=function(a){a.stopPropagation();a.preventDefault();this.g.type=="Album"?this.dispatchEvent(new fm(i,this.ba().F())):this.dispatchEvent(new fm(this.ba()))};o.o=function(){if(!this.pb()){tn.b.o.call(this);this.wi.o()}};o.B=function(a){tn.b.B.call(this,a);a&&this.m_(a)};
o.m_=function(a){if(a.type=="Album")this.wi.yo(a.Aj,a.id,"",d);else a.type=="Photo"&&this.wi.yo(a.user.name,a.album.id,a.id,a.Fa());sc(this.xm);K(this.xm,I("a",{href:"javascript: void 0;"},_features.ENABLE_NEW_FLAG_ABUSE_FORM?"Report abuse":hh));this.wi.gv(j)};o.cX=function(){sc(this.xm);K(this.xm,I("b",i,_features.ENABLE_NEW_FLAG_ABUSE_FORM?"Thank you for reporting this content. Your vigilance helps us improve our community.":hn));this.wi.gv(d)};var un="ALL_RIGHTS_RESERVED",vn="ATTRIBUTION_NO_DERIVATIVES",wn="ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES",xn="ATTRIBUTION_NON_COMMERCIAL",yn="ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE",zn="ATTRIBUTION_SHARE_ALIKE",An=function(a){var b=a.hm.checked,c=a.bC.checked,e=a.tp.checked;if(!b&&!c)return wn;if(!b&&c)return vn;if(b&&!c&&!e)return xn;if(b&&!c&&e)return yn;if(b&&c&&!e)return"ATTRIBUTION";if(b&&c&&e)return zn};
var Fn=function(a,b){var c=a!=un;b.oy.checked=!c;b.sX.checked=c;b.hm.checked=c?Bn(a):d;b.bC.checked=c?Cn(a):d;b.tp.checked=c?Dn(a):d;En(a,b)},Bn=function(a){switch(a){case un:case wn:case vn:return d}return j},Cn=function(a){switch(a){case un:case xn:case yn:case wn:return d}return j},Dn=function(a){switch(a){case yn:case zn:return j}return d},En=function(a,b){var c=a!=un;W(b.ZO,c);W(b.aU,!c);W(b.$T,c);W(b.bU,c?!Cn(a):d);W(b.cU,c?!Bn(a):d);W(b.dU,c?Dn(a):d);W(b.FU,!c);W(b.HF,c);if(!b.hm.checked)b.tp.checked=
d;b.tp.disabled=!b.hm.checked;b.GU.disabled=!b.hm.checked;b.HF.href=Gn(a)},Gn=function(a){switch(a){case un:return"";case "ATTRIBUTION":return"http://creativecommons.org/licenses/by/3.0/";case zn:return"http://creativecommons.org/licenses/by-sa/3.0/";case vn:return"http://creativecommons.org/licenses/by-nd/3.0/";case xn:return"http://creativecommons.org/licenses/by-nc/3.0/";case yn:return"http://creativecommons.org/licenses/by-nc-sa/3.0/";case wn:return"http://creativecommons.org/licenses/by-nc-nd/3.0/";
default:return""}},Hn=function(){};var In=function(a,b,c,e){lm.call(this,e);this.LI=a;this.Ec=b;this.Aa=c};t(In,lm);var Jn="An error has occured. Please try again later.";o=In.prototype;o.r=function(){this.ea(I("div",{"class":"lhcl_licenseBox lhcl_sidebox",id:"lhid_license"}))};
o.ea=function(a){In.b.ea.call(this,a);var b=new ln;b.D(We("SPRITE_license_no_grey lhcl_spriting_alignMiddle","lhid_lic_img_c",'style="display:none"'));b.D(We("SPRITE_license_by_grey lhcl_spriting_alignMiddle","lhid_lic_img_by",'style="display:none"'));b.D(We("SPRITE_license_nc_grey lhcl_spriting_alignMiddle","lhid_lic_img_nc",'style="display:none"'));b.D(We("SPRITE_license_nd_grey lhcl_spriting_alignMiddle","lhid_lic_img_nd",'style="display:none"'));b.D(We("SPRITE_license_sa_grey lhcl_spriting_alignMiddle",
"lhid_lic_img_sa",'style="display:none"'));b.D('<span id="lhid_lic_text_c" class="lhcl_license ');b.D('    lhcl_license_greyTextColor lhcl_spriting_marginRight5"');b.D('    style="display:none" >');b.D(C("All rights reserved"));b.D("</span>");b.D('<a id="lhid_lic_text_cc" ');b.D('   class="lhcl_license lhcl_license_greyTextColor ');b.D('          lhcl_spriting_marginRight5" ');b.D('   target="_blank"');b.D('   style="display:none" >');b.D(C("Some rights reserved"));b.D("</a>");b.D('<span id="lhid_lic_editButton" ');
b.D('    class="lhcl_fakelink lhid_lic_editBtn"');b.D('    style="display:none" >');b.D("edit");b.D("</span>");b.D('<div id="lhid_lic_editDiv" style="display:none;">');b.D('  <ul style="margin:5px 0 0;padding-left:0px;"');b.D('      class="lhcl_license">');b.D('    <li class="lhcl_license_checkboxLabel">');b.D('      <label class="lhcl_license">');b.D('        <input type="radio" id="lhid_lic_category_c" ');b.D('         class="lhid_lic_category_c lhcl_license ');b.D('           lhcl_license_inputElement" ');
b.D('         name="lhid_lic_category" />');b.D(C("Do not allow reuse"));b.D("      </label>\n");b.D("    </li>");b.D('    <li class="lhcl_license_checkboxLabel">');b.D('      <label class="lhcl_license">');b.D('        <input type="radio" id="lhid_lic_category_cc" ');b.D('          class="lhid_lic_category_cc lhcl_license ');b.D('          lhcl_license_inputElement" name="lhid_lic_category" />');b.D(C("Allow reuse"));b.D('</label> (<a href="http://creativecommons.org/licenses/" ');b.D('          class="lhcl_license_textColor" ');
b.D('          target="_blank">Creative Commons</a>)');b.D('      <div id="lhid_lic_cc_popup" style="display:none;">\n');b.D('        <ul style="list-style-type:none;">');b.D('          <li class="lhcl_license_checkboxLabel">');b.D("            <label>");b.D('              <input type="checkbox" id="lhid_lic_cc_remix" ');b.D('                name="lhid_lic_cc_remix" ');b.D('                class="lhid_lic_cc_remix lhcl_license ');b.D('                  lhcl_license_inputElement"');b.D('                value="lhid_license_allowRemix" />');
b.D(C("Allow remixing"));b.D("            </label>");b.D("            <br />");b.D("          </li>");b.D('          <li class="lhcl_license_checkboxLabel">');b.D("            <label>");b.D('              <input type="checkbox" id="lhid_lic_cc_com" ');b.D('                  name="lhid_lic_cc_com" class="lhid_lic_cc_com ');b.D('                  lhcl_license lhcl_license_inputElement" />');b.D(C("Allow commercial use"));b.D("            <label>");b.D("            <br />");b.D("          </li>");b.D('          <li class="lhcl_license_checkboxLabel">');
b.D('            <label id="lhid_lic_cc_sa_lab">');b.D('              <input type="checkbox" id="lhid_lic_cc_sa" ');b.D('                name="lhid_lic_cc_sa" class="lhid_lic_cc_sa ');b.D('                  lhcl_license lhcl_license_inputElement" />');b.D(C("Require share-alike"));b.D("            </label>");b.D("          </li>");b.D("        </ul>");b.D("      </div>");b.D('      <div class="lhid_lic_saveCancelDiv" ');b.D('          style="margin:5px 0">');b.D("      </div>");b.D('      <div id="lhid_license_resetToDefaultButton" ');
b.D('          class="lhid_license_resetToDefaultButton ');b.D('          lhcl_fakelink">');b.D(C("Reset photo to account default")+"</div>");b.D(C("Set account default: "));b.D('        <a href="/lh/settings#licensing" ');b.D('            class="lhcl_license_linkButton ');b.D('            lhid_license_setDefaultButton">');b.D(C("Settings")+"</a>");b.D("    </li>");b.D("  </ul>");b.D("</div>");a.innerHTML=b.toString();var c=Aj.wa(),e=lc("div","lhid_lic_saveCancelDiv",a)[0],f=new Rg("Save",c);f.wc("gphoto-button");
this.H(f);f.G(e);this.k.e(f,[R,Y],this.lY);var g=new I("span");V(g,"marginLeft","5px");K(e,g);var h=new Rg(Hd,c);h.wc("gphoto-button");this.H(h);h.G(e);this.k.e(h,Y,this.lN);var l=lc("div","lhid_license_resetToDefaultButton",a);this.k.e(l[0],P,this.ZX);l=lc("input","lhid_lic_category_c",a);this.k.e(l[0],P,this.Ro);l=lc("input","lhid_lic_category_cc",a);this.k.e(l[0],P,this.Ro);l=lc("input","lhid_lic_cc_remix",a);this.k.e(l[0],P,this.Ro);l=lc("input","lhid_lic_cc_com",a);this.k.e(l[0],P,this.Ro);l=
lc("input","lhid_lic_cc_sa",a);this.k.e(l[0],P,this.Ro)};o.eD=function(){this.Ds(j)};o.Ds=function(a){var b=H("lhid_lic_editDiv");W(b,a);var c=H("lhid_lic_editButton");W(c,!a)};o.B=function(a){In.b.B.call(this,a);if(a&&a.Xq()){this.cJ(this.g.dn,this.Im());var b=nl(a,this.Aa),c=H("lhid_lic_editButton");W(c,b);this.k.ca(c,R,this.eD);b&&this.k.e(c,R,this.eD)}else a&&a!=Kl&&this.Ec.uf(a,r(this.B,this,a))};
o.Im=function(){var a=new Hn;a.oy=H("lhid_lic_category_c");a.sX=H("lhid_lic_category_cc");a.FU=H("lhid_lic_text_c");a.HF=H("lhid_lic_text_cc");a.ZO=H("lhid_lic_cc_popup");a.aU=H("lhid_lic_img_c");a.$T=H("lhid_lic_img_by");a.bU=H("lhid_lic_img_nc");a.cU=H("lhid_lic_img_nd");a.dU=H("lhid_lic_img_sa");a.hm=H("lhid_lic_cc_remix");a.tp=H("lhid_lic_cc_sa");a.GU=H("lhid_lic_cc_sa_lab");a.bC=H("lhid_lic_cc_com");return a};o.Ro=function(){var a=this.Im();this.hK(a.oy.checked?un:An(a),a)};
o.hK=function(a,b){En(a,b);var c=H("lhid_license_resetToDefaultButton");W(c,this.g.lr)};o.cJ=function(a,b){Fn(a,b);var c=H("lhid_license_resetToDefaultButton");W(c,this.g.lr!=0)};o.lY=function(){var a=this.Im(),b=a.oy.checked?un:An(a),c=this.LI+"&"+["iid="+this.g.id,"opt=SET","lic="+b].join("&"),e=r(this.mY,this,a);eg(c,function(){var f=this.mc();e(f,b)})};o.mY=function(a,b,c){b.indexOf("<result>success</result>")==-1&&alert(Jn);this.g.JI(c);this.g.KI(j);this.hK(c,a);In.prototype.Ds(d)};
o.lN=function(){var a=this.Im();Fn(this.g.dn,a);this.Ds(d)};var Kn=/<result>(.*)<\/result>/,Ln=/<accountlic>(.*)<\/accountlic>/;In.prototype.ZX=function(){var a=this.LI+"&"+["iid="+this.g.id,"opt=DELETE"].join("&"),b=r(this.$X,this);eg(a,function(){var c=this.mc(),e=c.match(Kn)[1],f=c.match(Ln);b(e,f?f[1]:"")})};In.prototype.$X=function(a,b){a!="success"&&alert(Jn);b!=""&&this.g.JI(b);this.g.KI(d);this.cJ(this.g.dn,this.Im());this.Ds(d)};var Mn=function(a,b,c,e,f,g,h,l,m,n,q,u,x,z,G){this.MM=G||d;this.u=a;this.wO=b;this.lG=u;this.I=new wj(c,this.lG,this.vC());if(this.u.lat&&this.u.lon){this.I.Gy(this.u.id);this.I.savePosition()}this.co=e;this.$V=x;this.ix=f;this.QF=g;this.gV=h;this.RF=l;this.iG=m;this.qN=n;this.rx=q;this.dh=new Of(this.uW,600,this);this.i=new T(this);this.i.e(f,me,this.Jr);this.i.e(f,ne,r(this.dh.start,this.dh,600));this.i.e(this.I,xj,this.dP);this.mF=z||"";this.zy=$("lhui_func");ui(this.zy,r(this.qY,this));this.it()};
t(Mn,Id);o=Mn.prototype;o.vv=j;o.o=function(){if(!this.pb()){Id.prototype.o.call(this);this.I.o();this.i.o();this.dh&&this.dh.o();vi(this.zy)}};o.Em=function(){if(!!this.vv){var a=ob(this.ix.value);if(a){ei(j,this.mF);var b=["location="+B(a),"alt=json"],c=_geocodePath+"&"+b.join("&");eg(c,r(this.iQ,this));this.KU=a}}};o.nu=function(){this.nA("","",i);this.lA("","",i);this.it();this.I.reset();this.I.savePosition()};o.rQ=function(){return this.u.bb};
o.AE=function(a,b){var c=[];if(a.length==1&&!a[0].spellCorrection){a[0].KE=j;this.Ty(a[0]);c=i}else if(a.length>0){var e=Math.min(a.length,this.$V),f=0;for(;f<e;f++){c[f]=a[f];c[f].index=f}this.dq=c;this.no=-1;this.I.Ew(4,{m2:c})}this.it(c,b)};o.mD=function(a){this.vv=a};o.vC=function(){var a={};a[this.wO+"s"]=[this.u];return a};o.uW=function(){if(!!this.vv){var a=ob(this.ix.value);if(a&&this.KU!=a)!this.MM&&this.u.lat&&this.u.lon?this.lX():this.Em()}};
o.Jr=function(a){this.dh&&this.dh.stop();if(a.keyCode==13){this.Em();ii(a)}};o.iQ=function(a){this.dh&&this.dh.stop();ei(d,this.mF);var b=a.target,c;try{c=b.lg()}catch(e){this.N_();return}c&&this.AE(c)};o.nA=function(a,b,c){this.QF.value=a;this.gV.value=b;this.qN.value=a&&b?"false":"true";if(c){this.RF.value=c.latSpan;this.iG.value=c.lonSpan}else{this.RF.value="";this.iG.value=""}};o.lA=function(a,b,c){this.u.lat=a;this.u.lon=b;if(c){this.u.bb=cb(c);this.u.bb.ll=cb(c.ll);this.u.bb.ur=cb(c.ur)}else delete this.u.bb};
o.CP=function(a){var b=["location="+B(a.pM),"lat="+a.lat,"lon="+a.lon,"mresults=false","alt=json"],c=_geocodePath+"&"+b.join("&");eg(c,r(this.UM,this,a))};o.UM=function(a,b){var c=b.target;try{if(c.Bk()){var e=c.lg();if(e&&e.length>0){var f=e[0];a.lat=f.lat;a.lon=f.lon;a.bb=f.bb}}}catch(g){}a.KE=j;this.no==a.index&&this.Ty(a)};o.Ty=function(a){var b=a.bb;if(!b&&!a.KE)this.CP(a);else{this.lA(a.lat,a.lon,b);this.nA(a.lat,a.lon,b);this.I.Ew(this.lG,this.vC());this.I.Gy(this.u.id);this.I.savePosition()}};
o.N_=function(){var a=ri(Nn,{text:"There was an error while trying to determine the location."});ji(this.co,a)};o.it=function(a,b){var c;if(b)c=b;else if(a)if(a.length==0){var e=C(this.ix.value);c=dh('<span style="font-weight: bold;">'+ki(e)+"</span>")}else{this.XO(a);return}else c=this.QF.value?this.rx.geotaggedMessage:this.rx.noGeotagMessage;var f=ri(Nn,{text:c});ji(this.co,f)};
o.XO=function(a){ji(this.co,I("span",{"class":"lhcl_didyou"},"Did you mean:"));var b=0;for(;b<a.length;b++){var c=String.fromCharCode("A".charCodeAt(0)+b),e={index:b,id:"result"+b,resultfunc:this.zy,letter:c,address:ki(C(a[b].address))},f=ri('<div class="lhcl_geoResult"><span id="{id}" class="lhcl_fakelink" onclick="_d(\'{resultfunc}\', {index})">{letter}. {address}</span></div>',e);K(this.co,f)}};
o.lX=function(){var a={msg:this.rx.updateGeoPrompt,yesId:$("lhui_func"),noId:$("lhui_func")};ji(this.co,ri('<div>{msg}<br /><span class="lhcl_fakelink" id="{yesId}">Yes</span>&#32;<span class="lhcl_fakelink" id="{noId}">No</span></div>',a));var b=H(a.yesId),c=H(a.noId);this.i.e(b,R,this.Em);this.i.e(c,R,r(this.it,this,i,i))};o.qY=function(a){if(!(a==this.no)){if(this.no>=0)H("result"+this.no).className="lhcl_fakelink";this.no=a;H("result"+a).className="lhcl_selectedResult";this.Ty(this.dq[a])}};
o.dP=function(a){if(a.type==xj){var b=a.nV.getPoint(),c=String(b.lat()),e=String(b.lng()),f=this.I.savePosition({lat:c,lon:e});this.lA(c,e,f);this.nA(c,e,f)}};var Nn="<div>{text}</div>";var On=function(){Fg.call(this)};t(On,Fg);fa(On);o=On.prototype;o.r=function(a){var b={"class":"goog-inline-block "+this.eh(a).join(" "),title:a.Di()||""};return a.O.r("div",b,a.Ed())};o.Ac=function(a){return a.tagName=="DIV"};o.qa=function(a,b){dc(b,"goog-inline-block");return On.b.qa.call(this,a,b)};o.Na=function(){return i};o.da=function(){return"goog-flat-button"};Ng("goog-flat-button",function(){return new Rg(i,On.wa())});var Pn=function(a){X.call(this);this.Aa=a;this.$o=new T(this);this.Br=new T(this);this.Sp=new T(this);this.Zw=On.wa();this.ot=r(this.q1,this)};t(Pn,X);var Qn="gphoto-photocaption",Rn="gphoto-photocaption-warning";o=Pn.prototype;o.xs=function(a){this.wb=a;this.zj()};o.is=function(){this.xs(this.g.ig()?"displaying":"nocaption")};o.K=function(){Pn.b.K.call(this);this.$o.Y();this.Br.Y();this.Sp.Y()};
o.C=function(){Pn.b.C.call(this);this.$o.o();this.Br.o();this.Sp.o();delete this.Tf;delete this.qe;delete this.X1;delete this.re;delete this.Xi};o.r=function(){Pn.b.r.call(this);F(this.j,Qn);this.ea(this.j)};o.ea=function(a){Pn.b.ea.call(this,a);this.rp=J("SPAN");F(this.rp,Qn+"-caption");K(a,this.rp)};
o.zj=function(){var a=this.g?this.g.isOwner(this.Aa):d;switch(this.wb){case "nocaption":this.nz(d);this.mz(a);this.rz(d);this.oz(d);this.qe&&W(this.qe,d);break;case "displaying":this.nz(j);this.mz(d);this.rz(a);this.oz(d);this.qe&&W(this.qe,d);break;case "editing":this.nz(d);this.mz(d);this.rz(d);this.oz(a);break}};o.nz=function(a){if(a)_features.GWS_URL_REDIRECTION?this.AI(this.g.gI):this.AI(this.g.ig());W(this.rp,a)};
o.AI=function(a){var b=a?ob(a):"";_features.GWS_URL_REDIRECTION||(b=ni(b));b=Uj(b);b=b.replace(/  /g,"&nbsp; ");b=b.replace(/\n/g,"<br />");this.rp.innerHTML=b};o.mz=function(a){a&&!this.ju()&&this.GN();this.ju()&&this.Ej.P(a)};o.ju=function(){return!!this.Ej};o.GN=function(){this.Ej=new Rg("Add a Caption",this.Zw);this.H(this.Ej);this.Ej.wc("lhcl_fakelink");this.Ej.G(this.j);if(this.ju()){this.$o.Y();this.$o.e(this.Ej,Y,this.DR)}};o.DR=function(){this.xs("editing")};
o.rz=function(a){a&&!this.lu()&&this.ZN();this.lu()&&W(this.Xi,a)};o.lu=function(){return!!this.Xi};
o.ZN=function(){this.Xi=J("DIV");F(this.Xi,"goog-inline-block");this.Rp=new Rg("edit",this.Zw);this.H(this.Rp);this.Rp.wc("lhcl_fakelink gphoto-photocaption-edit");var a=Xe("SPRITE_trash",i,{alt:"Delete caption",title:"Delete caption"});this.Kp=new Rg(a,this.Zw);this.H(this.Kp);this.Kp.wc("lhcl_fakelink");this.Rp.G(this.Xi);this.Kp.G(this.Xi);K(this.j,this.Xi);if(this.lu()){this.Br.Y();this.Br.e(this.Rp,Y,this.iS).e(this.Kp,Y,this.YR)}};o.iS=function(){this.xs("editing")};
o.YR=function(){confirm("Are you sure you want to delete this caption?")&&this.VJ("")};o.oz=function(a){a&&!this.ku()&&this.MN();if(this.ku()){a&&this.PY(Bb(this.g.ig()));W(this.Tf,a)}};o.ku=function(){return!!this.Tf};
o.MN=function(){this.Tf=J("DIV");F(this.Tf,"lhcl_captionform");this.qe=J("DIV");F(this.qe,Rn);K(this.Tf,this.qe);this.Kj=I("TEXTAREA",{name:"description",rows:"1",cols:"1",value:Bb(this.g.ig())});K(this.Tf,this.Kj);var a=J("DIV");this.vg=new Rg("Save Caption");this.H(this.vg);this.vg.Sy(j);this.ei=new Rg(Hd);this.H(this.ei);this.vg.G(a);this.ei.G(a);K(this.Tf,a);K(this.j,this.Tf);if(this.ku()){this.Sp.Y();this.Sp.e(this.ei,Y,this.LR).e(this.vg,Y,this.dT).e(this.Tf,ne,this.MR)}};
o.MR=function(){var a=this.Kj.value.length,b=a>992;if(b){N(this.qe,"Your caption is "+(a+" characters long. (1024 maximum)"));F(this.qe,Rn)}a>1024&&F(this.qe,"gphoto-photocaption-warning-severe");W(this.qe,b)};o.LR=function(){this.is()};o.dT=function(){var a=this.uQ();if(a==Bb(this.g.ig()))this.is();else a.length>1024?alert("Your caption currently exceeds 1024 characters and will not be saved. Please shorten your caption."):this.VJ(a)};o.uQ=function(){return ob(this.Kj.value)};
o.PY=function(a){this.Kj.value=a;ek(this.Kj,this.Kj.value.length)};o.q1=function(){this.g.b_(ni(this.g.ig(),j));this.is()};o.B=function(a){Pn.b.B.call(this,a);this.g&&this.is();this.show(!!a)};o.show=function(a){this.j&&this.g&&W(this.j,a)};
o.VJ=function(a){this.xs("sending");this.g.tH(bi('<entry xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/"><summary type="text">{caption}</summary><media:group><media:description type="plain">{caption}</media:description></media:group></entry>',{caption:C(a)}),this.ot)};var Sn=function(a,b,c){lm.call(this,c);this.Aa=a;this.NT=b};t(Sn,lm);o=Sn.prototype;o.A=function(){Sn.b.A.call(this);this.pJ=H("lhid_snippet_size");this.WF=H("lhid_link_inputbox");this.jD=H("lhid_snippet");this.TE=H("lhid_snippet_checkbox");this.k.e(this.WF,oe,this.xj);this.k.e(this.jD,oe,this.xj);this.k.e(this.pJ,"change",this.xj);this.k.e(this.TE,P,this.xj)};o.C=function(){Sn.b.C.call(this);this.en&&this.en.o()};o.B=function(a){Sn.b.B.call(this,a);this.xj()};
o.xj=function(){var a=d;if(this.g){var b=this.g.hb(),a=b&&b.Se!=wd&&this.g&&this.g.isOwner(this.Aa);if(a){var c=this.g.ih("directlink"),e=this.g.ih(td),f=Tn(b.link,this.NT),g=this.g.s,h=g.lastIndexOf("/"),l=g.substr(0,h),m=g.substr(h),n={l:e,s:l+"/s"+this.pJ.value+m,al:f,a:b.name};this.WF.value=c;this.jD.value=bi(this.TE.checked?'<a href="{l}"><img src="{s}" /></a>':'<table style="width:auto;"><tr><td><a href="{l}"><img src="{s}" /></a></td></tr><tr><td style="font-family:arial,sans-serif; font-size:11px; text-align:right">From <a href="{al}">{a}</a></td></tr></table>',
n)}}this.show(a)};o.show=function(a){var b=this.g?this.g.hb():i,c=b&&b.Se!=wd&&this.g&&this.g.isOwner(this.Aa);Sn.b.show.call(this,c&&a)};var Tn=function(a,b){var c=hb(a,"http")?a:"http://"+b+a,e=new hg(c);e.oa("feat",td);return e.toString()};
Sn.prototype.r=function(){Sn.b.r.call(this);var a=this.f();W(a,d);var b=J("div");F(b,"gphoto-embedLinks-header");b.innerHTML=Un;var c=J("div");c.innerHTML='<span style="vertical-align:middle">Link</span><br><input id="lhid_link_inputbox" class="gphoto-sidebar-inputbox" type="text" readonly="yes" onclick="this.select()"></input><div style="padding-top:5px">Embed image<br><input onclick="this.select()" class="gphoto-sidebar-inputbox" type="text" id="lhid_snippet" /><div class="gphoto-embed-options">Select size<select id="lhid_snippet_size"><option value="144">Thumbnail 144px</option><option value="288">Small 288px</option><option value="400">Medium 400px</option><option value="800">Large 800px</option></select></div><input type="checkbox" id="lhid_snippet_checkbox"/>Hide album link<br /></div>';this.en=
new el(b,c);K(a,b);K(a,c)};var Un='<div class="gphoto-embedLinks-header">'+We("SPRITE_link lhcl_spriting_alignMiddle lhcl_spriting_marginRight5")+'<span class="lhcl_fakelink">Link to this Photo</span>'+We("gphoto-zippy-icon")+"</div>";var Vn=function(a){lm.call(this);this.cq=a;this.i=new T(this);this.YM=On.wa()};t(Vn,lm);var Wn="gphoto-exifbox-exif-field",Xn="Filename:&nbsp;<em>{filename}</em><br/> Camera:&nbsp;{make}<br/> Model:&nbsp;{model}<br/> ISO:&nbsp;{iso}<br/> Exposure:&nbsp;{exposure}<br/> Aperture:&nbsp;{fstop}<br/> Focal Length:&nbsp;{focalLength}<br/> Flash Used:&nbsp;{flash}<br/> Latitude:&nbsp;{latitude}<br/> Longitude:&nbsp;{longitude}",Yn="Filename:&nbsp;<em>{filename}</em><br/> Encoder:&nbsp;{encoder}<br/> Duration:&nbsp;{duration}<br/> Audio Channels:&nbsp;{channels}<br/> Audio rate:&nbsp;{samplingrate}<br/>Latitude:&nbsp;{latitude}<br/> Longitude:&nbsp;{longitude}";
o=Vn.prototype;o.R=new kj;o.lv=d;o.C=function(){Vn.b.C.call(this);this.i.o()};o.K=function(){Vn.b.K.call(this);this.i.Y()};o.A=function(){Vn.b.A.call(this);this.i.e(this.Us,Y,this.B0)};o.r=function(){Vn.b.r.call(this);this.ea(this.f())};
o.ea=function(a){var b=J("div");F(b,"gphoto-sidebox lhcl_hideoverflow");this.ke=J("div");F(this.ke,"lhcl_title");this.ke.innerHTML=kh;K(b,this.ke);this.va=J("div");F(this.va,Wn);this.va.innerHTML=gh;K(b,this.va);this.di=J("div");F(this.di,"gphoto-sidebar-photoinfo");W(this.di,d);this.mp=J("div");F(this.mp,Wn);K(this.di,this.mp);this.np=J("div");F(this.np,Wn);K(this.di,this.np);K(b,this.di);this.ti=J("div");F(this.ti,Wn+" lhcl_exifoff");this.cC();K(b,this.ti);var c=J("div");V(c,"text-align","right");
this.Us=new Rg("more info",this.YM);this.Us.wc("lhcl_fakelink");this.Us.G(c);K(b,c);this.ek=J("div");F(this.ek,"lhcl_output");N(this.ek,"You need Adobe\u00ae Flash\u00ae Player 7 or higher to watch videos.");var e=J("div"),f=J("a");f.href="http://www.macromedia.com/go/getflashplayer";N(f,"Download Flash");K(e,f);K(this.ek,e);W(this.ek,d);K(b,this.ek);K(a,b)};o.clear=function(){W(this.di,d);W(this.va,j);this.cC();W(this.ti,d)};
o.cC=function(){this.mp.innerHTML="";this.np.innerHTML="";var a=this.g&&!this.g.Fa()?Xn:Yn;this.ti.innerHTML=bi(a,{})};o.B=function(a){Vn.b.B.call(this,a);if(a){this.ke.innerHTML=a.Fa()?"Video information":kh;this.ti.innerHTML=this.SN(a);W(this.ti,j);W(this.ek,a.Fa()&&!this.cq);W(this.va,d);W(this.di,j)}else this.clear()};
var $n=function(a){var b="n/a";if(a){var c=parseFloat(a);b=c&&c<=0.5?"1/"+Math.round(1/c):C(a);b+=" sec";b=Zn(b)}return b},ao=function(a){var b="n/a";if(a){var c=parseFloat(a);b=Zn((c?Math.round(c*10)/10:C(a))+"mm")}return b},bo=function(a){var b="n/a";if(ba(a))b=Zn(a=="true"?"Yes":"No");return b},co=function(a,b){var c="n/a",e="n/a";if(!isNaN(a*b)&&la(a)&&la(b)){var f=Fb(Math.abs(a),0,6),g=Fb(Math.abs(b),0,6);c=a<0?f+"&deg; S":f+"&deg; N";e=b<0?g+"&deg; W":g+"&deg; E";c=Zn(c);e=Zn(e)}return{lat:c,
lon:e}};Vn.prototype.SN=function(a){var b=this.TN(a),c=this.g&&!this.g.Fa()?Xn:Yn;return bi(c,b)};
Vn.prototype.TN=function(a){var b=a.$p,c=a.Fa()&&a.xT()?a.Ux:i,e=b.time||a.getDate();if(!/[^0-9]/.test(e))this.mp.innerHTML=this.EN(e);var f=a.w,g=a.hh();if(c){f=c.width||f;g=c.height||g}var h=f+"&times;"+g+" pixels";if(a.Gb)h+=" &#8211; "+ph(Math.round(a.Gb/1024));this.np.innerHTML=h;var l=$n(b.exposure),m=ao(b.focalLength),n=bo(b.flash),q=co(b.latitude,b.longitude),u=c?Zn(C(c.type)):"n/a",x=c?Number(c.duration):i;x=x?Zn(Math.round(x/1000*10)/10+" sec"):"n/a";var z=c?Zn(C(c.channels)):"n/a",G=c?
Zn(C(c.samplingrate)+"kHz"):"n/a",M=b.make?Zn(C(b.make)):"n/a",Z=b.model?Zn(C(b.model)):"n/a",Ia=b.iso?Zn(C(b.iso)):"n/a",Ob=b.fstop?Zn(C(b.fstop)):"n/a";return{filename:C(a.DP),make:M,model:Z,iso:Ia,exposure:l,fstop:Ob,focalLength:m,flash:n,encoder:u,duration:x,channels:z,samplingrate:G,latitude:q.lat,longitude:q.lon}};Vn.prototype.B0=function(){this.Us.ub(this.lv?"more info":"less info");gc(this.ti,"lhcl_exifoff");this.lv=!this.lv};
Vn.prototype.EN=function(a){this.R.setTime(Number(a));return Sh(2,this.R)};var Zn=function(a){return"<em>"+a+"</em>"};var eo=function(a){S.call(this);this.Ob=a||window;this.nr=Q(this.Ob,re,this.Eb,d,this);this.Gb=pc(this.Ob);if(this.wU())this.lt=window.setInterval(r(this.YB,this),500)};t(eo,S);o=eo.prototype;o.nr=i;o.Ob=i;o.Gb=i;o.lt=i;o.wU=function(){return Vb&&Zb||Tb&&this.Ob.self!=this.Ob.top};o.getSize=function(){return this.Gb?this.Gb.Ma():i};o.C=function(){eo.b.C.call(this);if(this.nr){ge(this.nr);this.nr=i}if(this.lt){window.clearInterval(this.lt);this.lt=i}this.Gb=this.Ob=i};o.Eb=function(){this.YB()};
o.YB=function(){var a=pc(this.Ob);if(!Ua(a,this.Gb)){this.Gb=a;this.dispatchEvent(re)}};var fo=function(a,b,c){Rg.call(this,a,b||Gg.wa(),c)};t(fo,Rg);Ng(Hg,function(){return new fo(i)});var go="iconclass",ho="iconloadingclassname",io="itemwidth",jo="itemheight",ko="orientation",lo="horizontal",mo="preloadfunction",no="maxloadsize",oo="originalsizefn",po="navigateonclick";var qo=function(a,b,c,e,f){ik.call(this,b,c,f);this.M=nd(this.ab());this.ta=e;this.Ip=e.debug;this.R0=e.updateimages;this.JQ=e[mo];this.de=(this.EF=!e[po])?J("a"):i;this.ex=e[ho];f&&this.B(f)};t(qo,ik);o=qo.prototype;o.va=j;o.mv=d;o.Ox=d;o.r=function(){this.ea(J("div"))};
o.ea=function(a){this.j=a;this.j.Ft=this.qd;this.j.className="filmstrip-icon "+this.ex;this.Ca=J("img");if(this.EF){this.j.appendChild(this.de);K(this.de,this.Ca)}else this.j.appendChild(this.Ca);if(this.Ip){this.Xa=J("div");this.j.appendChild(this.Xa)}this.Xy(this.qd,d);this.Od()};o.B=function(a,b){qo.b.B.call(this,a);typeof b!="undefined"&&this.Xy(b);this.Od();this.S0()};o.vo=function(a){this.va=a;this.Od()};o.cz=function(a){this.Ox=a;this.Od()};o.Ry=function(a){this.mv=a;this.Od()};o.na=function(){this.Od()};
o.Od=function(){this.M&&this.M.U("updateImage_, index_: "+this.qd+", offscreen_: "+this.Ox+", fail_: "+this.mv+", loading_: "+this.va);if(this.j){this.Ip&&this.Xa&&N(this.Xa,this.qd);if(this.R0&&this.g)if(this.va){this.j.style.backgroundImage="";dc(this.j,this.ex)}else{ec(this.j,this.ex);this.Ca.src=this.JQ(this.g,this.ta)}this.Ox?dc(this.j,"gphoto-icon-offscreen"):ec(this.j,"gphoto-icon-offscreen");this.mv?dc(this.j,"gphoto-icon-fail"):ec(this.j,"gphoto-icon-fail")}};
o.S0=function(){if(this.de)this.de.href=this.TD()};o.nj=function(a){this.Xy(a,j)};o.Xy=function(a,b){qo.b.nj.call(this,a);if(this.j){this.j.Ft=a;this.Ca.Ft=a}b&&this.Od()};o.TD=function(){return""};o.ab=function(){return"gphoto.FilmStripIcon"};var ro=function(){Dg.call(this)},so;t(ro,Dg);ro.prototype.da=function(){return"gphoto-filmstrip"};ro.prototype.r=function(a){var b=ro.b.r.call(this,a);this.qa(a,b);return b};ro.prototype.qa=function(a,b){var c=ro.b.qa.call(this,a,b),e=I("div",{"class":"gphoto-filmstrip-images"}),f=I("div",{"class":"imagestrip"});K(e,f);K(b,e);a.uZ(f,e);return c};var wo=function(a){if(a>=1)return 1;if(a<=0)return 0;to==1&&uo();return vo(a)},to=1,vo=function(a){var b=0;a=a*8;if(a<1)b=a-(1-Math.exp(-a));else{var c=Math.exp(-1);a-=1;var e=1-Math.exp(-a);b=c+e*(1-c)}return b*to},uo=function(){to=1/vo(1)};var zo=function(a,b,c){Pg.call(this,"",b||so||(so=new ro),c);this.M=nd(this.ab());this.ta=cb(xo);fb(this.ta,a);this.Wc=this.ta[go];this.zW=this.ta[oo]||yo;this.vH=this.ta[mo];var e;if(this.ta[ko]==lo){e=this.ta[io];this.xn="left"}else{e=this.ta[jo];this.xn="top"}this.Xf=this.ta.itemgap+e;var f=this.ta.swapthreshold*this.Xf,g=Math.floor(f);this.PM=Math.ceil(f);this.Ms=Math.floor(this.Xf+g);this.dD=this.ta.animationtime;this.hW=this.ta.offscreencount;this.Zg={};this.pc={};this.Jk=[];this.ac=[];this.pV=
this.ta[no];this.Ep=this.ta.crop;this.ZT=r(this.tk,this);this.XT=r(this.YT,this)};t(zo,Pg);var Ao="currentitemchanged",xo={};xo[io]=80;xo[jo]=96;xo.itemgap=5;xo.animationtime=750;xo[go]=i;xo.iconclassname="icon";xo[ho]="gphoto-icon-loading";xo[ko]=lo;xo.debug=d;xo.updateimages=j;xo.swapthreshold=0.3333333333333333;xo.offscreencount=2;xo[mo]=i;xo[no]=0;xo.crop=d;xo[oo]=i;xo[po]=j;var yo=function(){return i};o=zo.prototype;o.Ml=-1;o.Bj=-1;o.ya=0;o.zn=0;o.nC=0;o.FB=0;
o.uZ=function(a,b){this.uk=a;this.yw=b};o.A=function(){zo.b.A.call(this);this.jK(this.WD());if(this.g){this.KB();this.Zn(1)}};o.K=function(){if(this.fd){this.fd.NO();delete this.fd}zo.b.K.call(this);L(this.uk)};o.hR=function(){return Math.min(this.Ml>0?this.Ml*2:0,this.g.ja())};o.tk=function(a){this.ZJ(a,1)};o.YT=function(a){this.ZJ(a,2)};o.ZJ=function(a,b){var c=a.iE();if(this.pc[c])this.pc[c][1]=b;else return i;var e=this.pc[c][0];this.Jk[e]=b;var f=this.Zg[e];if(f){f.vo(d);2==b&&f.Ry(j)}return f};
o.Zn=function(a,b){if(!!(this.g&&this.vH)){var c=this.hR(),e=la(b)?b:this.ya,f=Math.min(Math.max(0,e+a*c),this.g.ja()-1),g=Math.min(e,f),h=Math.max(e,f);this.g.gl(g,h,r(this.ZC,this,g,h-g+1))}};o.B=function(a){zo.b.B.call(this,a);this.KB();this.Zn(1);var b=this.ya,c=Math.min(b+this.Ml,this.g.ja()-1);this.g.gl(b,c,r(this.pT,this));this.dispatchEvent({type:Ao,index:this.ya,JV:this.g})};o.WD=function(){var a=xf(this.j);this.M.U("imageAreaSize: "+a);return a};
o.jK=function(a){var b;b=this.ta[ko]==lo?Math.floor(a.width/this.Xf):Math.floor(a.height/this.Xf);this.Bj=b=Math.max(0,b);if(this.g){var c=this.g.ja();b=Math.min(b,c)}var e=this.Bj*this.Xf;if(this.yw)if(this.ta[ko]==lo)this.yw.style.width=e+"px";else this.yw.style.height=e+"px";this.FB=e;this.Ml=b;this.M.U("visibleCount: "+b+" this.availableLength_: "+this.FB+" this.visibleSlotCount_: "+this.Bj)};
o.JH=function(){if(!(!this.N||this.fd)){this.jK(this.WD());var a=this.Bj>=(this.g?this.g.ja():0)?this.Bj:this.Bj+this.hW,b=a-this.ac.length,c=this.ac.length-a;this.M.U("totalIconCount: "+a+" itemsToCreate: "+b+" itemsToRemove: "+c);if(c>0){var e=this.ac.length-1;this.M.U("removing items from "+e+" to "+a);var f=e;for(;f>a;f--)this.CX(f)}else if(b>0&&this.g&&this.g.ja()){var g=Math.max(this.ac.length-1,0),h=g;if(this.ac&&this.ac.length)h+=this.ac[0].jh();var l=this.ta.iconclassname,m=0;for(;m<b;++m){var f=
g+m,n=m+h,q=this.g?this.g.Xd(n):i;this.Mt(new this.Wc(this,l,n,this.ta,q),f)}this.ZC(h,b)}}};o.KB=function(){if(!!this.N){this.Zg={};this.pc={};this.Jk.length=0;this.ac.length=0;this.GP=d;this.nC=this.zn=0;this.Ml=-1;this.ya=0;if(this.uk){sc(this.uk);this.uk.style[this.xn]=0}this.g&&this.g.ja()&&this.JH();this.GP=j}};
o.Mt=function(a,b){if(a){var c=this.ac[0]?this.ac[0].wn:0;this.ac[b]=a;this.H(a);a.G(this.uk);a.wn=c+b*this.Xf;a.f().style[this.xn]=a.wn+"px";this.Zg[a.jh()]=a;this.aK(a,b);a.cz(b>this.g.ja()-1)}};o.CX=function(a){var b=this.ac[a];if(b){this.Zg[b.jh()]=i;this.removeChild(b);this.ac.splice(a,1)}};o.forward=function(){this.Ny(Math.min(this.g.ja()-1,this.ya+1))};o.OM=function(){this.Ny(Math.max(0,this.ya+-1))};o.pT=function(a,b){var c=b.length;this.M0(a,c,0)};
o.M0=function(a,b,c){var e=0;for(;e<Math.min(this.Ml,b);++e){var f=this.ac[c+e],g=a+e,h=this.g.Xd(g);if(!(h==f.ba())){f.B(h,g);var l=this.Jk[g];f.vo(!l);f.Ry(l==2);this.Zg[g]=f}}};o.ZC=function(a,b){var c=0;for(;c<b;++c){var e=a+c;if(!!!this.Jk[e]){var f=this.g.Xd(e);!f||this.Od(f,e)}}};o.Od=function(a,b){var c=this.vH(a,this.ta);if(c){if(!this.pc[c]){this.pc[c]=[b,-1];wm(Le(c),this.zW(a,this.ta),this.pV,this.Ep,this.ZT,this.XT)}}else{var e=this.Zg[b];e&&e.vo(d);this.Jk[b]=j}};
o.Ny=function(a){!this.DG(a)||this.dispatchEvent({type:Ao,index:this.ya,JV:this.g})};o.DG=function(a,b){if(!this.g)return d;a=Li(a,0,this.g.ja()-1);if(this.ya==a)return d;if(this.fd){this.fd.stop();delete this.fd}var c=this.KN(a);if(!c)return d;var e=[c.e0,0],f=[c.Dz,0];c.oD=b;if(this.dD==0)this.pD(c,i);else{this.fd=new Yk(e,f,this.dD,wo);this.fd.addEventListener("animate",r(this.aP,this,c));this.fd.addEventListener("end",r(this.pD,this,c));this.fd.mH()}this.ya=a;this.Zn(c.direction);return j};
o.KN=function(a){var b=this.ya-a;if(a<0||b==0)return i;return{direction:b<0?1:-1,e0:this.zn,Dz:-1*a*this.Xf-this.nC}};var Bo=function(a,b){var c;if(b==1){c=a.shift();a.push(c)}else{c=a.pop();a.unshift(c)}return c};o=zo.prototype;o.aK=function(a,b){var c=this.Jk[b];a.vo(!c);a.Ry(c==2)};
o.t0=function(a){var b=Bo(this.ac,a),c=b.jh(),e=b.wn+a*this.ac.length*this.Xf;b.wn=e;var f=c+a*this.ac.length;b.f().style[this.xn]=e+"px";var g=this.g?this.g.Xd(f):i;this.Zg[c]=i;if(f<=this.g.ja()-1){if(f<0||!g)b.nj(f);else{this.aK(b,f);b.B(g,f);this.Zg[f]=b}b.cz(d)}else{b.nj(f);b.vo(d);b.cz(j)}};o.pD=function(a){this.BG(a.Dz,a.direction);a.oD&&a.oD();delete this.fd};
o.aP=function(a,b){var c=a.direction==1?Math.floor(b.x):Math.ceil(b.x);if(c==a.Dz&&this.fd){this.fd.stop();delete this.fd}else this.BG(c,a.direction)};o.$B=function(a,b){var c,e=0,f=Math.ceil(Math.max(Math.abs(a)/this.Ms,1)*this.Bj);do{++e;var g=this.ac[0].wn;c=b==1?Math.abs(g+this.zn):Math.abs(g+this.Xf+this.zn)+this.PM;this.M.U("diff: "+c+" swapDistance: "+this.Ms);c>=this.Ms&&this.t0(b)}while(c>=this.Ms&&e<f);e>=f&&this.M.U("maxCount exceeded: "+f)};
o.BG=function(a,b){this.$B(a,b);this.zn=a;this.uk.style[this.xn]=a+"px";this.$B(a,b)};o.ng=function(a){zo.b.ng.call(this,a);if(this.ta[po]){var b=a.target.Ft;typeof b=="number"&&this.Ny(b)}};o.ab=function(){return"gphoto.FilmStrip"};var Do=function(a,b,c,e,f){var g=e||{};g[mo]=g[mo]||Co;qo.call(this,a,b,c,g,f)};t(Do,qo);Do.prototype.TD=function(){return this.g&&this.g.ih?this.g.ih():""};var Co=function(a,b){if(!a||a==Kl)return"";return Me(Le(a.thumbnail().url),b[no],b.crop)},Eo=function(a){if(a&&la(a.w)&&la(a.h))return new y(a.w,a.h);return i};var Fo=function(a,b,c){X.call(this,c);this.i=new T(this);this.Vk=a;this.Ou=new Of(this.WR,1200,this);var e=b||{};e[go]=e[go]||Do;e[ho]=e[ho]||"SPRITE_related_loading";e[mo]=e[mo]||Co;e[io]=e[io]||72;e[jo]=e[jo]||72;e.itemgap=e.itemgap||2;e[no]=72;e.crop=j;e[oo]=e[oo]||Eo;e[po]=e[po]||d;this.ob=new zo(e);this.Hk=new fo(I("div",{"class":"goog-inline-block SPRITE_relatedphotos_left"}));this.Hk.to(4,j);this.jl=new fo(I("div",{"class":"goog-inline-block SPRITE_relatedphotos_right"}));this.jl.to(4,j);this.Hk.vb(1,
j);this.jl.vb(1,j);this.H(this.Hk);this.H(this.ob);this.H(this.jl)};t(Fo,X);o=Fo.prototype;o.Jp=-1;o.B=function(a){Fo.b.B.call(this,a);this.ob.Ka()&&this.ob.B(a);this.qA()};o.P=function(a){var b=this.ob.P(a);this.j&&W(this.j,a);b&&a&&this.g&&this.ob.B(this.g)};
o.ea=function(a){Fo.b.ea.call(this,a);var b=I("div",{"class":"filmstrip-holder"}),c=I("div",{"class":"filmstrip-nav"}),e=I("div",{"class":"button"}),f=I("div",{"class":"button"});this.ob.G(b);this.Hk.G(e);this.jl.G(f);K(a,b);K(a,c);K(c,e);K(c,f);W(this.f(),this.ob.Ka())};o.A=function(){Fo.b.A.call(this);this.i.e(this.ob,Ao,this.lS);this.i.e(this.Hk,"activate",this.ob.OM,d,this.ob);this.i.e(this.jl,"activate",this.ob.forward,d,this.ob);this.i.e(new eo,re,this.ob.JH,d,this.ob);this.i.e(this.Vk,zm,this.dw)};
o.K=function(){Fo.b.K.call(this);this.Ou.stop();this.i.Y()};o.o=function(){if(!this.pb()){Fo.b.o.call(this);this.Ou.o()}};o.lS=function(a){this.CO(a.index);this.qA(a.index)};o.CO=function(a){this.Jp=a;this.Ou.start()};o.WR=function(){if(this.Jp>=0){this.Vk.Oy(this.Jp);this.Jp=-1}};o.dw=function(){var a=this.Vk.Qb;this.qA();this.ob.DG(a)};o.qA=function(a){var b=la(a)?a:this.Vk.Qb,c=this.g?this.g.ja():0;this.Hk.vb(1,b==0);this.jl.vb(1,b+1>=c||c==0)};var Go=function(a,b){lm.call(this,b);this.ia=a;this.Vk=new xm;this.ob=new Fo(this.Vk);this.H(this.ob)};t(Go,lm);o=Go.prototype;o.r=function(){Go.b.r.call(this);var a=this.f();F(a,"lhcl_sidebox");this.ea(a)};o.C=function(){Go.b.C.call(this);delete this.Bg;delete this.zh};o.ea=function(a){this.Bg=I("div",{"class":"lhcl_title"});K(a,this.Bg);this.zh=I("div");this.zh.innerHTML=gh;K(a,this.zh);var b=I("div",{"class":"lhcl_RelatedBox-filmstrip_"});K(a,b);this.ob.qa(b)};
o.B=function(a,b){Go.b.B.call(this,a);if(a&&a.F()!=this.rO){this.rO=a.F();this.Bg.innerHTML="Related to:";this.ob.P(d);W(this.zh,j);b&&a.XZ(b);a.XU(r(this.kS,this))}};o.kS=function(a){var b=a.py;if(!b||!b.length)this.ob.P(d);else{var c="Related to:&nbsp;",e=0;for(;e<b.length;++e){if(e>0)c+=", ";var f="/lh/view?filter=1&psc=G&q="+B(b[e]);c+="<a href="+f+">"+b[e]+"</a>"}this.Bg.innerHTML=c;this.ob.B(new Cm(a,this.Q));W(this.zh,d);this.ob.P(j)}};var Ho=function(a,b,c){lm.call(this,c);this.Ec=a;this.Aa=b;var e=Aj.wa();this.Zl=new Rg(I("div",{"class":"goog-inline-block SPRITE_addPersonButton"}),e);this.Zl.wc("lhcl_addPersonButton");this.H(this.Zl);this.am=new Rg(I("div",{"class":"goog-inline-block SPRITE_addTagButton"}),e);this.am.wc("lhcl_addTagButton");this.H(this.am);this.hc=[];this.El={}};t(Ho,lm);o=Ho.prototype;o.A=function(){Ho.b.A.call(this);this.k.e(this.am,[Y,R],this.I_,j);this.k.e(this.Zl,[Y,R],this.FR,j)};
o.B=function(a){Ho.b.B.call(this,a);this.Ha=nl(a,this.Aa);this.SE();this.am.P(this.Ha,j);this.Zl.P(this.Ha,j);va(this.hc,function(b){this.removeChild(b,j)},this);this.hc=[];$a(this.El);this.ci="";this.Ec.uf(this.g,r(function(){v(this.g.Mm(),this.nB,this)},this));this.eK()};o.eK=function(){this.yl&&this.g&&this.yl.tA(this.g.id,this.g.user.name,this.Ha,this.g.Fa())};o.KM=function(a){this.yl=a;this.H(this.yl,d);this.yl.G(this.Tr.$a);this.eK()};
o.SX=function(){this.Ne("people","People");this.Tr=this.oq("people");Vk(r(this.KM,this),this.Tr)};o.r=function(){Ho.b.r.call(this);this.ea(this.f())};o.ea=function(){_features.fr&&_features.froptin&&this.SX();this.Ne("tags","Tags");this.Uz=this.oq("tags");this.Os=I("ul",{"class":"lhcl_taglist"});K(this.Uz.$a,this.Os);var a=I("div",{"class":"gphoto_addTagIcon"});K(this.Uz.ow,a);this.am.G(a);if(this.Tr){var b=I("div",{"class":"gphoto_addTagIcon"});K(this.Tr.ow,b);this.Zl.G(b)}};
o.lB=function(a,b){var c=a.value,e=d;if(c){var f=Pl(c);if(this.h1(f)){e=j;v(f,function(g){var h=this.hO(g);if(h){var l=this.nB(h);e=e&&!!l}else e=d},this)}e&&this.g.ey()}if(e)a.value="";!b&&e&&this.SE()};o.SE=function(a){a&&a.preventDefault();this.Ue&&W(this.Ue,d)};o.FR=function(){this.yl&&this.yl.ai()};
o.I_=function(){if(!this.Ue){this.Ue=I("div",{"class":"lhcl_addtagform",style:"display: none;"});var a=I("table"),b=J("tbody"),c=J("tr"),e=I("td",{style:"width: 96%; padding-right:10px"}),f=I("input",{id:"lhid_newTagsText","class":"gphoto-sidebar-inputbox",type:"text",maxlength:"4096"}),g=I("td",{"class":"lhcl_addtagbuttoncell"}),h=new Rg("Add",Aj.wa());h.wc("gphoto-button");this.k.e(h,[R,Y],r(function(m){m.preventDefault();this.lB(f)},this));this.k.e(f,Od,r(function(m){if(m.keyCode==13){this.lB(f,
j);m.preventDefault()}},this));this.H(h);h.G(g);this.HJ=f;K(e,f);K(c,e);K(c,g);K(a,b);K(b,c);K(this.Ue,a);K(this.Uz.$a,this.Ue);tc(this.Ue,this.Os);var l=I("div",{"class":"lhcl_addtaghelp"});l.innerHTML='You can enter a space separated list of tags.<br/>For example: beach "pacific ocean"';K(this.Ue,l)}if(this.Ue.style.display!="none")W(this.Ue,d);else{this.HJ.value="";W(this.Ue,j);this.HJ.focus()}};
o.nB=function(a){var b=String(a.t).toLowerCase();if(!this.El[b]){var c=new Io(a,this.Ha),e=Qa(this.hc,c,Jo);if(e<0){e=-(e+1);Ha(this.hc,c,e)}this.H(c);c.G(this.Os);this.El[b]=c;if(e>=0){var f=this.Os.childNodes[e];f&&tc(c.f(),f)}return j}return d};o.KO=function(a){var b=a.Ho;Ka(this.hc,a);this.removeChild(a,j);Za(this.El,b.title);this.g.FX(b,j)};o.hO=function(a,b){if(this.El[a])return i;return this.g.ZL(a,b)};
o.h1=function(a){if(a.length>100){alert("Too many tags (max is "+(100+(", but "+(a.length+" entered)"))));return d}if(a.length==this.hc.length){var b=0,c=0;for(;c<a.length;++c)if(this.El[a[c]])++b;else break;if(b==this.hc.length)return d}var e=0,c=0;for(;c<a.length;++c){var f=a[c];if(f.length>128){alert("Tags can only be "+(128+(" letters long. You entered one that was "+(f.length+" letters long."))));return d}e+=f.length}if(e>4096){alert("The maximum length for all tags has been exceeded. Each photo may use up to "+
(4096+(" characters for all tags, but "+(e+" have been entered."))));return d}return j};o.tR=function(a){if(!this.ci){this.ci="/lh/view?uname="+this.g.user.name;this.ci+=this.Ha?"&isOwner=true":"&cuname="+this.g.user.name;this.ci+="&tags="}var b=a.t.indexOf(" ")==-1?a.t:'"'+a.t+'"';return this.ci+B(b)};var Io=function(a,b){X.call(this);this.Ho=a;this.Ha=b};t(Io,X);var Jo=function(a,b){return qb(a.Ho.t,b.Ho.t)};
Io.prototype.r=function(){this.j=J("li");var a=I("a"),b=this.Ho.t,c=b;c=Db(c,30);a.title=b;N(a,c);a.href=this.V.tR(this.Ho);K(this.j,a);if(this.Ha){var e='Remove tag "'+(b+'" from this picture'),f=new ok;f.pj(e);this.H(f,j);de(f,Y,this.LO,d,this)}};Io.prototype.LO=function(){this.V&&this.V.KO(this)};
var Ko=0,Lo=[],Mo={AED:"\u062f.\u0625",ARS:"$",AUD:"$",BDT:"\u09f3",BRL:"R$",CAD:"$",CHF:"Fr.",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",CUP:"$",CZK:"K\u010d",DKK:"kr",DOP:"$",EGP:"\u00a3",EUR:"\u20ac",GBP:"\u00a3",HKD:"$",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",INR:"Rs",IQD:"\u0639\u062f",ISK:"kr",JMD:"$",JPY:"\u00a5",KRW:"\u20a9",KWD:"\u062f.\u0643",LKR:"Rs",LVL:"Ls",MNT:"\u20ae",MXN:"$",MYR:"RM",NOK:"kr",NZD:"$",PAB:"B/.",PEN:"S/.",PHP:"P",PKR:"Rs.",PLN:"z\u0142",RON:"L",RUB:"\u0440\u0443\u0431",
SAR:"\u0633.\u0631",SEK:"kr",SGD:"$",SKK:"Sk",SYP:"SYP",THB:"\u0e3f",TRY:"YTL",TWD:"NT$",USD:"$",UYU:"$",VEF:"Bs.F",VND:"\u20ab",XAF:"FCFA",XCD:"$",YER:"YER",ZAR:"R"},No=function(a,b,c){a.push(encodeURIComponent(b)+"="+encodeURIComponent(c))},Oo=function(a,b,c,e){e=e||function(){wi("restoreVideo")};Hi(a,b,c,e)};function Po(){var a=s(),b=0;for(;b<Lo.length;b++)Lo[b](a)}function Qo(){Ko&&window.clearInterval(Ko);Ko=0}var Ro=function(){this.W=Ih("NumberFormatConstants",Dh())};o=Ro.prototype;
o.bi=function(a,b){switch(a){case 1:this.Ve(this.W.KK,b);break;case 2:this.Ve(this.W.rL,b);break;case 3:this.Ve(this.W.lL,b);break;case 4:this.Ve(this.W.IK,b);break;default:k(Error("Unsupported pattern type."))}};o.Ve=function(a,b){this.PW=a;this.uF=b||this.W.LK;this.oO=Mo[this.uF];this.vr=40;this.Je=1;this.mx=3;this.Ar=this.sn=0;this.Wn=this.ej="";this.Ch="-";this.Bn="";this.An=1;this.Sv=3;this.kt=this.Xm=this.GC=d;this.MW(this.PW)};
o.parse=function(a,b){var c=b||[0],e=c[0],f=0,g=a.indexOf(this.ej,c[0])==c[0],h=a.indexOf(this.Ch,c[0])==c[0];if(g&&h)if(this.ej.length>this.Ch.length)h=d;else if(this.ej.length<this.Ch.length)g=d;if(g)c[0]+=this.ej.length;else if(h)c[0]+=this.Ch.length;if(a.indexOf(this.W.yt,c[0])==c[0]){c[0]+=this.W.yt.length;f=Infinity}else f=this.LW(a,c);if(g){if(!(a.indexOf(this.Wn,c[0])==c[0])){c[0]=e;return 0}c[0]+=this.Wn.length}else if(h){if(!(a.indexOf(this.Bn,c[0])==c[0])){c[0]=e;return 0}c[0]+=this.Bn.length}return h?
-f:f};
o.LW=function(a,b){var c=d,e=d,f=d,g=1,h=this.Xm?this.W.UA:this.W.IA,l=this.Xm?this.W.TA:this.W.OA,m=this.W.KA,n="";for(;b[0]<a.length;b[0]++){var q=a.charAt(b[0]),u=this.MD(q);if(u>=0&&u<=9){n+=u;f=j}else if(q==h.charAt(0)){if(c||e)break;n+=".";c=j}else if(q==l.charAt(0)||"\u00a0"==l.charAt(0)&&q==" "&&b[0]+1<a.length&&this.MD(a.charAt(b[0]+1))>=0){if(c||e)break}else if(q==m.charAt(0)){if(e)break;n+="E";e=j}else if(q=="+"||q=="-")n+=q;else if(q==this.W.XA.charAt(0)){if(g!=1)break;g=100;if(f){b[0]++;break}}else if(q==
this.W.YA.charAt(0)){if(g!=1)break;g=1000;if(f){b[0]++;break}}else break}return parseFloat(n)/g};o.Dm=function(a){if(isNaN(a))return this.W.cL;var b=[],c=a<0||a==0&&1/a<0;b.push(c?this.Ch:this.ej);if(isFinite(a)){a*=c?-1:1;a*=this.An;this.kt?this.o0(a,b):this.Iz(a,this.Je,b)}else b.push(this.W.yt);b.push(c?this.Bn:this.Wn);return b.join("")};
o.Iz=function(a,b,c){var e=Math.pow(10,this.mx);a=Math.round(a*e);var f=Math.floor(a/e),g=Math.floor(a-f*e),h=this.sn>0||g>0,l="",m=f;for(;m>1.0E20;){l="0"+l;m=Math.round(m/10)}l=m+l;var n=this.Xm?this.W.UA:this.W.IA,q=this.Xm?this.W.TA:this.W.OA,u=this.W.Tl.charCodeAt(0),x=l.length;if(f>0||b>0){var z=x;for(;z<b;z++)c.push(this.W.Tl);var z=0;for(;z<x;z++){c.push(String.fromCharCode(u+l.charAt(z)*1));x-z>1&&this.Sv>0&&(x-z)%this.Sv==1&&c.push(q)}}else h||c.push(this.W.Tl);if(this.GC||h)c.push(n);var G=
""+(g+e),M=G.length;for(;G.charAt(M-1)=="0"&&M>this.sn+1;)M--;var z=1;for(;z<M;z++)c.push(String.fromCharCode(u+G.charAt(z)*1))};o.kB=function(a,b){b.push(this.W.KA);if(a<0){a=-a;b.push(this.W.$K)}var c=""+a,e=c.length;for(;e<this.Ar;e++)b.push(this.W.Tl);b.push(c)};
o.o0=function(a,b){if(a==0){this.Iz(a,this.Je,b);this.kB(0,b)}else{var c=Math.floor(Math.log(a)/Math.log(10));a/=Math.pow(10,c);var e=this.Je;if(this.vr>1&&this.vr>this.Je){for(;c%this.vr!=0;){a*=10;c--}e=1}else if(this.Je<1){c++;a/=10}else{c-=this.Je-1;a*=Math.pow(10,this.Je-1)}this.Iz(a,e,b);this.kB(c,b)}};o.MD=function(a){var b=a.charCodeAt(0);if(48<=b&&b<58)return b-48;else{var c=this.W.Tl.charCodeAt(0);return c<=b&&b<c+10?b-c:-1}};
o.Sr=function(a,b){var c="",e=d,f=a.length;for(;b[0]<f;b[0]++){var g=a.charAt(b[0]);if(g=="'")if(b[0]+1<f&&a.charAt(b[0]+1)=="'"){b[0]++;c+="'"}else e=!e;else if(e)c+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return c;case "\u00a4":this.Xm=j;if(b[0]+1<f&&a.charAt(b[0]+1)=="\u00a4"){b[0]++;c+=this.uF}else c+=this.oO;break;case "%":if(this.An!=1)k(Error("Too many percent/permill"));this.An=100;c+=this.W.XA;break;case "\u2030":if(this.An!=1)k(Error("Too many percent/permill"));this.An=
1000;c+=this.W.YA;break;default:c+=g}}return c};
o.OW=function(a,b){var c=-1,e=0,f=0,g=0,h=-1,l=a.length,m=j;for(;b[0]<l&&m;b[0]++)switch(a.charAt(b[0])){case "#":if(f>0)g++;else e++;h>=0&&c<0&&h++;break;case "0":if(g>0)k(Error('Unexpected "0" in pattern "'+a+'"'));f++;h>=0&&c<0&&h++;break;case ",":h=0;break;case ".":if(c>=0)k(Error('Multiple decimal separators in pattern "'+a+'"'));c=e+f+g;break;case "E":if(this.kt)k(Error('Multiple exponential symbols in pattern "'+a+'"'));this.kt=j;this.Ar=0;for(;b[0]+1<l&&a.charAt(b[0]+1)=="0";){b[0]++;this.Ar++}if(e+
f<1||this.Ar<1)k(Error('Malformed exponential pattern "'+a+'"'));m=d;break;default:b[0]--;m=d;break}if(f==0&&e>0&&c>=0){var n=c;n==0&&n++;g=e-n;e=n-1;f=1}if(c<0&&g>0||c>=0&&(c<e||c>e+f)||h==0)k(Error('Malformed pattern "'+a+'"'));var q=e+f+g;this.mx=c>=0?q-c:0;if(c>=0){this.sn=e+f-c;if(this.sn<0)this.sn=0}this.Je=(c>=0?c:q)-e;if(this.kt){this.vr=e+this.Je;if(this.mx==0&&this.Je==0)this.Je=1}this.Sv=Math.max(0,h);this.GC=c==0||c==q};
o.MW=function(a){var b=[0];this.ej=this.Sr(a,b);var c=b[0];this.OW(a,b);var e=b[0]-c;this.Wn=this.Sr(a,b);if(b[0]<a.length&&a.charAt(b[0])==";"){b[0]++;this.Ch=this.Sr(a,b);b[0]+=e;this.Bn=this.Sr(a,b)}else{this.Ch=this.ej+this.Ch;this.Bn+=this.Wn}};var So="NumberFormatConstants",To=function(a,b,c){var e=um;return e?e.VQ(a,b,c):-1},Uo=function(a){O.call(this,jm,a);this.Yg=a};t(Uo,O);
var Vo=function(){if(!Jk)k(Error("Logger has not been initalized"));return Jk},Wo=function(a){var b=[];Yj(a,b,No);return b.join("&")},Xo=function(a,b){var c=a%b;return c*b<0?c+b:c},Yo=function(a,b,c){Oo(4,a,b,c)},Zo=function(a,b){Oo(3,a,i,b)};
function $o(){var a=H("lhid_flash_inter_frame");if(!a){a=ri('<iframe src="javascript:void 0" style="position:absolute; display: none; z-index:5;" id="lhid_flash_inter_frame" frameborder="0" scrolling="no"></iframe>',{});document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):document.body.appendChild(a)}}function ap(a){Ka(Lo,a);Lo.length==0&&Qo()}function bp(a){Fa(Lo,a);Ko||(Ko=window.setInterval(Po,10))}
var cp=function(a,b){var c=new Ro;c.bi(a);return c.Dm(b)},dp={IA:".",OA:",",XA:"%",Tl:"0",C1:"+",$K:"-",KA:"E",YA:"\u2030",yt:"\u221e",cL:"NaN",UA:".",TA:",",KK:"#,##0.###",rL:"0.###E0",lL:"#,##0%",IK:"\u00a4#,##0.00",LK:"USD"},ep=function(a,b){Gh(a,So,b)},fp=function(a,b){return a in Fh&&b in Fh[a]},gp=function(a,b){return"Photo "+(a+(" of "+b))},hp=function(a,b,c){return a+("Album:"+(b+(" "+c)))},ip=function(a){var b=a.indexOf("#");return b<0?a:a.substr(0,b)},jp="change",kp=function(a){var b=Le(a),
c=b.lastIndexOf("/"),e=b.substr(0,c),f=b.substr(c);return e+"/d"+f},lp=function(a,b,c){var e=cc(a),f=d,g=0;for(;g<e.length;g++)if(e[g]==b){Ga(e,g--,1);f=j}if(f){e.push(c);a.className=e.join(" ")}return f},mp=function(a,b,c){if(c)a=Bb(a);if(a.length>b){var e=Math.floor(b/2),f=a.length-e;e+=b%2;a=a.substring(0,e)+"..."+a.substring(f)}if(c)a=C(a);return a},np=Fe(Ah,1),op=Fe(Ah,2);Ok({albumList:np,peopleWidget:Uk,toolbar:op});var pp=function(a){S.call(this);this.j=a;this.YF=Q(this.j,E?"DOMMouseScroll":"mousewheel",this)};t(pp,S);pp.prototype.handleEvent=function(a){var b=0,c=a.Dc,e="vertical";if(c.type=="mousewheel"){b=-c.wheelDelta/40;if(Vb){b/=3;if(c.wheelDeltaX)e="horizontal"}}else b=c.detail;if(ba(c.axis)&&ba(c.HORIZONTAL_AXIS)&&c.axis==c.HORIZONTAL_AXIS)e="horizontal";if(b>100)b=3;else if(b<-100)b=-3;var f=new qp(b,c,e);try{this.dispatchEvent(f)}finally{f.o()}};
pp.prototype.C=function(){pp.b.C.call(this);ge(this.YF);delete this.YF};var qp=function(a,b,c){Kd.call(this,b);this.type="mousewheel";this.axis=c||"vertical";this.detail=a};t(qp,Kd);var rp=function(a,b,c,e,f){Yk.call(this,b,c,e,f);this.$a=a};t(rp,Yk);rp.prototype.jt=ea;rp.prototype.Px=function(){this.jt();rp.b.Px.call(this)};rp.prototype.Ir=function(){this.jt();rp.b.Ir.call(this)};rp.prototype.Fn=function(){this.jt();rp.b.Fn.call(this)};var sp=function(a,b,c){if(b.length!=2||c.length!=2)k(Error("Start and end points must be 2D"));rp.apply(this,arguments)};t(sp,rp);
sp.prototype.jt=function(){this.$a.style.left=Math.round(this.coords[0])+"px";this.$a.style.top=Math.round(this.coords[1])+"px"};var tp=function(a,b,c,e){sp.call(this,a,[a.offsetLeft,a.offsetTop],b,c,e)};t(tp,sp);tp.prototype.Fn=function(){this.Bl=[this.$a.offsetLeft,this.$a.offsetTop];tp.b.Fn.call(this)};var up=function(){S.call(this)};t(up,S);o=up.prototype;o.Oc=0;o.Ke=0;o.Id=100;o.nd=0;o.Qh=1;o.rd=d;o.Zi=d;o.bz=function(a){this.Zi=a};o.bz=function(a){this.Zi=a};o.gc=function(a){a=this.ug(a);if(this.Oc!=a){this.Oc=a+this.nd>this.Id?this.Id-this.nd:a<this.Ke?this.Ke:a;!this.rd&&!this.Zi&&this.dispatchEvent(jp)}};o.Na=function(){return this.ug(this.Oc)};o.pl=function(a){a=this.ug(a);if(this.nd!=a){this.nd=a<0?0:this.Oc+a>this.Id?this.Id-this.Oc:a;!this.rd&&!this.Zi&&this.dispatchEvent(jp)}};o.gh=function(){return this.jY(this.nd)};
o.us=function(a){if(this.Ke!=a){var b=this.rd;this.rd=j;this.Ke=a;if(a+this.nd>this.Id)this.nd=this.Id-this.Ke;a>this.Oc&&this.gc(a);if(a>this.Id){this.nd=0;this.wo(a);this.gc(a)}this.rd=b;!this.rd&&!this.Zi&&this.dispatchEvent(jp)}};o.Gc=function(){return this.ug(this.Ke)};
o.wo=function(a){a=this.ug(a);if(this.Id!=a){var b=this.rd;this.rd=j;this.Id=a;a<this.Oc&&this.gc(a-this.nd);if(a<this.Ke){this.nd=0;this.us(a);this.gc(this.Id)}if(a<this.Ke+this.nd)this.nd=this.Id-this.Ke;if(a<this.Oc+this.nd)this.nd=this.Id-this.Oc;this.rd=b;!this.rd&&!this.Zi&&this.dispatchEvent(jp)}};o.Fc=function(){return this.ug(this.Id)};o.Ph=function(a){if(this.Qh!=a){this.Qh=a;var b=this.rd;this.rd=j;this.wo(this.Fc());this.pl(this.gh());this.gc(this.Na());this.rd=b;!this.rd&&!this.Zi&&this.dispatchEvent(jp)}};
o.ug=function(a){if(this.Qh==i)return a;return this.Ke+Math.round((a-this.Ke)/this.Qh)*this.Qh};o.jY=function(a){if(this.Qh==i)return a;return Math.round(a/this.Qh)*this.Qh};var vp=function(a){X.call(this,a);this.La=new up;this.k=new T(this);this.k.e(this.La,jp,this.YS)};t(vp,X);var wp="vertical";o=vp.prototype;o.Ua="horizontal";o.Iw=d;o.AG=d;o.Sf=10;o.rn=0;o.r=function(){vp.b.r.call(this);this.ea(this.O.r("div",{className:this.da(this.Ua)}))};o.ea=function(a){vp.b.ea.call(this,a);dc(a,this.da(this.Ua));this.jO();this.GY()};
o.A=function(){vp.b.A.call(this);this.AA=new Tg(this.xb);this.vP=new Tg(this.md);this.cb=new xg(this.f());this.Cr=new pp(this.f());(this.k=new T(this)).e(this.AA,Ug,this.vE).e(this.vP,Ug,this.vE).e(this.cb,"key",this.Om).e(this.f(),R,this.lk).e(this.Cr,"mousewheel",this.PS);this.f().tabIndex=0;this.zj()};o.K=function(){vp.b.K.call(this);this.k.Y()};
o.vE=function(a){var b=a.bD==this.AA?this.xb:this.md,c;if(this.Ua==wp){var e=this.f().clientHeight-b.offsetHeight;c=(e-a.top)/e*(this.Fc()-this.Gc())+this.Gc()}else{var f=this.f().clientWidth-b.offsetWidth;c=a.left/f*(this.Fc()-this.Gc())+this.Gc()}c=a.bD==this.AA?Math.min(Math.max(c,this.Gc()),this.Na()+this.gh()):Math.min(Math.max(c,this.Na()),this.Fc());this.zo(b,c);a.preventDefault()};
o.Om=function(a){var b=j;switch(a.keyCode){case 36:this.St(this.Gc());break;case 35:this.St(this.Fc());break;case 33:this.yn(this.Sf);break;case 34:this.yn(-this.Sf);break;case 37:case 40:this.yn(a.shiftKey?-this.Sf:-this.at);break;case 39:case 38:this.yn(a.shiftKey?this.Sf:this.at);break;default:b=d}b&&a.preventDefault()};o.lk=function(a){this.f().focus&&this.f().focus();if(!zc(this.xb,a.target)&&!zc(this.md,a.target))this.AG?this.St(this.qE(a)):this.d0(a)};
o.PS=function(a){this.yn((a.detail>0?-1:1)*this.at);a.preventDefault()};o.d0=function(a){this.Fz(a);this.je=this.HD(this.qE(a));this.lF=this.Ua==wp?this.ir<this.je.offsetTop:this.ir>this.je.offsetLeft+this.je.offsetWidth;this.k.e(jc(this.f()),ke,this.yq,j).e(this.f(),le,this.Fz);if(!this.vh){this.vh=new xe(200);this.k.e(this.vh,"tick",this.FE)}this.FE();this.vh.start()};
o.FE=function(){var a;if(this.Ua==wp){var b=this.ir,c=this.je.offsetTop;if(this.lF){if(b<c)a=this.nh(this.je)+this.Sf}else if(b>c+this.je.offsetHeight)a=this.nh(this.je)-this.Sf}else{var e=this.ir,f=this.je.offsetLeft;if(this.lF){if(e>f+this.je.offsetWidth)a=this.nh(this.je)+this.Sf}else if(e<f)a=this.nh(this.je)-this.Sf}ba(a)&&this.zo(this.je,a)};o.yq=function(){this.vh&&this.vh.stop();this.k.ca(jc(this.f()),ke,this.yq,j).ca(this.f(),le,this.Fz)};
o.Mv=function(a){var b=uf(a,this.f());return this.Ua==wp?b.y:b.x};o.Fz=function(a){this.ir=this.Mv(a)};o.qE=function(a){var b=this.Gc(),c=this.Fc();if(this.Ua==wp){var e=this.xb.offsetHeight,f=this.f().clientHeight-e,g=this.Mv(a)-e/2;return(c-b)*(f-g)/f+b}else{var h=this.xb.offsetWidth,l=this.f().clientWidth-h,m=this.Mv(a)-h/2;return(c-b)*m/l+b}};o.nh=function(a){if(a==this.xb)return this.La.Na();else if(a==this.md)return this.La.Na()+this.La.gh();else k(Error("Illegal thumb element. Neither minThumb nor maxThumb"))};
o.yn=function(a){var b=this.nh(this.xb)+a,c=this.nh(this.md)+a;b=Li(b,this.Gc(),this.Fc()-this.rn);c=Li(c,this.Gc()+this.rn,this.Fc());this.eJ(b,c-b)};o.zo=function(a,b){var c=i;if(a==this.md&&b<=this.La.Fc()&&b>=this.La.Na()+this.rn)c=b-this.La.Na();var e=c||this.La.gh();if(a==this.xb&&b>=this.Gc()&&b<=this.La.Na()+e-this.rn){var f=e-(b-this.La.Na());if(this.La.ug(b)+this.La.ug(f)==this.La.ug(b+f)){this.eJ(b,f);c=i}}c!=i&&this.La.pl(c)};
o.eJ=function(a,b){if(this.Gc()<=a&&a<=this.Fc()-b&&this.rn<=b&&b<=this.Fc()-a)if(!(a==this.Na()&&b==this.gh())){this.La.bz(j);this.La.pl(0);this.La.gc(a);this.La.pl(b);this.La.bz(d);this.zj();this.dispatchEvent(jp)}};o.Gc=function(){return this.La.Gc()};o.us=function(a){this.La.us(a)};o.Fc=function(){return this.La.Fc()};o.wo=function(a){this.La.wo(a)};o.HD=function(a){return a<=this.La.Na()+this.La.gh()/2?this.xb:this.md};o.YS=function(){this.zj();this.UJ();this.dispatchEvent(jp)};
o.zj=function(){if(this.xb&&!this.Iw){var a=this.Pv(this.nh(this.xb)),b=this.Pv(this.nh(this.md));if(this.Ua==wp){this.xb.style.top=a.y+"px";this.md.style.top=b.y+"px"}else{this.xb.style.left=a.x+"px";this.md.style.left=b.x+"px"}}};o.Pv=function(a){var b=new w;if(this.xb){var c=this.Gc(),e=this.Fc(),f=(a-c)/(e-c);if(this.Ua==wp){var g=this.xb.offsetHeight,h=this.f().clientHeight-g,l=Math.round(f*h);b.y=h-l}else{var m=this.f().clientWidth-this.xb.offsetWidth,n=Math.round(f*m);b.x=n}}return b};
o.St=function(a){a=Math.min(this.Fc(),Math.max(a,this.Gc()));this.om&&this.om.stop(j);var b,c=this.HD(a),e=this.Pv(a);b=this.Ua==wp?[c.offsetLeft,e.y]:[e.x,c.offsetTop];var f=new tp(c,b,100);this.om=f;this.k.e(f,"end",this.mP);this.Iw=j;this.zo(c,a);f.mH(d)};o.mP=function(){this.Iw=d};
o.dz=function(a){if(this.Ua!=a){var b=this.da(this.Ua),c=this.da(a);this.Ua=a;if(this.f()){lp(this.f(),b,c);this.xb.style.top="";this.xb.style.left=this.xb.style.top;this.md.style.top="";this.md.style.left=this.md.style.top;this.zj()}}};o.C=function(){vp.b.C.call(this);this.vh&&this.vh.o();delete this.vh;this.om&&this.om.o();this.k.o();delete this.k;delete this.om;delete this.xb;this.La.o();if(this.cb){this.cb.o();delete this.cb}if(this.Cr){this.Cr.o();delete this.Cr}};o.OY=function(a){this.Sf=a};
o.at=1;o.q_=function(a){this.at=a};o.Ph=function(a){this.La.Ph(a)};o.KZ=function(a){this.AG=a};o.Na=function(){return this.La.Na()};o.gc=function(a){this.zo(this.xb,a)};o.gh=function(){return this.La.gh()};o.pl=function(a){this.zo(this.md,this.La.Na()+a)};o.P=function(a){W(this.f(),a);a&&this.zj()};o.GY=function(){vg(this.f(),"slider");this.UJ()};o.UJ=function(){var a=this.f();if(a){wg(a,"valuemin",this.Gc());wg(a,"valuemax",this.Fc());wg(a,"valuenow",this.Na())}};var xp=function(a){vp.call(this,a);this.La.pl(0)};t(xp,vp);var yp="goog-slider-thumb";xp.prototype.da=function(a){return"goog-slider-"+a};xp.prototype.jO=function(){var a=this.f(),b=Cc(a,function(c){return c.nodeType==1&&Da(cc(c),yp)});if(!b){b=this.iO();a.appendChild(b)}this.md=this.xb=b};xp.prototype.iO=function(){var a=this.O.r("div",{"class":yp});vg(a,"button");return a};var Ap=function(a,b){this.mX=ka(a)?sa(zp,a):a;this.ly=new Rc;this.Oh(b)},zp=function(a,b){if(Kl==b)return undefined;return A(b,a)};Ap.prototype.Oh=function(a){this.T&&this.T!=a&&this.T.EI(i);if(a){this.T=a;this.T.EI(r(this.rD,this));this.T.isLoaded()&&v(this.T.Jc,this.rD,this)}else delete this.T};Ap.prototype.rD=function(a,b){var c=this.mX(a);if(c){var e=this.ly.get(c);if(!e){e=[];this.ly.Z(c,e)}e.push(b)}};
Ap.prototype.xD=function(a,b,c){var e=this.ly.get(a);e||c?b(e||[]):this.T.load(0,this.T.db,r(this.xD,this,a,b,j))};var Bp=function(a,b,c,e){X.call(this);this.ke=a;this.XM=b;this.WM=c;this.u2=e};t(Bp,X);Bp.prototype.ab=function(){return"gphoto.context.Album"};Bp.prototype.K=function(){Bp.b.K.call(this)};Bp.prototype.A=function(){Bp.b.A.call(this);var a=new dm;a.ap(this.XM,this.WM);var b=C(this.ke);a.Gj(b);this.H(a,j)};var Cp=function(){X.call(this)};t(Cp,X);Cp.prototype.ab=function(){return"gphoto.context.Display"};Cp.prototype.r=function(){Cp.b.r.call(this);F(this.f(),"gphoto-context-display")};Cp.prototype.Z=function(a){this.hj(j);(this.pO=a)&&this.H(a,j);this.N&&W(this.f(),!!a)};var Dp=function(a,b,c,e,f,g,h,l,m){X.call(this);this.ma=a;this.VM=b;this.QW=c;this.Mz=e||"";this.Nz=f||"";this.Lz=g||"";this.FJ=h||"";this.pu=l||"";this.hC=m||""};t(Dp,X);o=Dp.prototype;o.Vm=i;o.ab=function(){return"gphoto.context.PeopleSearch"};
o.r=function(){var a;if(this.ma.length==1||this.Nz){a=J("table",{width:"100%"});var b=J("tbody"),c=J("tr");if(this.ma.length==1)this.Vm=I("td",{style:"width:70px;"});this.Io=I("td");this.EJ=I("td",{align:"right"});K(a,b);K(b,c);this.Vm&&K(c,this.Vm);K(c,this.Io);K(c,this.EJ)}else this.Io=a=J("div");this.Zb(a)};
o.A=function(){Dp.b.A.call(this);if(this.Vm){this.Ca=I("img",{src:this.ma[0].iconicshapeurl,"class":"gphoto-person-icon"});this.Vm.appendChild(this.Ca)}var a=new dm;a.PL(this.VM);a.ap("People",this.QW);a.Gj(Uj(this.sR()));this.H(a);a.G(this.Io);if(this.Mz){var b=I("div",{"class":"gphoto-context-search-toggle"});if(this.Nz){var c=i,e=[];if(this.Lz){K(b,document.createTextNode("View: "));c=I("span");c.style.fontWeight="bold";e.push(Uj(C(this.Lz)))}if(c&&!this.FJ){e.push(" | ");c.innerHTML=e.join("");
K(b,c)}var f=I("a",{href:this.Nz});f.innerHTML=Uj(C(this.Mz));K(b,f);if(c&&this.FJ){e.unshift(" | ");c.innerHTML=e.join("");K(b,c)}}else N(b,this.Mz);K(this.Lz?this.EJ:this.Io,b)}if(this.pu){b=I("div",{"class":"gphoto-context-search-toggle"});if(this.hC){f=I("a",{href:this.hC});f.innerHTML=Uj(C(this.pu));K(b,f)}else N(b,this.pu);K(this.Io,b)}};o.sR=function(){var a=xa(this.ma,function(b){return b.dispname});return C(a.join(", "))};var Ep={value:"albums_list"},Fp={value:"photos_list"},Gp={value:"tags_list",label:"Tags"},Hp={value:"person_filter"},Ip={value:"tag_filter",label:function(a){return"photos tagged "+a}},Jp={value:"search_filter"},Kp={name:"isOwner",value:"true"},Lp={name:"psc",value:"C"},Mp={name:"psc",value:"G"},Np={name:"optgt",value:"FEATURED_PHOTOS"},Op={name:"filter",value:"1"};var Pp=function(a){var b=new hg(window.location),c="http://"+b.oi;c+=b.yT()?":"+b.Gh:"";c+=b.sd;var e=[],f=0;for(;f<a.length;f++){var g=a[f].type;switch(g){case "owner_id":var h=a[f].value?a[f].value:b.Ea("uname");h!=undefined&&e.push("uname="+h);break;case "album_id":var l=a[f].value?a[f].value:b.Ea("aid");e.push("aid="+l);break;case Gp:e.push("optgt=TAGS");break;case Ip:e.push("tags="+a[f].value);break;case Hp:e.push("subjectids="+a[f].value);break;case Jp:e.push("q="+a[f].value);break;case Kp:case Lp:case Mp:case Op:e.push(g.name+
"="+g.value);break;case 3:e.push("cuname="+a[f].value);break}}if(e.length>0)c+="?"+e.join("&");return c};var Rp=function(a,b){if(!Qp){Ch(_LH.locale);fp(So,Dh())||ep(dp,Dh());Qp=j}return cp(a,b)},Qp=d;var Sp=function(a,b,c,e,f,g,h){X.call(this);this.ny=a;this.kl=b;this.S=c;this.fs=[];this.zU=e;this.Or=g;if(b==0)this.fs.push(h,f[0]);else if(b==2)this.fs.push(["Favorites",f[0]]);else if(b==3)this.fs.push([h,f[0]]);else b==4&&this.fs.push(["My Photos",f[0]])};t(Sp,X);o=Sp.prototype;o.r=function(){this.Zb(I("table"));var a=J("tbody"),b=J("tr");this.zg=J("td");this.Pj=J("td");K(this.f(),a);K(a,b);K(b,this.zg);K(b,this.Pj);V(this.zg,"width","100%");F(this.Pj,"gphoto-context-search-count")};
o.A=function(){Sp.b.A.call(this);var a=Uj(C(this.ny)),b=new dm;if(this.S==3)b.Gj("Featured Photos");else this.S==1?b.Gj("photos tagged "+("<b>"+(a+"</b>"))):b.Gj("Search results for "+("<b>"+(a+"</b>")));var c={type:this.S==2?Jp:Ip,value:B(this.ny)},e=i,f=_LH.foreignNickname;if(f){var g=new hg(window.location.toString());e={type:3,value:g.Ea("cuname"),display:f}}var h=new em;if(this.zU){var l={type:"owner_id",value:_authuser.name},m=[l,c,{type:Kp,value:"true"}];e&&m.push(e);h.Jg(4,Pp(m),"My Photos");
l={type:Lp};m=[l,c];e&&m.push(e);h.Jg(2,Pp(m),"Favorites")}var l={type:Mp},m=[l,{type:Op},c];e&&m.push(e);h.Jg(1,Pp(m),"Community photos");if(e){l={type:"owner_id",value:e.value};m=[l,c,e];h.Jg(3,Pp(m),e.display+"'s Gallery")}this.H(b);b.G(this.zg);if(h.wx.length>1&&this.S!=3){h.ie(this.kl);this.H(h);h.G(this.zg);F(h.f(),"gphoto-context-search-toggle")}this.VH()};o.XI=function(a,b,c){this.qd=a;this.db=b;this.bA=c;this.N&&this.VH()};
o.LX=function(){if(!(this.S==3||this.S==2&&this.ny=="")){var a=new hg(window.location.toString());a.oa("orderby","date");var b=new hg(window.location.toString());b.oa("orderby","relevance");var c=new em("Sort\u00a0by:");c.Jg(1,b.toString(),"Relevance");c.Jg(0,a.toString(),"Date");c.ie(this.Or);c.G(this.Pj)}};
o.VH=function(){if(this.db&&this.bA&&la(this.qd)){sc(this.Pj);var a=Rp(1,this.qd+1),b=Rp(1,this.bA),c=Rp(1,Math.min(this.qd+this.db,Math.min(this.bA,1000))),e=I("div");e.innerHTML=a+(" &ndash; "+(c+(" of "+b)));K(this.Pj,e);this.LX()}else sc(this.Pj)};var Tp=function(a,b){O.call(this,"coverchange");this.R1=a;this.i3=b};t(Tp,O);var Up=function(){Xg.call(this,i,j);ji(this.Rv(),I("h1",i,"Map your photos"));this.ub('<div style="width:50em">We\'ve noticed that some photos in this album have location information. You currently do not display this EXIF location data. Would you like to change your default setting to display this location information? (Note: you can change this setting in the future by going to the Settings page)</div>');this.he(ah);this.Td=Q(this,$g,this.Hi,d,this);this.P(j)};t(Up,Xg);o=Up.prototype;o.fj=d;
o.o=function(){if(!this.pb()){Up.b.o.call(this);this.Td&&ge(this.Td)}};o.P=function(a){this.fj||Up.b.P.call(this,a)};o.Hi=function(a){if(a.Da=="yes"){this.fj=j;this.ht("EXIF_DIALOG",String(d));this.ht("EXIF_GEO",String(j),r(this.M_,this))}else if(a.Da=="no"){this.ht("EXIF_GEO",String(d));this.ht("EXIF_DIALOG",String(d),r(this.ET,this))}};o.ht=function(a,b,c){var e=["pref="+a,"value="+b].join("&");eg(_setPrefUrl,c,"POST",e)};o.ET=function(a){a.target.Bk()||alert(xd)};
o.M_=function(a){this.fj=d;a.target.Bk()?window.location.reload():alert(xd)};var Yp=function(a,b,c){Vp(j,a);if(b)Wp=ye(r(Xp,i,c),b)},Xp=function(a){Zp();a&&a()},Zp=function(a){Vp(d,a?"":i)},Vp=function(a,b){$p();var c=H("lhid_feedback"),e=H("lhid_notifyMsg");if(c&&e){W(c,a);b&&N(e,b)}},$p=function(){if(Wp!=0){ze(Wp);Wp=0}},Wp=0;var aq=function(a,b,c){lm.call(this,c);this.i=new T(this);this.mt=new T(this);this.cd=a;this.av=b};t(aq,lm);o=aq.prototype;o.cr=d;o.Zr=j;o.B=function(a){if(a.type=="Album"&&(!this.g||a.F()!=this.g.F())){aq.b.B.call(this,a);this.Yo=a.jQ();this.Zr=j;this.bs(d)}};o.xQ=function(){return this.Yo.si.length==0?0:this.cr?2:1};o.o=function(){if(!this.pb()){aq.b.o.call(this);this.i.o();this.mt.o()}};o.r=function(){aq.b.r.call(this);this.ea(this.j)};
o.ea=function(a){aq.b.ea.call(this,a);this.Ne("lhid_sharedWith","Shared with");var b=this.oq("lhid_sharedWith");this.XC=I("div",{},"You haven't shared this with anyone");this.Np=I("div");this.Mp=I("div");this.Op=I("div",{"class":"lhcl_accessclick"});this.XF=I("a");K(b.$a,this.XC);K(b.$a,this.Np);K(b.$a,this.Mp);K(b.$a,this.Op);K(this.Op,this.XF);this.zs=new Rg("Share",Aj.wa());this.zs.pj("Share with more people");this.zs.wc("gphoto-button");this.H(this.zs,j)};
o.A=function(){aq.b.A.call(this);this.i.e(this.zs,Y,this.hw);this.i.e(this.Op,R,r(this.bs,this,j));this.bs(d)};o.K=function(){aq.b.K.call(this);this.i.Y();this.mt.Y()};
o.bs=function(a){if(!!this.g){if(a)this.cr=!this.cr;var b=this.xQ(),c=this.Yo.si;W(this.XC,b==0);W(this.Np,b!=0);W(this.Mp,b==2);W(this.Op,c.length>5);N(this.XF,b==1?"Show all":"Show fewer");if(!(b==0||!this.Zr)){this.mt.Y();this.Np.innerHTML="";this.Mp.innerHTML="";var e=c.length>5?5:c.length,f=0;for(;f<e;f++)this.RH(this.Np,c[f]);if(b==2){var f=5;for(;f<c.length;f++)this.RH(this.Mp,c[f]);this.Zr=d}}}};
o.RH=function(a,b){var c=b.Fi(),e=b.Cb(),f;f=c?I("a",{href:"http://"+window.location.host+"/"+c},e):e;var g=I("div",{"class":"lhcl_accessrow"}),h=I("div",{"class":"lhcl_accessname",title:b.ye()},f);K(a,g);K(g,h);if(this.g.Se==wd){var l=I("div",{"class":"lhcl_accessxbox"}),m=Xe("SPRITE_xbox");K(g,l);K(l,m);this.mt.e(m,P,r(this.xX,this,b,g))}};o.hw=function(){window.location="/lh/emailAlbum?uname="+this.cd+"&aid="+this.g.F()};
o.bX=function(a,b,c){if(Xj(c))Yp(xd,5000);else{this.Yo.yX(a.ye());if(this.Yo.si.length<=5)this.cr=d;this.Zr=j;this.bs(d)}};o.xX=function(a,b){var c=a.mq()=="invite"?"inviteemails=":"emails=",e=["opt=remove","target=ALBUM","uname="+B(this.cd),"id="+B(this.g.F()),c+B(a.ye())];eg(this.av,r(this.bX,this,a,b),"POST",e.join("&"))};var bq=function(a,b,c,e){ik.call(this,b,c);this.i=new T(this);this.th=a;this.Fr=d;this.nF="1em";this.Gw=".666875em";if(e&&e!=Kl){var f=e.yv()||1;if(f<1){this.nF=f+"em";this.Gw="1em"}else this.Gw=1/f+"em"}};t(bq,ik);var cq=0;bq.prototype.M=md("gphoto.BasicEntityIcon");var dq=3;bq.prototype.Yp=-1;var eq={nn:-2,jV:12,DW:0,EW:0,Vo:1.1,CT:1};o=bq.prototype;o.width=hl[dq]*eq.Vo+eq.nn;o.II=function(a){cq=a};o.C=function(){this.i.o()};o.Ph=function(a){var b=dq!=a;dq=a;this.width=hl[dq]*eq.Vo+eq.nn;return b};
o.r=function(){bq.b.r.call(this);var a=this.f();F(a,"goog-inline-block "+this.Pg);a.innerHTML=qi('<div class="{containerClass}"><a class="goog-icon-list-icon-link" href="javascript:void 0" onclick="return false"><img class="goog-icon-list-icon-img" width="{width}" height="{height}"></a><div class="{metaClass}"></div></div>',{width:this.nF,height:this.Gw,containerClass:this.Pg+"-img-div",metaClass:this.Pg+"-meta"});var b=a.firstChild;this.de=b.firstChild;this.L=this.de.firstChild;this.qg=b.lastChild};
o.A=function(){bq.b.A.call(this);this.i.e(this.L,R,this.TC);this.i.e(this.L,R,this.SO);this.i.e(this.L,qe,this.qh);this.g&&this.na()};o.K=function(){this.j&&ee(this.j,R,this.TC,d,this);bq.b.K.call(this);this.i.Y()};o.qh=function(){this.i.ca(this.L,qe,this.qh);this.dispatchEvent(qe)};o.DI=function(a){this.Yp=a};o.QZ=function(a){var b=this.Fr!=a;this.Fr=a;b&&this.na()};o.clear=function(){if(this.L){this.hu();this.L.src=Ie}this.de.href="javascript:void 0";this.eC()};
o.B=function(a){if(a==Kl)a=i;if(this.g!=a)this.g=a;this.na()};
o.na=function(){if(!(!this.N||!this.g||!this.L)){this.de.href=window.location.href.replace(/(#.*)?$/,"#")+this.g.F();var a=d,b,c;if(this.Fr){if(this.L.src!=Ie)a=j}else{b=Ue(this.g.Eg,"");var e=hl[dq],f=1,g=1,h=this.g.yv()||1;if(h>=1)g=1/h;else f=h;var l=new y(e*f,e*g);if(b){a=j;c=b}else{b=Le(this.g.s);c=Me(b,l,d);a=this.L.src!=c}}if(a)if(this.Fr){this.L.src=Ie;this.cI(f,g)}else{this.hu();this.cI(f,g);if(this.g.Eg&&this.g.Eg!="final")l=0;var m=new y(this.g.w,this.g.h);if(this.Yp>=cq)this.zw=wm(b,m,
l,d,i,i,this.L);else this.L.src=c}this.pA()}};o.cI=function(a,b){L(this.L);wf(this.de,a+"em",b+"em");wf(this.L,a+"em",b+"em");K(this.de,this.L)};o.hu=function(){if(this.zw){vm().Qc(this.zw);this.zw=0}};o.pA=function(){};o.eC=function(){};o.show=function(a){this.j&&W(this.j,a)};var fq=function(a,b,c,e){bq.call(this,a,b,c,e)};t(fq,bq);fq.prototype.r=function(){fq.b.r.call(this);var a=this.f();_features.topalignalbumicons&&V(a,"vertical-align","top")};fq.prototype.pA=function(){var a=this.g?this.g.c:"";if(Jc(this.qg)!=a){this.iF&&ge(this.iF);this.hF&&ge(this.hF);if(!a||lb(a))N(this.qg,"");else{this.qg.innerHTML=Uj(a);this.iF=Q(this.L,Md,this.uP,d,this);this.hF=Q(this.L,Nd,function(){W(this.th.Mo,d)},d,this)}}};
fq.prototype.uP=function(){var a=new w(this.j.offsetLeft,this.j.offsetTop),b=new w(this.qg.offsetLeft,this.qg.offsetTop),c=this.th.Mo;wf(c,this.width,"auto");kf(c,a.x,a.y+b.y);c.innerHTML=this.qg.innerHTML;W(c,j)};var gq=function(a,b,c,e,f,g,h,l,m,n,q){lm.call(this,q);this.Pd=a;this.qB=b;this.Ij=c;this.Ur=e;this.ep=f;this.bm=g.replace(/\/s\d{2,3}(-c)?\//,"/s160-c/");this.vM=Bb(h);this.VX=l;this.Ha=m;this.bj=n;this.k=new T(this)};t(gq,lm);o=gq.prototype;
o.A=function(){gq.b.A.call(this);var a=H("lhid_albumLinksDirectUrl");if(a){var b=new hg(this.qB);b.oa("feat","directlink");a.value=b.toString();this.k.e(a,oe,function(){a.value=b.toString()})}var c=H("lhid_albumLinksEmbedUrl");if(c){var e=new hg(this.qB);e.oa("feat",td);var f=bi(hq,{albumLink:e.toString(),albumCoverSrc:this.bm,albumTitle:this.Ij});c.value=f;this.k.e(c,oe,function(){c.value=f})}var g=H("lhid_albumLinksResetLink");g&&this.k.e(g,P,this.aT);var h=H("lhid_albumLinksEmbedSlideshow");h&&
this.k.e(h,P,this.gT)};o.K=function(){gq.b.K.call(this);this.k&&this.k.Y()};o.C=function(){gq.b.C.call(this);this.en&&this.en.o()};
o.IN=function(){var a=J("DIV");a.innerHTML=bi('<img class="SPRITE_link lhcl_spriting_alignMiddle lhcl_spriting_marginRight5" src="img/transparent.gif"/><span class="lhcl_fakelink">{linkToAlbumLabel}</span><img class="gphoto-zippy-icon" src="img/transparent.gif"/>',{linkToAlbumLabel:"Link to this album"});var b=this.yU()?bi('<div id="lhid_albumLinksResetLink" class="lhcl_fakelink lhcl_resetunlistedlink" title="{resetToolTip}">{resetLinkCaption}<form id="lh_rul_form" method="post" action="{resetLinkAction}"><input type="hidden" name="aid" value="{albumId}"/><input type="hidden" name="uname" value="{userName}"/></form></div>',{resetLinkCaption:"Reset unlisted link",
resetToolTip:"This will remove access for everyone who has the current unlisted link and will create a new unlisted link to this album.",resetLinkAction:this.VX,albumId:this.Pd,userName:this.bj}):"",c=J("div");c.innerHTML=bi('<div class="gphoto-sidebar-subitem gphoto-sidebar-links"><div>{directLinkCaption}</div><input id="lhid_albumLinksDirectUrl" class="gphoto-sidebar-inputbox" type="text"/>{resetDiv}<div>{embedLinkCaption}</div><input id="lhid_albumLinksEmbedUrl" class="gphoto-sidebar-inputbox" type="text"/><div id="lhid_albumLinksEmbedSlideshow" class="lhcl_fakelink"><img class="SPRITE_embed lhcl_spriting_alignBottom lhcl_spriting_marginRight5" src="img/transparent.gif"/>Embed Slideshow</div></div>',
{directLinkCaption:"Paste link in email or IM",embedLinkCaption:"Paste HTML to embed in website",resetDiv:b});this.en=new el(a,c);K(this.j,a);K(this.j,c)};o.bO=function(){var a=J("DIV");a.innerHTML=bi('<a href="{albumRssUrl}"><img class="SPRITE_rss lhcl_spriting_alignBottom lhcl_spriting_marginRight5" src="img/transparent.gif"/>RSS</a>',{albumRssUrl:this.vM,rssLinkCaption:"RSS"});K(this.j,a)};o.r=function(){gq.b.r.call(this);this.ea(this.j)};
o.ea=function(a){gq.b.ea.call(this,a);this.BU()&&this.IN();this.bO()};o.aT=function(){var a=H("lh_rul_form");a&&confirm("Are you sure you want to reset the unlisted link to this album? This will remove access for everyone who has the current unlisted link.")&&a.submit()};o.gT=function(){new iq};o.BU=function(){return this.Ha&&this.ep!=wd&&this.Ur>0};o.yU=function(){return this.ep==vd};o.show=function(a){this.j&&W(this.j,a)};
var hq='<table style="width:194px;"><tr><td align="center" style="height:194px;background:url(http://'+window.location.host+U.Ls()+'transparent_album_background.gif) no-repeat left"><a href="{albumLink}"><img src="{albumCoverSrc}" width="160" height="160" style="margin:1px 0 0 4px;"></a></td></tr><tr><td style="text-align:center;font-family:arial,sans-serif;font-size:11px"><a href="{albumLink}" style="color:#4D4D4D;font-weight:bold;text-decoration:none;">{albumTitle}</a></td></tr></table>';var jq=function(a){switch(a){case ud:return{icon_class:"SPRITE_lock-public",text:Gd};case vd:return{icon_class:"SPRITE_lock-private",text:Fd};case wd:return{icon_class:"SPRITE_lock-protected",text:jh}}},kq=function(a){return bi('<img class="{icon_class} lhcl_accessIcon" src="img/transparent.gif" />{text}',jq(a))};var lq=function(a,b){lm.call(this,b);this.kl=a};t(lq,lm);lq.prototype.show=function(a){W(this.j,a)};lq.prototype.DY=function(a,b,c){if(this.N){var e=c==ud,f=this.kl==1;a=a||"";b=b||"";var g=hp('<span class="lhcl_title">',"</span>",'<a href="'+b+'">'+Uj(C(a))+"</a>");if(c&&!(e&&f))g+="<br/>"+kq(c);this.j.innerHTML=g}};lq.prototype.B=function(a){lq.b.B.call(this,a);a&&this.DY(a.hb().title,a.hb().link,a.hb().Se)};lq.prototype.r=function(){lq.b.r.call(this);this.j=I("div",{"class":"lhcl_toolbox"})};function iq(){vj.Wh(this);this.dc=J("div");this.dc.className="lhcl_cover";document.body.appendChild(this.dc);this.Rl();this.bo=r(this.Rl,this);gi(window,"resize",this.bo);window.scrollTo(0,0);wi("hideVideo");$h(this,Yh);this.u={close:$("func"),change:$("func"),changeCode:$("func")};ui(this.u.close,r(this.Nf,this));ui(this.u.change,r(this.xt,this));ui(this.u.changeCode,r(this.xt,this));this.nb=ri('<div id="lhid_slideshow" class="lhcl_dialog"><div class="lhcl_dialog_body"><h1>Create a portable slideshow for your website, blog, Myspace, etc.</h1><table><tr><td style="vertical-align:top"><form id="lhid_slideshow_options"><h2>Slideshow options</h2><div>Select slideshow size:</div><select name="size" onchange="_d(\'{changeCode}\')"><option value="144">Small 144px</option><option value="288" selected>Medium 288px</option><option value="400">Large 400px</option><option value="600">Extra large 600px</option><option value="800">Extra-extra large 800px</option></select><br /><input type="checkbox" name="captions" onclick="_d(\'{change}\')"/>Show captions<input type="checkbox" name="autoplay" checked onclick="_d(\'{change}\')"/>Autoplay<br /><input type="checkbox" name="html" onclick="_d(\'{change}\')"/>HTML Links (for MySpace)<hr><h2>Embed slideshow</h2><div class="lhcl_copy">Copy and paste this into your website:</div><textarea name="code" id="lhid_html" onclick="this.select()" rows="4"></textarea></form></td><td><span class="lhcl_frameblock" style="display:block;"><div class="lhcl_small">Slideshow preview</div><div id="lhid_widget_preview"></div></span><div class="lhcl_small"><a href="http://picasa.google.com/support/bin/answer.py?answer=66969" target="_blank">Need help putting this slideshow on your website?</a></div></td></tr></table></div><div class="lhcl_buttons"><input type="button" onclick="_d(\'{close}\')" value="Done" class="lhcl_default" id="{submit_id}" /></div></div>',
this.u);document.body.insertBefore(this.nb,document.body.firstChild);this.nY=document.title;this.xt();this.pe=_authuser;this.pa=_album;if(!Qk)H("lhid_widget_preview").innerHTML='<div class="lhcl_output" style="height:192px"><span>You need Adobe\u00ae Flash\u00ae Player 8 or higher to play slideshows.</span><br /><br /><a target="_blank" href="http://www.macromedia.com/go/getflashplayer">Download Flash</a></div>'}
iq.prototype.jc=function(){this.M();vj.Yh(this);hi(window,"resize",this.bo);vi(this.u.close);vi(this.u.change);vi(this.u.changeCode);for(var a in this)this[a]=i};iq.prototype.Nf=function(){this.nb&&L(this.nb);this.dc&&L(this.dc);$h(this,Zh);document.title=this.nY;this.jc()};iq.prototype.Rl=function(){var a=Math.max(document.body.offsetHeight,document.body.scrollHeight);a=Math.max(a,document.body.clientHeight);a=Math.max(a,document.documentElement.clientHeight);this.dc.style.height=a+"px"};
var oq=function(a,b,c,e){var f="host="+window.location.hostname;f+=window.location.port?"&port="+window.location.port:"";f+=a.captions.checked?"&captions=1":"";f+=a.autoplay.checked?"":"&noautoplay=1";var g=og("http",undefined,window.location.hostname,window.location.port,"/lh/getEmbed"),h={flash_src:_flashPath+"/slideshow.swf",width:e,height:Math.round(e*2/3),font:e<=144?10:13,url:b,vars:f,album_url:c,embed_url:g.toString()};return qi(a.html.checked?mq:nq,h)};
iq.prototype.xt=function(){var a=H("lhid_slideshow_options");this.nN=a.captions.checked;this.V1=a.autoplay.checked;this.q2=a.html.checked;this.m1=a.size.value;var b=B(_album.photosRss);H("lhid_html").value=oq(a,b,_album.link,a.size.value);H("lhid_widget_preview").innerHTML=oq(a,b,_album.link,288)};iq.prototype.M=function(){var a={width:this.m1};if(this.nN)a.captions=1;Vo().log(116,a)};
var nq='<embed type="application/x-shockwave-flash" src="{flash_src}" width="{width}" height="{height}" flashvars="{vars}&RGB=0x000000&feed={url}" pluginspage="http://www.macromedia.com/go/getflashplayer"></embed>',mq='<div style="width:{width}px;font-family:arial,sans-serif;font-size:{font}px;"><div>'+nq+'</div><span style="float:left;"><a href="{album_url}" style="color:#3964c2">View Album</a></span><div style="text-align:right;"><a href="{embed_url}" style="color:#3964c2">Get your own</a></div></div>';var pq=function(a,b,c,e,f,g){X.call(this);this.g=a||"";this.Gb=b||100;this.yM=c||"";this.lP=e||"UTF-8";this.im=f;this.QE=g};t(pq,X);o=pq.prototype;o.LB=function(a){return(new hg("http://chart.apis.google.com/chart")).oa("cht","qr").oa("choe",this.lP).oa("chs",this.Gb+"x"+this.Gb).oa("chl",a).toString()};
o.yC=function(){var a=this.LB(this.g);this.Xr=I("img",{src:a,alt:this.yM,height:this.Gb,width:this.Gb});if(this.QE){var b=I("a",{href:this.QE,style:"display:block"});K(b,this.Xr);K(this.f(),b)}else K(this.f(),this.Xr)};o.r=function(){this.ea(I("div"))};o.ea=function(a){this.Zb(a);if(this.im)this.f().className=this.im.join(" ");this.g&&this.yC()};o.B=function(a){pq.b.B.call(this,a);if(this.N)if(this.Xr)this.Xr.src=this.LB(this.g);else this.yC()};
var qq=function(){return _features.QRCODE&&(_LH.locale=="ja"||ib(window.location.hostname,".co.jp"))};var tq=function(a,b,c,e,f){lm.call(this,f);this.im=e;if(a)a=rq(a);this.Nd=new pq(a,undefined,b,"",sq,c)};t(tq,lm);tq.prototype.r=function(){tq.b.r.call(this);this.ea(this.f())};tq.prototype.ea=function(a){tq.b.ea.call(this,a);a=this.f();if(this.im)a.className=this.im.join(" ");K(a,Xe(uq.join(" ")));this.H(this.Nd,j)};tq.prototype.B=function(a){tq.b.B.call(this,a);this.Nd.B(rq(a.ih()))};var rq=function(a){var b=new hg(a);b.SZ("source","qrcode");return b.toString()};
var sq=["goog-inline-block","lhcl_qrcodediv"],uq=["SPRITE_mobile","lhcl_mobile_icon"],vq=new hg("http://www.google.com/support/mobile/bin/answer.py?answer=118692");var wq=function(a,b,c,e,f,g,h,l,m,n,q,u,x){lm.call(this);this.bm=a;this.Ur=b;this.Pd=c;this.a0=e;this.ep=f;this.w2=f==ud;this.IB=g;this.tM=q;this.kn=m;this.R=n;this.Ij=u;this.Ye=x;this.k=new T(this)};t(wq,lm);o=wq.prototype;o.K=function(){wq.b.K.call(this);this.k&&this.k.Y()};o.show=function(a){this.j&&this.Pd&&W(this.j,a)};o.Wy=function(a){this.bm=a;if(this.N)this.Ca.src=this.bm};
o.r=function(){wq.b.r.call(this);var a={"class":"lhcl_toolbox"};if(!_album||!this.Pd)a.style="display: none;";else a.id="lhid_albumprop";this.j=I("div",a);this.JN();this.LN();qq()&&this.Ur>0&&this.aO()};o.A=function(){wq.b.A.call(this);this.Ye&&this.k.e(this.Ca,P,this.Ye)};
o.JN=function(){var a=I("table",{"class":"gphoto-sidebar-subitem"}),b=J("tbody"),c=J("tr"),e=I("td",{"class":"gphoto-sidebar-albumcover"});this.Ca=I("img",{src:this.bm,width:"64",height:"64",style:this.Ye?"cursor: pointer;":""});var f=I("td",{width:"100%",valign:"top",align:"left","class":"gphoto-sidebar-albuminfo"}),g=this.kn?ki(this.kn)+"<br />":"",h=kq(this.ep);f.innerHTML=this.R+"<br />"+g+C("photos: "+this.Ur)+" &ndash; "+this.a0+"<br/>"+h;K(e,this.Ca);K(c,e);K(c,f);K(b,c);K(a,b);K(this.j,a);
var l=I("div",{"class":"gphoto-sidebar-subitem gphoto-sidebar-albumdesc"});l.innerHTML=this.tM;K(this.j,l)};o.LN=function(){if(this.IB){var a=I("div",{"class":"gphoto-sidebar-subitem"}),b=I("img",{src:"img/blogo16.gif",width:"16px",height:"16px","class":"lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"}),c=I("a",{href:this.IB},"View Blog");K(a,b);K(a,c);K(this.j,a)}};
o.aO=function(){var a=window.location.href.split("#")[0],b=vq.oa("hl",Dh()).toString();this.Nd=new tq(a,"Visit this album from your mobile.",b);this.H(this.Nd,j);this.Nd.show(j)};var yq=function(a,b,c,e){S.call(this);if(a&&!b)k(Error("Can't use invisible history without providing a blank page."));var f;if(c)f=c;else{var g="history_state"+xq;document.write(jb('<input type="text" name="%s" id="%s" style="display:none" />',g,g));f=H(g)}this.Ki=f;this.Ob=c?rc(jc(c)):window;this.ci=this.Ob.location.href.split("#")[0]+"#";this.Kq=b;if(D&&!b)this.Kq=window.location.protocol=="https"?"https:///":'javascript:""';this.Wa=new xe(150);this.Ll=!a;this.k=new T(this);if(a||D){var h;if(e)h=
e;else{var l="history_iframe"+xq,m=this.Kq?'src="'+C(this.Kq)+'"':"";document.write(jb('<iframe id="%s" style="display:none" %s></iframe>',l,m));h=H(l)}this.Lq=h;this.SJ=j}if(D){this.k.e(this.Ob,qe,this.lW);this.iJ=this.Yu=d}this.Ll?this.Vy(this.ph(),j):this.sl(this.Ki.value);xq++};t(yq,S);o=yq.prototype;o.Kb=d;o.rr=d;o.Gk=i;o.Kk=i;o.C=function(){yq.b.C.call(this);this.k.o();this.Va(d)};
o.Va=function(a){if(!(a==this.Kb))if(D&&!this.Yu)this.iJ=a;else if(a){if(Tb)this.k.e(this.Ob.document,zq,this.wW);else E&&this.k.e(this.Ob,"pageshow",this.Kn);if(!D||this.Yu){this.k.e(this.Wa,"tick",this.oH);this.Kb=j;if(!D)this.Gk=this.ph();this.Wa.start();this.dispatchEvent(new Aq(this.ph()))}}else{this.Kb=d;this.k.Y();this.Wa.stop()}};o.lW=function(){this.Yu=j;this.Ki.value&&this.sl(this.Ki.value,j);this.Va(this.iJ)};o.Kn=function(a){if(a.Dc.persisted){this.Va(d);this.Va(j)}};
o.ph=function(){return this.Kk!==i?this.Kk:this.Ll?this.Fv(this.Ob):this.Bv()||""};o.xg=function(a,b){this.oZ(a,d,b)};o.Fv=function(a){var b=a.location.href,c=b.indexOf("#");return c<0?"":b.substring(c+1)};o.oZ=function(a,b,c){if(this.ph()!=a)if(this.Ll){this.Vy(a,b);D&&this.sl(a,b,c);this.Kb&&this.oH()}else{this.sl(a,b);this.Kk=this.Gk=this.Ki.value=a;this.dispatchEvent(new Aq(a))}};o.Vy=function(a,b){var c=this.ci+(a||""),e=this.Ob.location;if(c!=e.href)if(b)e.replace(c);else e.href=c};
o.sl=function(a,b,c){if(!Bq&&(this.SJ||a!=this.Bv())){this.SJ=d;a=B(a);if(D){var e=Ac(this.Lq);e.open("text/html",b?"replace":undefined);e.write(jb("<title>%s</title><body>%s</body>",C(c||this.Ob.document.title),a));e.close()}else{var f=this.Kq+"#"+a,g=this.Lq.contentWindow;if(g)if(b)g.location.replace(f);else g.location.href=f}}};
o.Bv=function(){if(D){var a=Ac(this.Lq);return a.body?sb(a.body.innerHTML):i}else if(Bq)return i;else{var b=this.Lq.contentWindow;if(b){var c;try{c=sb(this.Fv(b))}catch(e){this.rr||this.MI(j);return i}this.rr&&this.MI(d);return c||i}else return i}};o.oH=function(){if(this.Ll){var a=this.Fv(this.Ob);a!=this.Gk&&this.Dg(a)}if(!this.Ll||D){var b=this.Bv()||"";if(this.Kk==i||b==this.Kk){this.Kk=i;b!=this.Gk&&this.Dg(b)}}};
o.Dg=function(a){this.Gk=this.Ki.value=a;if(this.Ll){D&&this.sl(a);this.Vy(a)}else this.sl(a);this.dispatchEvent(new Aq(this.ph()))};o.MI=function(a){if(this.rr!=a)this.Wa.setInterval(a?10000:150);this.rr=a};o.wW=function(){this.Wa.stop();this.Wa.start()};var Bq=Vb&&Hb($b,"419")<=0,zq=[R,me,le],xq=0,Aq=function(a){O.call(this,"navigate");this.Hl=a};t(Aq,O);var Cq="featured",Dq=function(a){return a=="s"||a=="ct"||a=="ft"||a=="pgt"||a=="gt"||a=="at"||a=="f"||a==Cq};var Eq=function(a){return a=="pgp"||a=="gp"||a=="ap"};var Fq=function(a,b,c,e){S.call(this);this.CM=a;this.ia=b;this.ui=c||"";this.Vr=e;this.hH(window.location)};t(Fq,S);o=Fq.prototype;o.isOwner=d;o.zC=d;o.AC=i;o.et=function(){var a=window.location.hash;if(!(this.AC==a)){this.AC=a;this.hH(window.location);this.dispatchEvent({type:"changed",Y1:a})}};
o.hH=function(a){var b=new hg(a);delete this.Yb;delete this.Dh;this.cd=String(b.Ea("uname")||this.CM.yd);if(b.Ea("q")!=undefined){this.Yb="s";this.Dh="Search results"}this.zC=b.Ea("filter")=="1";this.uj=b.Ea("tags")||"";this.lo=b.Ea("q");this.Or=b.Ea("orderby")||"";this.db=Number(b.Ea("pagesize"));this.Ip=!!b.Ea("debug");if(ba(this.lo)){this.kj=b.Ea("psc");if(this.kj==undefined)this.kj=_authuser.isOwner?"S":_user.name?"F":Mp.value}if(this.Ps(b,Lp)){if(this.uj){this.Yb="ft";this.Dh=Gq}}else if(this.Ps(b,
Mp)){if(this.uj){this.Yb="ct";this.Dh=Gq}}else{this.isOwner=this.Ps(b,Kp)&&_authuser.isOwner;this.lb=String(b.Ea("aid")||"");this.uz=String(b.Ea("subjectids")||"");String(b.Ea("ahid")||"");if(this.uj){this.Yb=this.lb?"at":this.isOwner?"gt":"pgt";this.Dh=Gq}else if(this.uz){this.Yb=this.lb?"ap":this.isOwner?"gp":"pgp";this.Dh="People results"}else if(!ba(this.lo))if(hb(b.sd.toLowerCase(),"/lh/album/a")||_album.name&&yb(b.sd.toLowerCase(),_album.name.toLowerCase())){this.lb=_album.id;this.cd=_user.name;
this.isOwner=_authuser.isOwner;this.Yb="a";this.Dh=_user.nickname+" - "+_album.title}else if(this.Ps(b,Np)){this.Yb=Cq;this.Dh="Featured photos"}}var c=b.bh;if(c&&c.length>0)this.wu=i;else{var e=b.Ea("optgt"),f=Fp;if(e=="TAGS")f=Gp;else if(!this.lb&&!this.uj)f=Ep;this.wu=f}this.xP=b.Ea("feat");this.E2=Number(b.Ea("maximgsize"));this.ga=!(b.Ea("scaledimg")=="false")};o.Ps=function(a,b){return a.Ea(b.name)==b.value};o.Yd=function(){return this.Yb};o.Oh=function(a){this.T=a};
o.Ta=function(){if(!this.T){if(this.Yb=="a")this.T=this.ia.lQ(this.ui,this.cd,_album);else if(this.Yb==Cq){var a=this.ia.nq(undefined,undefined,undefined,undefined,this.ui);this.T=new Jl(this.ia,a,undefined,100)}else if(ba(this.lo)){var a=this.ia.nq(this.cd,this.lo,this.kj,this.zC,this.ui);this.T=new Jl(this.ia,a)}else if(this.uj){var a=this.ia.nq(undefined,undefined,undefined,undefined,this.ui);this.T=new Jl(this.ia,a)}else{this.T=this.ia.eR(this.ui);this.T.vl(1000)}this.Vr&&this.T.uH(0,this.Vr,
j)}return this.T};o.Fd=function(){var a=i;if(!this.wu){var b=window.location.hash.match(/#(\d+)/);if(b&&b.length==2){var c,e;if(this.Yb!="s"){c=this.cd;e=this.lb}a=this.ia.cR(b[1],c,e)}}return a};o.Fi=function(){return this.cd};o.pd=function(){return this.ia.Hc(this.cd,"")};o.iq=function(){return!!this.isOwner};o.JE=function(){return!!this.lb};o.gg=function(){return this.lb};o.lh=function(){return this.lo||this.uj||""};o.lE=function(){return this.uz||""};
o.mR=function(){if(this.Yb==Cq)return 3;return this.uz?0:this.uj?1:2};o.mq=function(){if(this.kj)if(this.kj==Lp.value)return 2;else if(this.kj=="F")return 3;else{if(this.kj=="S")return 4}else if(this.Yb=="at")return 0;else if(this.Yb=="ft")return 2;else if(this.Yb=="gt")return 4;else if(this.Yb=="pgt")return 3;return 1};o.ZQ=function(){if(this.Or=="relevance")return 1;if(this.Or=="date")return 0;return 1};o.Be=function(){return this.Dh};var Gq="Tag results";
Fq.prototype.CQ=function(){return this.xP||i};var Hq=function(a){X.call(this);this.J=a;this.i=new T(this)};t(Hq,X);o=Hq.prototype;o.o=function(){if(!this.pb()){Hq.b.o.call(this);this.i.o()}};o.ab=function(){return"gphoto.VirtualPage"};o.Cd=function(){return this.J};o.Be=function(){return""};o.K=function(){Hq.b.K.call(this);this.i.Y()};o.na=function(){};var Iq=function(a,b,c,e,f,g,h){var l=s();this.yd=a;this.oC=f;this.k=new T(this);this.ia=new bm;if(this.pe=a?this.ia.Hc(a,b):i){this.pe.Tp=c;if(e)this.pe.og=e}var m;if(g){this.ui=g.feedUrl||"";this.Vr=g.feedPreload||i;this.ma=g.subjects||[];this.ed=g.albums||[];this.T1=g.albumStats||[];this.av=g.editAcl||"";this.fP=g.editCollection||"";if(g.owner){var n=g.owner;m=n.name;this.ia.Hc(m,n.nickname)}}if(m&&h){this.Ab=this.ia.hb(m,h.id,h.title,h.name);this.Ab.AZ(h.link);this.Ab.xZ(h.kmlLink);this.Ab.FZ(h.mapLink);
this.Ab.r_(h.uploadlink);this.Ab.yZ(h.largepreview);this.Ab.Jy(h.access);this.Ab.prints=h.prints;this.Ab.picasa=h.picasa;this.Ab.blogger=h.blogger;this.Ab.isdefault=h.isdefault;this.Ab.photoCount=h.photoCount;this.Ab.photosRss=h.photosRss}this.Ba=new Fq(this,this.ia,this.ui,this.Vr);this.Um=new yq;this.VC=[];this.Q=new xm(0,24);this.Q.mj(0);this.k.e(this.Um,"navigate",this.Cx);this.Gr=g.objectionEmail;this.M.U("Created: "+(s()-l)+"ms.")};t(Iq,S);o=Iq.prototype;o.C=function(){Iq.b.C.call(this);this.k.o()};
o.JC=i;o.M=md("gphoto.AppContext");o.wX=function(a,b){this.VC.push(new Jq(a,b))};o.ZY=function(a){this.JC=new Jq(a,i)};o.start=function(){this.M.U("Starting app");this.Um.Va(j);this.Hu=this.Um.ph();this.Cx(new Aq(this.Hu))};o.xg=function(a){this.Um.xg(a)};o.ph=function(){return this.Um.ph()};o.fq=function(){if(!this.pe&&this.yd)this.pe=this.ia.Hc(this.yd,"");return this.pe};o.qQ=function(){return _features.PWA_NEWUI?"Picasa Web Albums":"Google Photos"};o.Sa=function(){return this.oC};
o.vF=function(){var a=window.location.toString().replace(/#.*$/,"");Yp("The requested photo is invalid or unavailable. You will be redirected momentarily.",1000,function(){window.location.replace(a)})};
o.Cx=function(a){this.M.U("Nav to #"+a.Hl);var b=this.Hu!=a.Hl;this.Hu=a.Hl;var c=Ca(this.VC,function(e){return e.test(a.Hl)});if(!c)c=this.JC;if(this.eH&&this.li&&this.eH==c.BA)b&&this.li.na(a.Hl);else{this.li&&this.li.o();this.li=new c.BA(this);this.li.G(this.oC);this.li.na(a.Hl)}document.title=Bb(this.li.Be());this.eH=c.BA};var Jq=function(a,b){this.BA=a;this.DH=b};Jq.prototype.test=function(a){return!!this.DH&&this.DH.test(a)};var Kq=function(a){Hq.call(this,a)};t(Kq,Hq);o=Kq.prototype;o.ab=function(){return"gphoto.BasePage"};o.Ta=function(){return this.J.Ba.Ta()};o.A=function(){Kq.b.A.call(this);var a=this.Ta();if(a){this.wE();this.i.e(a,Fl,this.wE)}};o.wE=function(){var a=this.Ta();if(a){var b=a.Ud();this.Cd().Q.rs(b)}};o.M=function(a){if(!this.Oa)this.Oa=md("gphoto.BasePage");this.Oa.U(a)};var Lq=function(a,b){var c=s();b.Mi=b.Mi||bq;gm.call(this,b.Mi,b.MU,b.fF);if(!this.Wc||!this.Wc.prototype.Ph)this.GI(bq);this.Wc.prototype.II&&this.Wc.prototype.II(b.gF);this.ta=b;this.Q=a;this.k=new T(this);this.bI=new Of(this.Uh,100,this);this.T0=new Of(this.U0,10,this);this.Wx=b.Mk&&b.Mk!=-1;this.c_(1);this.kP(b.EU);this.t2=this.ta.cm.Ba.Yd()=="a";this.M.U("Created: "+(s()-c)+"ms.");this.rc={loaded:0,Am:0,Xz:[],Ss:i}};t(Lq,gm);o=Lq.prototype;o.zD=j;o.$g=0;o.vw=3;o.M=md("gphoto.BasicFeedList");
o.ra=j;o.lI=0;o.show=function(a){if(this.ra!=a){this.M.U("Show list: "+a);if(this.ra=a){W(this.j,j);window.scrollTo(0,this.lI)}else{this.lI=qc().y;W(this.j,d)}this.mC(a);if(a)if(this.zD){this.zD=d;this.ZH()}else this.Uh();else{this.Mo&&W(this.Mo,d);this.TB()}if(a&&this.rc)if(this.rc.loaded>=this.rc.Am){this.Ev().stop();xk(qk)}else this.wJ(this.rc.Am)}};o.TB=function(){this.Wd(function(a){a.hu()})};o.Ka=function(){return this.ra};
o.mC=function(a){var b=s(),c=a?this.k.e:this.k.ca;c.call(this.k,this.V.V,re,this.Eb);this.Wx&&c.call(this.k,this.Q,zm,this.dw);this.M.U("connectEvents: "+(s()-b)+"ms.")};o.A=function(){gm.prototype.A.call(this);this.mC(this.Ka());this.k.e(this,qe,this.yS)};o.r=function(){Lq.b.r.call(this);this.jn=I("div",{style:"display:none;"});F(this.jn,"lhcl_list_loading_info");this.jn.innerHTML=gh;K(this.j,this.jn)};
o.Cu=function(){if(!this.nc){this.nc=I("div",{"class":this.jd+"-area "+this.jd+"-"+hl[3]});K(this.j,this.nc);var a=J("div");V(a,"clear","both");V(a,"font-size","0");K(this.j,a);this.Mo=I("div",{"class":this.jd+"-tooltip",style:"display: none;"});K(this.nc,this.Mo)}};o.K=function(){Lq.b.K.call(this);this.k.Y()};o.Eb=function(){this.bI.start()};
o.B=function(a){this.M.U("Model changed: "+a);var b=s();if(!a||a==this.g){this.Wi.Y();this.k.ca(this.g.Ta(),El,this.Uh);this.i.ca(this,hk,this.sq);this.i.ca(this,[Hf,Gf],this.uq)}else{if(this.g){this.g=a;this.Uh()}else{this.g=a;this.Cu();this.ra&&this.ZH();this.Wi.e(this.g,["remove","insert"],this.Uh);this.k.e(this.g.Ta(),El,this.Uh);this.i.e(this,hk,this.sq);this.i.e(this,[Hf,Gf],this.uq)}this.M.U("setModel, total time: "+(s()-b)+"ms.")}};
o.dE=function(){var a=this.lq();return Math.ceil(this.vx/a)*a};o.ZH=function(){W(this.jn,j);if(this.Wx){this.vx=this.ta.Mk;this.Q.vl(this.dE())}else{this.vx=1000;this.Q.vl(1000)}var a=this.Q.Qb,b=this.Q.Km(a),c=this.Q.db;this.$g=b;this.M.U("Request data: "+b+"-"+(b+c));this.Ju=s();this.g.gl(b,b+c,r(this.vO,this))};o.vO=function(){this.Ju=s()-this.Ju;this.M.U("Data loaded, time: "+this.Ju+"ms.");this.M.U("Create icon list.");W(this.jn,d);this.XN();this.BZ()};
o.XN=function(){var a=s(),b=this.Ev().xc("icon creation","js");b.start();this.BD(function(c){this.kf(c)||this.tm(c,this.nc,d)});b.stop();this.wJ(this.g.ja());this.M.U("Icon list created, time: "+(s()-a)+"ms.")};o.BZ=function(){var a=s();this.BD(function(b,c){var e=this.kf(b);if(e){e.DI(c);e.B(this.g.Xd(c))}});this.M.U("Icon list data set, time: "+(s()-a)+"ms.")};
o.BD=function(a){var b=this.Q.Qb;this.$g=this.Q.Km(b);var c=Math.min(this.Q.db,this.g.ja()),e=Math.max(this.$g+c,0),f=Math.max(e-this.$g,0),g=0;for(;g<f;g++)a.call(this,g,this.$g+g)};o.dw=function(){if(this.N&&this.g){this.pN();var a=this.Q.Qb;this.$g=this.Q.Km(a);this.Uh()}};o.pN=function(){this.Wd(function(a){a.clear()})};
o.os=function(a){if(!(!this.N||!this.ra)){this.vw=a;if(this.Wc.prototype.Ph(a)){this.M.U("User has resized list to step: "+a);this.TB();this.Q.vl(this.dE());E?this.T0.start():this.Uh()}}};o.U0=function(){var a=this.g.ja(),b=this.xi(),c=this.aE(a,b);this.VE(b,c);F(this.nc,this.jd+"-area "+this.jd+"-"+hl[this.vw]);this.bI.start()};o.aE=function(a){var b;if(this.Wx){var c=this.lq(),e=Math.ceil(this.vx/c),f=Math.max(a-this.$g,0);b=Math.min(e*c,f)}else b=a;return b};
o.VE=function(a,b){var c=a-1;for(;c>=b;c--){var e=this.kf(c);e&&e.show(d)}};o.Uh=function(a){if(!(!this.N||!this.ra&&!ba(a))){var b=s(),c=this.xi(),e=this.aE(this.g.ja(),c);this.VE(c,e);E||F(this.nc,this.jd+"-area "+this.jd+"-"+hl[this.vw]);var f=-1,g=-1,h=0;for(;h<e;h++){var l=this.$g+h,m=this.kf(h);m||(m=this.tm(h,this.nc,d));m.DI(l);var n=this.g.Xd(l);if(!n||n==Kl){if(f==-1)f=l;g=l}else m.B(n);m.show(j)}f!=-1&&this.g.gl(f,g+1,r(this.Q0,this));this.M.U("List updated, time: "+(s()-b)+"ms.")}};
o.Q0=function(){this.Wd(function(a){var b=a.Yp,c=this.g.Xd(b);a.B(c)},this)};o.tm=function(a,b,c){var e;if(this.g)e=this.g.Xd(a);var f=new this.Wc(this,this.Jq,a,e);f.QZ(!!c);this.H(f);f.G(b);return f};o.wJ=function(a){var b=this.Ev().xc("image loads","network");b.start();var c=0;if(this.rc)c=this.rc.loaded;this.rc={loaded:c,Am:a,Xz:[],Ss:b};if(this.rc.loaded>=this.rc.Am){this.rc.Ss.stop();xk(qk)}else{var e=0;for(;e<Mq.length;e++){var f=Mq[e];if(f>a)break;this.rc.Xz.push(f)}}};
o.yS=function(){this.rc.loaded++;var a=this.rc.loaded;ua(this.rc.Xz,a)>=0&&this.rc.Ss.w0("load"+a);if(a>=this.rc.Am){this.rc.Ss.stop();xk(qk)}};o.Ev=function(){var a;a=qk.Rm("ajax")?qk.get("ajax").get(String(qk.Lg)):qk.get(sk).get(tk).get("prt");return a.get("images")};var Mq=[1,5,10,50,100,500,1000];var Nq=function(a,b,c,e){this.g=a;this.Gb=this.HB=b;this.zz=e||0;this.Ht=0;this.on=c||b*2;this.na(j);this.g.addEventListener(ym,r(this.na,this,d));this.g.addEventListener(zm,r(this.na,this,d))};t(Nq,S);var Oq=function(a){O.call(this,"windowscroll",a);this.Dj=a.Ht};t(Oq,O);
Nq.prototype.na=function(a){var b=this.g.Hf,c=b-1;Math.min(c,this.zz+(this.Gb-1));var e=this.g.Qb,f=Math.min(this.on,this.HB+e);f=Math.max(f,this.HB);var g=this.on;if(f>b)g=f=b;var h=Math.ceil(g/2),l=-1,m=-1;if(f==this.on)if(e>c-h){m=this.on-1-(c-e);l=c-this.on+1}else{m=h;l=e-h}else{l=0;m=e}this.Gb=f;this.zz=l;this.Ht=m;a||this.dispatchEvent(new Oq(this))};Nq.prototype.ja=function(){return this.Gb};var Pq=function(a){X.call(this);this.Ib=a||""};t(Pq,X);o=Pq.prototype;o.r=function(){this.j=J("td");this.L=J("div");this.If=J("div");K(this.j,this.L);K(this.j,this.If)};o.A=function(){Pq.b.A.call(this);this.KV=Q(this.j,R,r(this.Bh,this))};o.K=function(){ge(this.KV);Pq.b.K.call(this)};o.Bh=function(){this.dg&&this.dg()};o.hZ=function(){this.show(j);F(this.L,this.Ib+"pagerfirst");N(this.If,"");delete this.dg};
o.YZ=function(a){this.show(j);F(this.L,this.Ib+"pagerprev");N(this.If,"Previous");F(this.j,this.Ib+"firstCell");F(this.If,this.Ib+"firstCellTxt");this.dg=r(a.hX,a)};o.PZ=function(a){this.show(j);F(this.L,this.Ib+"pagernext");F(this.If,this.Ib+"pagernextnum");N(this.If,"Next");this.dg=r(a.nextPage,a)};o.zZ=function(){this.show(j);F(this.L,this.Ib+"pagerlast");N(this.If,"");delete this.dg};o.WY=function(){this.show(j);F(this.L,this.Ib+"pagercurrent");F(this.If,this.Ib+"pagercurrentpagenum");delete this.dg};
o.nj=function(a,b){this.show(j);F(this.L,this.Ib+"pagerpage");N(this.If,b+1);F(this.If,this.Ib+"pagerpagenum");this.dg=r(a.Oy,a,b)};o.show=function(a){W(this.j,a)};var Qq=function(a,b,c){X.call(this);this.B(a);this.uK=b;this.Ib=c||"";this.Ob=new Nq(a,this.uK,this.uK*2,a.Qb)};t(Qq,X);o=Qq.prototype;o.ra=d;o.r=function(){this.j=I("table",{id:"lhid_pager"});F(this.j,this.Ib+"pager");var a=J("tbody");this.Xs=J("tr");K(this.j,a);K(a,this.Xs)};
o.A=function(){X.prototype.A.call(this);this.g.addEventListener(zm,this.na,d,this);this.g.addEventListener(ym,this.na,d,this)};o.K=function(){this.g.removeEventListener(zm,this.na,d,this);this.g.removeEventListener(ym,this.na,d,this);this.show(d);X.prototype.K.call(this)};
o.na=function(){var a=this.Ob.ja(),b=0;b=a<=1?-1:1;if(b!=0&&this.j){this.ra=b>0;W(this.j,this.ra)}if(!!b){var c=this.Ob.zz,e=this.Ob.Ht,f=e-c;if(!this.yg)this.yg=[];var g=this.yg[0];if(!g){g=new Pq(this.Ib);this.yg[0]=g;this.H(g);g.G(this.Xs)}c==0&&f==0?g.hZ():g.YZ(this.g);var h=0;for(;h<a;++h){var l=this.yg[h+1];if(!l){l=new Pq(this.Ib);this.yg[h+1]=l;this.H(l);l.G(this.Xs)}l.nj(this.g,c+h);e==h&&l.WY()}var m=a+1,n=this.yg[m];if(!n){n=new Pq(this.Ib);this.yg[m]=n;this.H(n);n.G(this.Xs)}this.g.Qb+
1==this.g.Hf?n.zZ():n.PZ(this.g);var h=m+1;for(;h<this.yg.length;++h){var q=this.yg[h];q&&q.show(d)}}};o.show=function(a){if(this.ra!=a){(this.ra=a)&&this.na();this.j&&W(this.j,a)}};var Rq=function(a){X.call(this);this.ta=a};t(Rq,X);o=Rq.prototype;o.Ic=d;o.show=function(a){W(this.j,a);a&&!this.Ic&&window.scrollTo(0,0);this.Ic=a};o.Oh=function(a){this.T=a};o.na=function(){this.g&&this.dispatchEvent(new Uo(this.g))};o.isOwner=function(a){return this.V&&this.V.isOwner(a)};o.Cd=function(){return this.ta.cm};var Sq=function(a,b,c){X.call(this);this.L=[i,i];this.ee=a||0;this.j1=b||d;this.AO=c||512;this.i=new T(this)};t(Sq,X);var Tq={Wt:i,Te:i,Dj:d,Oq:d,Sb:i,uG:0,vG:0,Eu:0,Fu:0,EA:0,GA:0};Sq.prototype.$j=d;Sq.prototype.ak=d;var Uq=new y(320,240);o=Sq.prototype;o.be=d;o.Nb=0;o.va=d;o.Ac=function(){return d};
o.r=function(){var a=J("div");V(a,"position","relative");V(a,"overflow","hidden");v(this.L,function(b,c,e){var f=J("img");V(f,"position","absolute");W(f,d);K(a,f);e[c]=f},this);this.Jf=this.L.length;this.Zb(a)};
o.nO=function(){if(this.ar(this.ba())){var a=_LH.locale;if(a!="en_US")a+="&messagesUrl="+B("http://video.google.com/FlashUiStrings.xlb?frame=flashstrings&hl="+_LH.locale);var b=sb(this.g.Do.Ce());if(this.g.Sm()&&this.be)b=sb(this.g.be.Ce());var c=this.qq(this.g),e="http://video.google.com/googleplayer.swf?videoUrl="+B(b)+"&hl="+a+"&autoplay=yes",f=J("embed");V(f,"position","absolute");f.setAttribute("FlashVars","avoidgeturl=true&fs=true&playerMode="+(this.j1?"mini":"normal"));f.setAttribute("allowFullScreen",
"true");f.setAttribute("salign","TL");f.setAttribute("src",e);f.setAttribute("scale","noScale");f.setAttribute("bgcolor","#eeeeee");f.setAttribute("quality","best");f.setAttribute("swLiveConnect","true");f.setAttribute("allowscriptaccess","always");f.setAttribute("width",c.width);f.setAttribute("height",c.height+27);f.setAttribute("type","application/x-shockwave-flash");f.setAttribute("wmode","opaque");W(f,d);W(this.L[0],d);W(this.L[1],d);$o();K(this.j,f);this.L[this.Jf]=f;this.Lh(this.g,this.L[this.Jf]);
W(this.L[this.Jf],j)}};o.ar=function(a){var b=a.Eg;return a.Fa()&&(!b||b=="ready"||b=="final")};o.qq=function(a){if(!a.Fa())return new y(a.w,a.h);var b=a.Do;if(a.Sm()&&this.be)b=a.be;var c=b.nw()?b.getSize():new y(a.w,a.h),e=cb(Uq);if(c.width>=Uq.width||c.height>=Uq.height)if(b.nw())e=cb(c).scale(2);else e.scale(2);return e};o.as=function(){if(this.L[this.Jf]){W(this.L[this.Jf],d);L(this.L[this.Jf]);delete this.L[this.Jf]}};o.o=function(){if(!this.pb()){Sq.b.o.call(this);this.i.o()}};
o.Dd=function(a){return new y(Math.max(this.N?this.j.offsetWidth:0,this.ee),Math.max(this.qc?this.qc:a.height,this.ee))};o.A=function(){Sq.b.A.call(this);this.$j=d;this.aa=cb(Tq);if(this.V&&this.V.V){this.i.e(this.V.V.V,"zoomin",this.zoomIn);this.i.e(this.V.V.V,"zoomout",this.zoomOut);this.i.e(this.V.V.V,"hqvideo",this.IT);this.i.e(this.V.V.V,"stdvideo",this.c0)}var a=this.Dd(new y(0,this.AO));wf(this.j,a);this.na()};
o.K=function(){Sq.b.K.call(this);this.Ti&&vm().Qc(this.Ti);this.i.Y();this.j&&L(this.j);this.j=i;v(this.L,function(a,b,c){c[b]=i})};o.B=function(a){if(this.ba()!=a){Sq.b.B.call(this,a);if(this.N){this.$j=d;this.na()}}else{this.va=j;this.Nq()}};o.DZ=function(a){this.Nb=a};o.ss=function(a,b){b=a>0&&!!b;this.qc=a;this.ak=!!b;this.N&&!this.va&&this.na()};o.YD=function(a){var b=this.Dd(a);return Qe(a,b)};o.lc=function(){return this.L&&this.L[0]};
o.na=function(){if(this.g&&this.g.type=="Photo"){var a=this.Lr||this.g,b=new y(a.w,a.h);if(this.Lr!=this.g)b=new y(this.g.w,this.g.h);var c=this.Dd(b),e=Qe(b,c);if(this.ar(a)){b=this.Lr!=this.g?this.qq(this.g):this.qq(a);var f=new y(b.width,b.height+27);c=this.Dd(f);c.height-=27;e=Qe(b,c);e.height+=27;e.height=Math.max(e.height,Uq.height);e.width=Math.max(e.width,Uq.width)}var g=Ue(this.g.Eg,""),h=d;if(!g||a.Eg=="ready")g=this.g.xe();else h=j;var l=To(g,Math.max(e.width,e.height));if(this.Lr!=this.g||
l<0){if(l<0)l=128;if(h)l=0;this.va=j;this.Ti=wm(g,b,l,d,r(this.RS,this,this.g),r(this.Mq,this))}else if(this.Nb==0){var m=Ua(b,e)?0:Math.max(e.width,e.height);this.Od(g,m,this.g)}else this.Nq()}else this.FT();if(this.aa.Dj){this.lK();this.aa.Oq=d}};o.Es=function(a){this.as();this.g&&this.g.Fa()&&a&&this.nO()};o.FT=function(){v(this.L,function(a){a&&W(a,d)})};o.RS=function(a,b){if(this.N){this.Lh(a,this.L[1]);this.Ti=wm(b.Rd,i,b.qf,b.Uf,r(this.DE,this,a),r(this.Mq,this),this.L[1])}};
o.DE=function(a,b){if(this.N){this.Lr=a;this.dispatchEvent("show");this.VI();W(this.L[0],d);W(this.L[1],j);this.Lh(a,this.L[0]);this.Ti=wm(b.Rd,i,b.qf,b.Uf,r(this.zS,this,a),r(this.Mq,this),this.L[0])}};o.zS=function(){if(this.N&&this.ba()){this.VI();W(this.L[1],d);W(this.L[0],j);var a=this.ba().Fa();this.Es(a);a?this.Nq():this.na()}};
o.Od=function(a,b,c){if(this.L[0].src==Me(a,b)){if(this.ar(c)){if(this.L[this.Jf]){this.Lh(c,this.L[this.Jf]);W(this.L[0],d);W(this.L[1],d);W(this.L[this.Jf],j)}}else{this.Lh(c,this.L[0]);W(this.L[1],d);W(this.L[0],j)}this.Nq()}else{W(this.L[0],j);this.Lh(c,this.L[1]);this.va=j;this.Ti=wm(a,i,b,d,r(this.DE,this,c),r(this.Mq,this),this.L[1])}};o.Mq=function(){if(this.va){this.va=d;this.$j=j;this.dispatchEvent("error")}};o.Nq=function(){if(this.va){this.va=d;this.dispatchEvent("load")}};
o.Lh=function(a,b){if(!a||!b)return new y(this.ee,this.ee);var c=this.ee;if(this.ar(a)){var e=this.qq(a),f=this.Dd(new y(e.width,e.height+27));f.height-=27;var g=Qe(e,f);g.height+=27;g.height=Math.max(g.height,Uq.height);g.width=Math.max(g.width,Uq.width);c=Uq.width}else var e=new y(a.w,a.h),f=this.Dd(e),g=Qe(e,f);if(!this.ak)f.height=g.height;this.aa.Wt=f;var h=new w((f.width-g.width)/2,(f.height-g.height)/2);if(this.N){wf(this.f(),f.width<c?c:"",f.height);wf(b,g);kf(b,h)}return g};
o.lK=function(){var a=this.aa.Wt.width,b=Math.min(this.aa.Wt.height,this.aa.Te.height),c=0;if(a>this.aa.Te.width){c=Math.floor((a-this.aa.Te.width)/2);a=this.aa.Te.width}wf(this.aa.Sb,new y(a,b));kf(this.aa.Sb,new w(c,0));this.aa.uG=a-this.aa.Te.width;this.aa.vG=b-this.aa.Te.height;this.aa.Eu=0;this.aa.Fu=0;V(this.aa.Sb,"background-position","0 0");V(this.aa.Sb,"background-color","white")};
o.zoomOut=function(){if(this.aa.Dj){this.i.ca(this.aa.Sb,R,this.vJ);this.i.ca(this.aa.Sb,le,this.aD);this.i.ca(this.aa.Sb,ke,this.Zj);this.i.ca(this.aa.Sb,Nd,this.Zj);this.i.ca(window,Nd,this.Zj);this.j.removeChild(this.aa.Sb);this.aa.Dj=d}};
o.zoomIn=function(){if(!!this.qp())if(!this.aa.Dj){this.aa.Dj=j;var a=Pe[Pe.length-1],b=new y(a,a);this.aa.Te=new y(this.g.w,this.g.h);if(!this.aa.Te.ck(b))this.aa.Te=this.aa.Te.Cy(b);this.aa.Sb=J("div");this.lK();V(this.aa.Sb,"background-image","url("+this.g.xe()+")");V(this.aa.Sb,"position","absolute");V(this.aa.Sb,"z-index","1000");K(this.j,this.aa.Sb);this.i.e(this.aa.Sb,R,this.vJ);this.i.e(this.aa.Sb,le,this.aD);this.i.e(this.aa.Sb,ke,this.Zj);this.i.e(this.aa.Sb,Nd,this.Zj);this.i.e(window,
Nd,this.Zj)}};o.IT=function(){if(!this.be){this.be=j;this.Es(j)}};o.c0=function(){if(this.be){this.be=d;this.Es(j)}};o.vJ=function(a){this.aa.EA=a.offsetX;this.aa.GA=a.offsetY;this.aa.Oq=j;a.preventDefault()};o.aD=function(a){if(this.aa.Oq){var b=Li(this.aa.Eu+a.offsetX-this.aa.EA,this.aa.uG,0),c=Li(this.aa.Fu+a.offsetY-this.aa.GA,this.aa.vG,0);this.aa.EA=a.offsetX;this.aa.GA=a.offsetY;this.aa.Eu=b;this.aa.Fu=c;V(this.aa.Sb,"background-position",b+"px "+c+"px")}};o.Zj=function(){this.aa.Oq=d};
o.qp=function(){return j};o.VI=function(){v(this.L,function(a){zf(a,this.vU(a)?0.5:"")},this)};o.vU=function(a){return yb(a.src,"/s128/")};var Vq=function(a,b){Rq.call(this,b);this.pe=b.oe;this.Q=a;this.k=new T(this);this.pr=new Of(this.cG,10,this);this.Wr=new Of(this.Zn,50,this)};t(Vq,Rq);o=Vq.prototype;o.M=md("gphoto.PhotoEntityView");o.Zc=[];o.va=d;o.A=function(){Vq.b.A.call(this);this.Rb&&this.Rb.A();var a=this.V.V;this.k.e(a,re,this.Eb);this.k.e(a,"zoomin",this.Bq);this.k.e(a,"zoomout",this.Bq);this.k.e(a,"rotate",this.gw)};o.K=function(){Vq.b.K.call(this);this.k.Y();this.Rb&&this.Rb.K()};
o.o=function(){if(!this.pb()){Vq.b.o.call(this);this.pr.o();this.Wr.o();this.k.o();this.Rb&&this.Rb.o()}};
o.show=function(a){Rq.prototype.show.call(this,a);this.Q.EZ(a);if(a){if(this.T&&this.Q)if(this.T.ze(this.Q.ya)!=this.g)this.g=i;this.na();this.k.e(this.Q,Am,this.Rj);this.k.e(this.Q,zm,this.ki)}else{this.Rb&&this.Rb.Oe(i,d,i);this.pr.stop();this.Wr.stop();this.va=d;Ea(this.Zc);this.k.ca(this.Q,Am,this.Rj);this.k.ca(this.Q,zm,this.ki);if(this.ga){this.k.ca(this.ga,["load","error"],this.pc);this.k.ca(this.ga,"show",this.Aq);this.removeChild(this.ga,j);delete this.ga}}};
o.G=function(a){Vq.b.G.call(this,a)};o.Rj=function(){var a=this.Q.ya;this.M.U("currentItemChanged_, load: "+a);a>=0&&this.T.load(a,1,r(this.Zp,this,d))};o.ki=function(){if(this.T&&this.Q){var a=this.Q.ya,b=this.Q.db;this.T.load(a,b,function(){})}};
o.Zp=function(a,b,c){if(!!this.ga){var e=this.Q.ya;this.M.U("entityLoaded: "+c+", myIndex: "+e);var f=b.ze(c);if(a&&f){this.M.U("Prefetching: "+c);var g=new y(f.w,f.h);this.wH&&vm().Qc(this.wH);var h=f.xe();if(h)this.wH=wm(h,g,this.ga.YD(g),d,i)}else if(e==c)f?this.B(f):this.Cd().vF()}};o.B=function(a,b){this.M.U("Model changed: "+a);if(!(!a||a==Kl)){Vq.b.B.call(this,a);b||this.na()}};
o.na=function(){Vq.b.na.call(this);if(!this.ga){this.ga=new Sq(512);this.H(this.ga,j);this.k.e(this.ga,["load","error"],this.pc);this.k.e(this.ga,"show",this.Aq)}if(this.g)if(this.Zc[this.Zc.length-1]!=this.g){this.Zc.push(this.g);this.cG()}};o.Eb=function(){if(this.ga&&this.g){var a=pc(),b=sf(this.f());this.ga.ss(a.height-b)}};
o.cG=function(){this.pr.stop();this.Wr.stop();if(!(!this.ga||this.va))if(this.Zc.length==0)this.Wr.start();else{this.M.U("Consume model off queue");this.va=j;this.Eb();var a=this.Zc.shift();this.dispatchEvent("consumed");var b=this.Zc.length?1:0,c=this.kq();c.OE()||c.start();this.ga.DZ(b);this.ga.B(a);this.Rb&&this.Rb.Oe(i,d,i);if(a.Fa())this.ga.Es(j);else if(_features.fr&&_features.froptin)Sk(this,r(this.ga.lc,this.ga),a.id,i,j,this.isOwner(a)?5:8,d)}};
o.pc=function(){this.va=d;this.M.U("ScaledImage loaded");this.pr.start()};o.Aq=function(){};o.kq=function(){var a;a=qk.Rm("ajax")?qk.get("ajax").get(String(qk.Lg)):qk.get(sk).get(tk).get("prt");return a.get("images")};o.Zn=function(){var a=this.Q.ya+this.Q.Gu;a>=0&&a<this.T.Ud()&&this.T.load(a,1,r(this.Zp,this,j))};o.Bq=function(a){this.Rb&&this.Rb.tT(a)};o.gw=function(a){this.Rb&&this.Rb.bT(a)};var Wq=function(a){X.call(this);this.Q=a.cm.Q;this.k=new T(this);this.ta=a;this.Ge=new this.ta.zP(this.Q,this.ta);this.mi=new this.ta.qP(this.Q,this.ta);this.TT=new Of(this.rZ,1,this);this.H(this.mi);this.H(this.Ge);if(this.ta.Mk!=-1){this.xf=new Qq(this.Q,10);this.H(this.xf)}this.Ba=this.ta.cm.Ba};t(Wq,X);o=Wq.prototype;o.M=md("gphoto.BasicFeedView");o.ST=1;o.Ix=144;o.Oh=function(a){var b=this.T!=a;this.T=a;b&&this.yP()};o.Ta=function(){return this.T};
o.yP=function(){var a=s();this.k.e(this.T,Fl,function(){this.Q.rs(this.T.Ud())});this.Q.rs(this.T.Ud());if(this.mr)this.mr.Oh(this.T);else this.mr=new Cm(this.T,this.Q);this.Ge.B(this.mr);this.mi.Oh(this.T);this.M.U("feedChanged: "+(s()-a)+"ms.")};o.A=function(){X.prototype.A.call(this);this.k.e(this.Ge,"change",this.Pw);this.k.e(this.Ge,"select",this.wY);this.k.e(this.Q,ym,this.cH)};o.K=function(){this.k.Y();X.prototype.K.call(this)};
o.cH=function(){this.xf&&this.xf.show(this.Ge.Ka()&&this.Q.Hf>1)};o.o=function(){this.k.o();X.prototype.o.call(this)};o.wY=function(){var a=this.Ge.jb[0];if(a){var b=a.Yp;this.Q.mj(b)}};o.mf=function(){var a=this.Q.ya;return this.T.ze(a)};o.Pw=function(){var a=this.Ge.jb[0];qk.Js("list_1up");this.ls(a.ba(),j);this.dispatchEvent("itemactivated")};o.os=function(a){this.ST=a-this.Ix;this.Ix=a;this.TT.start()};o.rZ=function(a){var b=a||this.Ix;b=Li(b,0,jl);this.Ge.os(b)};
o.G=function(a){X.prototype.G.call(this,a);this.mi.G(a);this.Ge.G(a);if(this.xf){this.xf.G(a);this.xf.na()}};o.na=function(){this.mi.na()};o.qz=function(a){if(!!this.N)if(a){this.mi.show(d);this.Ge.show(j);if(this.xf){this.cH();this.xf.A()}}else{this.Ge.show(d);this.mi.show(j);this.xf&&this.xf.K()}};o.ls=function(a,b){this.Y2=a;this.mi.B(a,b)};o.isOwner=function(a){if(a&&this.ta&&this.ta.oe)return a.isOwner(this.ta.oe);return d};o.XR=function(){this.mr.dispatchEvent("remove")};var Xq=function(a,b){Id.call(this);this.Sc=this.z_();this.jy=this.A_();this.pi=this.x_();this.gb=this.B_(a);this.i=new T(this);this.BP=b;this.pa=a.album};t(Xq,Id);o=Xq.prototype;o.o=function(){this.i.o()};
o.B_=function(a){return{J1:new Yq("lhid_slideshow","Slideshow","lhcl_toolbar_text","SPRITE_slideshow lhcl_spriting_alignBottom",["a","s","gt","pgt","ct","ft","pgp","gp","ap",Cq],r(this.Dn,this,a),a),I1:new Yq("lhid_share","Share","lhcl_toolbar_text","SPRITE_share lhcl_spriting_alignBottom",["a","s","gt","pgt","ct","ft","pgp","gp","pg","ap",Cq],r(this.F_,this),a),u1:new Yq("lhid_dowload","Download","lhcl_toolbar_text","",["a"],r(this.px,this),a,this.pi),D1:new Yq("lhid_prints","Prints","lhcl_toolbar_text",
"",["a"],r(this.px,this),a,this.jy),v1:new Yq("lhid_editMenu","Edit","lhcl_toolbar_text","",["a"],r(this.px,this),a,this.Sc)}};
o.z_=function(){return{DK:{id:"lhid_editAlbumPropertiesButton",eb:"Album properties",enabled:r(this.hN,this)},BK:{id:"lhid_albumCoverButton",eb:"Album cover",enabled:r(this.Qr,this)},sL:{id:"lhid_setAsAlbumCoverButton",eb:"Set as album cover",enabled:r(this.kN,this)},CK:{id:"lhid_albumMapButton",eb:"Album map",enabled:r(this.Qr,this)},EK:{id:"lhid_editCaptionsButton",eb:"Captions",enabled:r(this.Qr,this)},MK:{id:"lhid_deleteAlbumButton",eb:"Delete album",enabled:r(this.bN,this)},NK:{id:"lhid_deletePhotoButton",
eb:"Delete this photo",enabled:r(this.cN,this)},OK:{id:"lhid_deleteVideoButton",eb:"Delete this video",enabled:r(this.dN,this)},fL:{id:"lhid_organizeButton",eb:"Organize & Reorder",enabled:r(this.Qr,this)},UK:{id:"lhid_editInPicasaButton",eb:_features.PWA_NEWUI?"Edit in Picasa":"Edit in Google Photo Lab",enabled:r(this.iN,this)},TK:{id:"lhid_editContact",eb:"Edit contact",enabled:r(this.Zm,this)},HK:{id:"lhid_correctNameTagsButton",eb:"Correct name tag mistakes",enabled:r(this.Zm,this)},GK:{id:"lhid_copyToAnotherAlbum",
eb:"Copy to another album",enabled:r(this.QB,this)},aL:{id:"lhid_moveToAnotherAlbum",eb:"Move to another album",enabled:r(this.QB,this)}}};o.A_=function(){return{DL:{id:"lhid_viewOrder",eb:"View order",enabled:r(this.zM(_features.cart))},eL:{id:"lhid_orderPrints",eb:"Order prints",enabled:r(this.jN,this)}}};
o.x_=function(){var a="Download to Picasa";return{AL:{id:"lhid_downloadToPicasa",eb:a,enabled:r(this.fN,this)},zL:{id:"lhid_downloadToPhotoLab",eb:_features.PWA_NEWUI?a:"Download to Google Photo Lab",enabled:r(this.eN,this)},mL:{id:"lhid_printWithPicasa",eb:_features.PWA_NEWUI?"Print with Picasa":"Print with Google Photo Lab",enabled:r(this.eu,this)},FK:{id:"lhid_collageWithPicasa",eb:"Make collage",enabled:r(this.eu,this)},bL:{id:"lhid_movieWithPicasa",eb:"Make movie",enabled:r(this.eu,this)},PK:{id:"lhid_downloadPhoto",
eb:"Download photo",enabled:r(this.gN,this)}}};o.zM=function(a){return function(){return a}};o.CW=function(a){return a.rK()};o.px=function(a,b){for(var c in a)if(a[c].enabled(b))return j;return d};o.$w=function(a){return a.Qa.la==3};o.hN=function(a){return!this.Zm(a)&&this.$w(a)};o.Qr=function(a){return this.$w(a)&&this.Dn(a)&&!this.Zm(a)};o.Dn=function(a){return!a.Qa&&this.pa?this.pa.ja()>0||this.pa.photoCount>0:this.KG(a)};
o.Cq=function(a,b,c){var e=!!(this.pa&&this.pa.picasa&&this.pa.picasa.length>0),f=typeof a!="undefined"?j:d;e=e&&(f?_picasaVersion>=a:j);if(b){var g=Math.floor(_picasaVersion);e=c?e&&g<b:e&&g<=b}return e};o.KG=function(a){var b=a.Qa.Ta();return b&&b.isLoaded()&&b.$s()>0};o.eu=function(a){return this.Cq(3)&&!(a.Qa.la&4)};o.fN=function(a){return this.Cq(0,3,j)&&!(a.Qa.la&4)};o.eN=function(a){return this.Cq(3)&&!(a.Qa.la&4)};
o.iN=function(a){if(_features.editinpicasa&&a.Qa.la==5&&_picasaVersion>=3){var b=a.Rc.Fd();return!!b&&!b.Fa()}return d};o.bN=function(a){return this.$w(a)&&(!this.pa.blogger||this.pa.blogger&&!this.Dn(a))&&!this.Zm(a)};o.cN=function(a){return this.Wq(a)&&this.Ym(a)&&!this.Fa(a)};o.dN=function(a){return this.Wq(a)&&this.Ym(a)&&this.Fa(a)};o.kN=function(a){return this.Wq(a)&&this.Ym(a)};o.QB=function(a){return this.Wq(a)&&this.Ym(a)};
o.gN=function(a){if(this.Cq()&&this.Ym(a)){var b=a.Rc.Fd();return!!b&&!b.Fa()}return d};o.jN=function(a){var b=a.Rc.Fd(),c=a.Qa.la&2;return!!(_features.cart&&ba(_updateCartPath)&&this.Dn(a)&&(c||b&&!b.Fa())&&(a.rK()||this.pa&&this.pa.prints))};o.F_=function(a){var b=this.CW(a),c=this.pa?this.pa.Se:"",e=this.pa&&c!=vd&&c!=wd,f=c!=wd||a.Le=="a";return(b||e)&&(!a.Qa||this.Dn(a))&&f};o.Zm=function(a){return _features.fr&&a.Qa.Cd().ma.length==1&&this.KG(a)&&(a.Le=="pgp"||a.Le=="gp")&&a.Qa.la&2&&_authuser.isOwner};
o.Wq=function(a){return!!(a.Qa.la&1)};o.Ym=function(a){return!!(a.Qa.la&4)};o.Fa=function(a){var b=a.Rc.Fd();return!b||b.Fa()};o.Nm=function(a,b){var c="",e;if(b)e=b.BB?B(b.BB):b.Vt;if(a&&e&&a.Se==wd&&_picasaVersion>3)c="uname="+e+"&";return c};o.zQ=function(a,b,c){var e=this.Nm(b,c);if(e){var f=a.split("?");if(f.length==2)a=f[0]+"?"+e+f[1]}return a};
o.CR=function(a,b,c,e,f){var g=c,h=b.album;if(!h&&g&&g.type=="Photo")h=g.hb();var l;switch(a){case "lhid_slideshow":var m="slideshow";if(c)m+="/"+c.id;b.Qa.Cd().xg(m);break;case "lhid_share":this.E_(b,c,e,f);break;case this.jy.DL.id:window.location="/lh/viewCart";break;case this.jy.eL.id:this.xW(b,c,e,f);break;case this.pi.AL.id:case this.pi.zL.id:window.location=this.zQ(this.pa.picasa,h,b);break;case this.Sc.UK.id:l=new hg(c.$f);l.oa("alt","atom");l.oa("imgdl","1");window.location="picasa://editimagefeed/?"+
this.Nm(h,b)+"url="+B(l.toString());break;case this.pi.mL.id:l=new hg(this.pa.photosRss);l.oa("imgdl","1");window.location="picasa://printalbumfeed/?"+this.Nm(h,b)+"url="+B(l.toString());break;case this.pi.FK.id:window.location="picasa://collagefeed/?"+this.Nm(h,b)+"url="+B(this.pa.photosRss);break;case this.pi.bL.id:window.location="picasa://makemoviefeed/?"+this.Nm(h,b)+"url="+B(this.pa.photosRss);break;case this.pi.PK.id:window.location=kp(c.s);break;case this.Sc.DK.id:Ji();break;case this.Sc.CK.id:window.location=
this.pa.tr;break;case this.Sc.fL.id:window.location=_reorderPath;break;case this.Sc.EK.id:window.location=_editCaptionsPath;break;case this.Sc.BK.id:b.Qa.Pt();break;case this.Sc.MK.id:this.DO();break;case this.Sc.HK.id:this.J_(b);break;case this.Sc.TK.id:this.L_(b);break;case this.Sc.sL.id:this.HY(g);break;case this.Sc.NK.id:case this.Sc.OK.id:this.IO(g);break;case this.Sc.GK.id:this.FN(g);break;case this.Sc.aL.id:this.PV(g);break}};
o.E_=function(a,b,c,e){if(b&&c&4){var f="/lh/emailPhoto?uname="+b.user.name+"&iid="+b.id+"&continue="+B(window.location.toString());if(this.pa&&this.pa.id)f+="&aid="+this.pa.id;window.location=f}else if(a.Le=="a"&&c&2)window.location="/lh/emailAlbum?uname="+e+"&aid="+this.pa.id;else if(c&2){var g=a.Rc.Ta().ze(0),h=[],l=new hg(g.xe()),m=l.Ea("imgmax"),n=a.Rc.lE();if(!m||p.v2(m)||m>400)l.oa("imgmax","400");h.push("source="+B(l.toString()));n&&h.push("subjectids="+B(n));var q=a.Rc.lh();q!=""&&h.push("description="+
B(q));h.push("uname="+B(g.user.name));h.push("continue="+B(window.location.toString()));var u="/lh/emailFeedForm?"+h.join("&");window.location=u}};o.DO=function(){var a="Are you sure you want to delete this album?";if(this.pa.isdefault)a+=" Photos in the Drop Box will be removed from any other sites where they are used.";if(!!confirm(a)){var b=I("form",{method:"post",action:_deleteAlbumPath},I("input",{type:"hidden",name:"aid",value:this.pa.id}));K(document.body,b);b.submit()}};
o.xW=function(a,b,c,e){var f=a.Le=="a"&&c&2,g=r(f?this.HL:this.eM,a.Qa);Zp();var h=Vh("_rtok",""),l=["uname="+e,"noredir=true","rtok="+h];if(f)l.push("aid="+a.Rc.lb);else b&&l.push("iid="+b.F());eg(_updateCartPath,g,"POST",l.join("&"))};o.eM=function(a){if(!Vj(a)){var b=0;if(a.target&&a.target.mc){var c=a.target.mc(),e=c.indexOf("<count>")+"<count>".length,f=c.indexOf("</count>");b=parseInt(c.substr(e,f-e))}Yp("This photo has been added.",3000);Kk(b)}};o.HL=function(a){if(!Xj(a))window.location="/lh/viewCart"};
o.J_=function(a){var b=a.Qa.Cd().ma;Wk(r(this.LH,this,a),b,_authuser.name)};o.LH=function(){window.location.hash=""};o.L_=function(a){var b=a.Qa.Cd().ma;Xk(r(this.LH,this),b)};o.HY=function(a){var b=["selectedphotos="+a.F(),"noredir=true","optgt=BANNER","uname="+_user.name,"aid="+a.hb().id],c=a.xe();eg(_selectedPhotosPath,r(this.IY,this,c,a),"POST",b.join("&"))};o.IY=function(a,b,c){Xj(c)||this.BP.dispatchEvent(new Tp(b.hb().id,a))};o.FN=function(a){a&&Zo([a.F()])};
o.PV=function(a){if(!!a){var b=j;if(this.pa.isdefault&&_features.newStrings)b=confirm("Are you sure you want to move this photo? It will no longer appear on other sites if you move it.");else if(this.pa.blogger)b=confirm("Are you sure you want to move this photo? It will no longer appear in your blog if you move it.");!b||Yo([a.id],this.pa.id)}};o.IO=function(a){a&&a.Lp()};var Yq=function(a,b,c,e,f,g,h,l){bn.call(this,a,b,c,e,l);this.NB=g;this.dH=f;this.J=h;this.Nk=l};t(Yq,bn);o=Yq.prototype;
o.$e=function(){if(!this.op)this.op=this.Nk?this.lO():Yq.b.$e.call(this);return this.op};o.enabled=function(){var a=d,b=this.dH.length,c=0;for(;c<b;c++)if(this.dH[c]==this.J.Le){a=j;break}if(!a)return d;if(this.Nk)return this.NB(this.Nk,this.J);return this.NB(this.J)};
o.lO=function(){var a=new Fj;a.ps(this.id);Va(this.Nk,function(b){var c=new Dj(b.eb);c.ps(b.id);c.to(255,j);a.Yl(c);b.pG=c},this);return new an(I("div",{"class":"goog-toolbar-menu-button"},I("div",{"class":"goog-inline-block "+this.RJ},this.eb)),a)};o.d_=function(a){this.sI=a};o.na=function(a){var b=this.enabled(a);this.op&&W(this.op.f(),b);this.sI&&W(this.sI.f(),b);this.Nk&&Va(this.Nk,function(c){this.W0(c,a)},this)};o.W0=function(a,b){var c=a.pG?a.pG.f():i;c&&W(c,a.enabled(b))};var Zq=function(a,b){var c=new hg(a);c.ql(b);return c.toString()},$q=function(a,b){var c=new hg(a);c.ql("");c.wl("/"+b);c.ws(i);return c.toString()},ar=function(a){var b=new hg(a),c="slideshow";if(b.bh)c+="/"+b.bh;b.ql(c);return b.toString()};var br=function(a,b){X.call(this);this.gf=a;this.fa=a.fa;this.Q=a.J.Q;this.k=new T(this);this.cb=new xg(document);this.xu={};this.gb=[];this.Qq=H("lhid_indexbox");this.lp=H("lhid_backlink");this.GB=H("lhid_backlink_msg");this.$n=this.Wl("previous");this.Cn=this.Wl("next");this.Eo=this.kM("streamtoggle");this.ij=this.Wl("rotate-ccw");this.jj=this.Wl("rotate-cw");this.dd=this.Wl("zoom-on");this.Cw=d;this.zK=H("lhid_zoom");this.xF=b;if(Vh("_lh_hq"))this.Li=j;this.QO()};t(br,X);o=br.prototype;o.M=md("gphoto.FeedNavBar");
o.ld=0;o.Li=d;o.Wl=function(a){var b=new Rg(I("div",{"class":"goog-inline-block SPRITE_"+a,id:"lhid_"+a}),Aj.wa());b.wc("lhcl_"+a);this.H(b);return b};o.kM=function(a){var b=I("div",{"class":"goog-inline-block lhcl_"+a,id:"lhid_"+a}),c=new Rg(b,Aj.wa());c.wc("lhcl_"+a);this.H(c);return c};o.Ig=function(a,b){var c=this.xu[a.F()];if(!c){c=[];this.xu[a.F()]=c}c.push(b)};
o.ea=function(a){X.prototype.ea.call(this,a);H("lhid_leftnav");var b=H("lhid_midnav"),c=H("lhid_rightnav");this.$n.G(b);this.Cn.G(b);this.Eo.G(c);this.dd.G(c);this.yK=H("lhid_zoom-on");this.jj.G(c);this.ij.G(c);this.Nh=H("lhid_searchbox")};
o.A=function(){X.prototype.A.call(this);this.k.e(this.$n,Y,this.Ex);this.k.e(this.Cn,Y,this.Dx);this.k.e(this.ij,Y,this.gY);this.k.e(this.jj,Y,this.iY);this.k.e(this.dd,Y,this.A0);this.k.e(this.Eo,Y,this.z0);this.k.e(this.gf,cr,this.wG);this.k.e(this.Q,Bm,this.aA);this.k.e(this.Q,Am,this.aA);this.k.e(this.cb,"key",this.pW);this.k.e(p,Yh,r(this.Bd,this,d));this.k.e(p,Zh,r(this.Bd,this,j));this.k.e(this.Nh,pe,this.Jn);this.k.e(this.Nh,oe,this.In);this.wG()};
o.pW=function(a){if(!(this.tU(a)||this.ld>0))if(cn){cn.P(d);cn=i;a.preventDefault()}else{switch(a.keyCode){case 37:case 74:case 80:a.preventDefault();this.Ex();return;case 39:case 75:case 78:a.preventDefault();this.Dx();return;case 13:if(_features.KEYBOARD_HELP){a.preventDefault();var b=this.Q.ya,c=this.Q.Vb-1;if(a.shiftKey)b>0?this.Ex():this.Fx();else b<c?this.Dx():this.Fx()}return;case 85:case 27:if(_features.KEYBOARD_HELP){a.preventDefault();this.Fx()}return;case 46:if(_features.KEYBOARD_HELP){a.preventDefault();
this.GO()}return}switch(a.charCode){case 47:if(_features.KEYBOARD_HELP){a.preventDefault();this.LP()}return;case 63:if(_features.KEYBOARD_HELP){a.preventDefault();en()}return;case 103:if(_features.KEYBOARD_HELP){a.preventDefault();this.Dr()}return}}};o.NF=0;o.tU=function(a){if(a.altKey||a.ctrlKey||a.metaKey)return j;var b=a.target.nodeName.toLowerCase();if(b=="button"||b=="input"||b=="select"||b=="textarea")return j;if(a.repeat){var c=s();if(c-this.NF>300)this.NF=c;else return j}return d};
o.K=function(){this.k.Y();X.prototype.K.call(this)};o.vs=function(a,b){var c=this.xu[a.F()];if(c){var e=0,f=0;for(;f<c.length;++f)c[f]&b&&++e;W(a.j,e==c.length)}};o.wG=function(){var a=this.gf.la;if(!(a==0)){var b=!!(a&4);this.Bd(b);this.Wd(r(function(c){this.vs(c,a)},this));this.aA();this.Qq&&W(this.Qq,b);if(this.lp&&this.GB){if(b){this.lp.href=window.location.href.replace(/#.*$/,"#");Q(this.lp,R,function(c){c.preventDefault();dr()});N(this.GB,"View All")}W(this.lp,b)}this.setZoom(d)}};
var dr=function(){qk.Js("1up_list");window.location.href=window.location.href.replace(/#.*$/,"#")};o=br.prototype;o.show=function(a){this.j&&W(this.j,a)};o.Bh=function(a){this.setZoom(d);var b=this.Q.ya,c=Li(b+a,0,this.Q.Vb-1);if(b!=c){qk.Js("1up_1up");this.M.U("Navigate to index "+c);this.Q.mj(c)}};
o.aA=function(){var a=this.Q.ya;this.jP(a);this.Qq&&N(this.Qq,gp(a+1,this.fa.Ta().$s()));var b=this.fa.mf();if(b&&b!=Kl){var c=b.Fa(),e=b.Sm();this.dd.Va(!c);var f=b.DF();this.ij.Va(!this.xF&&f&&!c);this.jj.Va(!this.xF&&f&&!c);if(c){W(this.ij.f(),d);W(this.jj.f(),d);W(this.dd.f(),d)}else{var g=this.gf.la;this.vs(this.ij,g);this.vs(this.jj,g);this.vs(this.dd,g)}W(this.Eo.f(),c&&e);if(c){this.iK();var h="stdvideo";if(e&&this.Li)h="hqvideo";this.gf.dispatchEvent(h)}}};o.QO=function(){this.$n.Va(d);this.Cn.Va(d)};
o.Bd=function(a){if(a&&this.ld>0)this.ld--;else a||this.ld++};o.jP=function(a){this.$n.Va(a>0);this.Cn.Va(a+1<this.Q.Vb)};o.Ex=function(){this.Bh(-1)};o.Dx=function(){this.Bh(1)};o.Fx=function(){window.location.href=ip(window.location.href)+"#"};o.gY=function(){this.fo("ROTATE270")};o.iY=function(){this.fo("ROTATE90")};
o.fo=function(a){this.setZoom(d);if(!this.fa.mf().Fa()){this.gf.dispatchEvent("rotate");var b=this.fa.mf(),c=_selectedPhotosPath+"&"+["selectedphotos="+b.id,"optgt="+a,"uname="+b.user.name,"aid="+b.album.id,"noredir=true"].join("&");eg(c,r(br.prototype.gw,this),"POST")}};o.A0=function(){this.setZoom(!this.Cw)};
o.setZoom=function(a){if(!(a==this.Cw)){W(this.zK,a);if(a){if(!this.fa.mf().Fa()){N(this.zK,"Magnified view, click on image and drag to move.");lp(this.yK,"SPRITE_zoom-on","SPRITE_zoom-off");this.gf.dispatchEvent("zoomin")}}else{lp(this.yK,"SPRITE_zoom-off","SPRITE_zoom-on");this.gf.dispatchEvent("zoomout")}this.Cw=a}};o.z0=function(){this.Li=!this.Li;this.iK();this.gf.dispatchEvent(this.Li?"hqvideo":"stdvideo");this.Li?Uh("_lh_hq","1"):Xh("_lh_hq")};
o.iK=function(){N(this.Eo.f(),this.Li?"View standard video":"View HQ video")};o.gw=function(){this.fa.mf().reload(r(br.prototype.ZS,this,j))};o.ZS=function(a){this.gf.dispatchEvent({type:re,X2:!!a})};o.GO=function(){var a=this.fa.mf();a&&a.Lp()};o.LP=function(){H("lhid_searchbox").focus()};o.Jn=function(){this.Bd(d)};o.In=function(){this.Bd(j)};o.Dr=function(){this.gf.Dr()};var fr=function(a,b,c,e,f){X.call(this);this.J=new er(a,b,c,e,f);this.i=new T(this);this.NJ=new T(this);this.gb=new Xq(this.J,this)};t(fr,X);o=fr.prototype;o.A=function(){X.prototype.A.call(this);this.J.Rc&&this.i.e(this.J.Rc,"changed",this.uA);if(this.J.Qa){this.i.e(this.J.Qa,cr,this.uA);this.i.e(this.J.Qa,jm,this.J0)}this.bu=H("lhid_feedToolbar");this.Fw()};
o.Fw=function(){var a=this.J&&this.J.Qa?this.J.Qa.Ta():i;if(a&&!a.isLoaded()){if(!this.CA){this.CA=j;this.i.e(a,[Fl,"noitems"],this.Fw)}}else{if(this.CA){this.CA=d;this.i.ca(a,[Fl,"noitems"],this.Fw)}W(this.bu,d);if(this.J.Qa){var b=this.J.Qa.la;this.J.Le=this.J.Rc.Yd();this.Nb=b;this.WH()}else{this.Nb=-1;this.WH()}this.uA();this.ic&&W(this.bu,j)}};o.nT=function(a){var b=a.target.Ed().id;b||(b=a.target.F());this.gb.CR(b,this.J,this.qO,this.J.Qa?this.J.Qa.la:0,this.J.Rc?this.J.Rc.Fi():"")};
o.WH=function(){if(!!this.J.Le){var a=this.gb.gb;if(!this.ic){this.ic=new Jj;this.ic.G(this.bu);Va(a,function(b){this.ic.H(b.$e(),j);var c=new th(Gj.wa());this.ic.H(c,j);b.d_(c)},this);this.ic.Af(d);this.NJ.e(this.ic,Y,this.nT)}}};o.uA=function(){if(!!this.ic){var a=this.gb.gb;Va(a,function(b){b.na(this.J)},this)}};o.K=function(){if(this.ic){this.ic.o();this.ic=i}this.i.Y();this.NJ.Y();this.Nb=this.J.Le=i;X.prototype.K.call(this)};o.J0=function(a){this.qO=a.target};
var er=function(a,b,c,e,f){if(c){this.Rc=c.Ba;this.album=c.Ab}this.Le=a;if(!this.Le&&this.Rc)this.Le=this.Rc.Yd();this.Qa=b;if(e){this.Vt=ka(e)?e:e.name;this.BB=ka(e)?"":e.Tp}this.$G=f||i};er.prototype.rK=function(){return this.Qa?!!(this.Qa.la&1):this.Vt&&this.$G?this.Vt==this.$G:d};var gr=function(a,b,c){Id.call(this);this.Lb=a;this.Ec=b;this.fa=c;this.k=i;if(this.fa!=i){this.k=new T(this);this.k.e(this.fa,jm,this.IZ)}};t(gr,Id);gr.prototype.IZ=function(a){var b=a.Yg;this.Ec!=i?this.Ec.uf(b,r(this.NI,this)):this.NI(b)};gr.prototype.NI=function(a){this.Lb.B(a)};gr.prototype.C=function(){gr.b.C.call(this);this.k&&this.k.o()};var hr=function(a,b,c,e){Xg.call(this,i,j);this.u={location_id:$("input"),lat_id:$("input"),lon_id:$("input"),latSpan_id:$("input"),lonSpan_id:$("input"),removeGeo_id:$("input"),spin_id:$("img"),results_id:$("div"),map_id:$("map"),geocodefunc:$("func"),cleargeofunc:$("func"),lat:a.lat,lon:a.lon,location:c};if(a.bb){this.u.latSpan=a.bb.latSpan;this.u.lonSpan=a.bb.lonSpan}this.Ya=a;this.dq=e?e:[];if(b)this.Ye=b;this.vW()};t(hr,Xg);o=hr.prototype;o.sF=d;
o.wR=function(){var a;if(this.Ya)a=this.Ya.user;a||(a=_user);return a};o.oQ=function(){var a;if(this.Ya)a=this.Ya.album;a||(a=_album);return a};o.o=function(){if(!this.pb()){Xg.prototype.o.call(this);if(this.sF){vi(this.u.geocodefunc);vi(this.u.cleargeofunc);this.Bb.o();this.Bb=i;ge(this.Td)}this.u=i}};o.Ka=function(){return this.pb()?d:Xg.prototype.Ka.call(this)};
o.vW=function(){ji(this.Rv(),ri("<h1>{title}</h1>",{title:"Map your photos"}));ji(this.Sa(),ri('<div class="lhcl_geophotoDialog"><b>Find location</b> <input type="text" class="lhcl_input" name="location" id="{location_id}" value="{location}" maxlength="100" /><button class="lhcl_locationsearchbutton" onclick="_d(\'{geocodefunc}\')">Go</button><img src="img/spin.gif" style="visibility:hidden; margin: 0 4px" id="{spin_id}" /><br /><div class="lhcl_align_right"><a href="javascript:_d(\'{cleargeofunc}\')">Remove from map</a><br /></div><input type="hidden" name="lat" id="{lat_id}" value="{lat}" /><input type="hidden" name="lon" id="{lon_id}" value="{lon}" /><input type="hidden" name="latspan" id="{latSpan_id}" value="{latSpan}" /><input type="hidden" name="lonspan" id="{lonSpan_id}" value="{lonSpan}" /><input type="hidden" name="removegeo" id="{removeGeo_id}" value="false" /><table width="720px" class="lhcl_geoResultTable"><tr><td width="20%" valign="top"><div id="{results_id}"></div></td><td width="80%"><div id="{map_id}" class="lhcl_mapBorder lhcl_smallMap"></div></td></tr></table><br /></div>',this.u));
var a=new Yg;a.Z("save","Save location",d);a.Z(bh,Hd,d,j);this.he(a);this.P(j);var b=H(this.u.location_id);b.focus();b.select();var c={id:this.Ya.id,lat:this.Ya.lat,lon:this.Ya.lon};if(this.Ya.bb){var e=this.Ya.bb;c.bb={ll:{lat:e.ll.lat,lon:e.ll.lon},ur:{lat:e.ur.lat,lon:e.ur.lon}}}this.Bb=new Mn(c,"photo",H(this.u.map_id),H(this.u.results_id),H(this.u.location_id),H(this.u.lat_id),H(this.u.lon_id),H(this.u.latSpan_id),H(this.u.lonSpan_id),H(this.u.removeGeo_id),{J2:eh("Find location"),n2:fh},6,10,
this.u.spin_id,j);ui(this.u.geocodefunc,r(this.Bb.Em,this.Bb));ui(this.u.cleargeofunc,r(this.Bb.nu,this.Bb));!(c.lat&&c.lon)&&this.dq.length>0&&this.Bb.AE(this.dq);this.sF=j;this.fc();this.Td=Q(this,$g,r(this.Hi,this));var f=document.getElementsByName("save");f&&V(f[0],"font-weight","bold");$h(this,Yh)};
o.Hi=function(a){if(a.Da=="save"){var b=H(this.u.lat_id).value,c=H(this.u.lon_id).value,e=H(this.u.latSpan_id).value,f=H(this.u.lonSpan_id).value,g=H(this.u.removeGeo_id).value;if(b&&c||g=="true"&&this.Ya.lat&&this.Ya.lon){var h=this.wR(),l=this.oQ(),m=["uname="+h?h.name:"","aname="+l?l.name:"","iid="+this.Ya.id,"lat="+b,"lon="+c,"latspan="+e,"lonspan="+f,"removegeo="+g,"noredir=true"].join("&"),n;eg(_updatePhotoPath,r(this.Y0,this,this.Ya,b,c,this.Bb.rQ(),this.Ye),"POST",m,n)}}$h(this,Zh)};
o.Y0=function(a,b,c,e,f,g){if(g.target.Bk()){if(b&&c){a.lat=b;a.lon=c;a.bb=e}else{a.lat=i;a.lon=i;a.bb=i}f&&f()}};var ir=function(a,b,c,e){lm.call(this,e);this.Yb=a;this.Aa=b;this.Ab=c};t(ir,lm);o=ir.prototype;o.Vx=d;o.M=md("gphoto.MapBox");o.r=function(){ir.b.r.call(this);F(this.j,"lhcl_sidebox");W(this.j,d)};o.A=function(){ir.b.A.call(this)};o.C=function(){ir.b.C.call(this);this.Xk&&this.Xk.o();this.tf&&this.tf.o();delete this.Tn;delete this.fn;delete this.Xl;delete this.gp;delete this.Bg};
o.G=function(a){ir.b.G.call(this,a);this.Bg=I("div",{"class":"lhcl_title"});K(this.j,this.Bg);this.Tn=I("div",{"class":"lhcl_mapBorder lhcl_smallMap"});this.fn=I("div",{"class":"lhcl_mapBorder lhcl_smallMap"});K(this.j,this.Tn);K(this.j,this.fn);var b=J();K(this.j,b);this.Xl=I("span",{tabindex:0,"class":"lhcl_fakelink lhcl_geoLink",style:"display: none;"});b.appendChild(this.Xl);this.k.e(this.Xl,P,this.RL);this.rB=J("span");this.gp=I("a",{href:"#","class":"lhcl_geoLink",style:"display: none;"},Xe("SPRITE_map-sm lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"),
this.rB);b.appendChild(this.gp);if(this.Ab){this.GF=I("a",{href:this.Ab.kmlLink,"class":"lhcl_geoLink",style:"display: none;"},Xe("SPRITE_earth-sm lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"),"View in Google Earth");b.appendChild(this.GF)}this.IC=i};o.B=function(a){ir.b.B.call(this,a);if(a){this.dK(a);this.Bg.innerHTML=a.Fa()?"Video Location":"Photo Location"}};o.ie=function(a,b){if(this.Nb!=a){this.Nb=a;if(this.Nb==0)this.V0(b||i);else this.Nb==2&&W(this.j,d)}};
o.V0=function(a){if(this.Nb==0){if(this.T!=a){this.k.e(a,[Fl,El],this.$v);this.T=a}if(this.Vx)if(this.tf){this.Qo(this.tf.NE());this.oA()}else this.Qo(d);else a.isLoaded()&&this.$v();this.Bg.innerHTML="Photo Locations"}};o.$v=function(){if(this.Nb==0){var a=[],b=0;for(;b<this.T.Ud();b++){var c=this.T.ze(b);c&&c.yh()&&a.push(c)}var e=a.length>0;this.Qo(e);if(e){if(!this.tf)this.tf=new wj(this.fn,3);var f={};f.photos=a;this.tf.Ew(3,f)}this.oA(e);this.Vx=j}else this.Vx=d};
o.dK=function(a){if(this.Nb==1){this.M.U("Photo geotag: "+a.yh());if(a.yh()){if(!this.Xk)this.Xk=new wj(this.Tn,2);this.Qo(j);this.Xk.XY(a)}else this.Qo(d);this.oA()}};o.Qo=function(a){nl(this.g,this.Aa)&&this.Yb=="a"&&this.Nb==1?W(this.j,j):W(this.j,a);if(this.Nb==1){W(this.Tn,a);W(this.fn,d);a&&this.Xk&&this.Xk.Kh()}else{W(this.fn,a);W(this.Tn,d);a&&this.tf&&this.tf.Kh()}};
o.KD=function(a){if(a.yh()){var b={lat:a.lat,lon:a.lon,pM:a.location||""};if(a.bb){var c=a.bb;b.bb={ll:{lat:c.ll.lat,lon:c.ll.lon},ur:{lat:c.ur.lat,lon:c.ur.lon},latSpan:c.latSpan,lonSpan:c.lonSpan}}return b}return i};
o.oA=function(a){if(!(this.Nb==2)){var b=this.Nb==0,c=this.Yb=="a",e=this.g,f;if(ba(a))f=a;else var f=!b?e.yh():this.tf&&this.tf.NE();if(c){var g=!b&&nl(this.g,this.Aa);W(this.Xl,g);if(g){var h;h=f?"Edit location":"Add location";N(this.Xl,h)}W(this.GF,b&&f)}var l=d,m,n;if(c&&b){if(this.Ab){n=this.Ab.tr;if(nl(this.g,this.Aa)){l=j;m=f?"View map":"Create album map"}else{m="View map";l=f}}}else if(!b){var q=e.hb();if(q&&q.Gp){l=f;n=q.tr?q.tr:"/lh/albumMap?uname="+e.pd().name+"&aid="+q.id;m="View album map"}}if(l){this.gp.href=
n;N(this.rB,m)}W(this.gp,l)}};o.RL=function(){var a=this.g;if(nl(a,this.Aa)){var b=this.IC,c;if(!a.yh()&&!b){var e=a.hb();if(!b&&e&&e.yh()){b=this.KD(e);c=e.kn||""}}if(this.wv){this.wv.o();this.wv=i}this.wv=new hr(a,r(this.QL,this,a),c,b?[b]:i)}};o.QL=function(a){if(nl(this.g,this.Aa)){this.IC=a.yh()?this.KD(a):i;this.dK(a);this.$v()}a.reload(function(){})};var kr=function(a){Xg.call(this,"gphoto-issueDialog",j);this.J=a;var b=new Yg;b.Z("ok","Send",j,d);b.Z(bh,"Discard",d,j);this.he(b);this.i=new T(this);var c=this.J.fq(),e=c.nickname||c.name,f=e+" sent you a message from Google Photos",g=e+" sent you a message from Picasa Web Albums";this.Jb={form:jr(),thumbnail:jr(),uE:jr(),message:jr(),aH:jr(),sender:jr(),oJ:jr(),JG:jr(),IG:jr(),HG:jr()};this.ub('<table class="gphoto-mailheader"><tbody><tr><td class="label">To:</td><td class="ownernickname" id="'+
this.Jb.aH+'"></td></tr><tr><td class="label">From:</td><td class="authuser" id="'+this.Jb.sender+'"></td></tr><tr><td class="label">Subject:</td><td class="subject">'+C(_features.PWA_NEWUI?g:f)+'</td></tr></tbody></table><div class="message-area"><div class="preview-area"><div class="thumbnail" id="'+this.Jb.thumbnail+'"></div><div class="message-content"><p class="greeting" id="'+this.Jb.uE+'"></p><p class="message" id="'+this.Jb.message+'"></p><form id="'+this.Jb.form+'"><ul><li><input name="noshare" id="'+
this.Jb.JG+'" type="checkbox" checked>Please don\'t share this with anyone</input></li><li><input name="nopublic" id="'+this.Jb.IG+'" type="checkbox">Please don\'t make this public</input></li><li><input name="nonametags" id="'+this.Jb.HG+'" type="checkbox">Please don\'t display name tags</input></li></ul></form><p class="closing">Please contact me if you would like any additional information. Thank you for your consideration.</p><p class="signature" id="'+this.Jb.oJ+'"></p></div></div><p class="footer">Note: This request will be sent from your email address to allow additional correspondence</p></div>')};
t(kr,Xg);var lr=0,jr=function(a){return"notifyDlg_"+(a?a:"")+lr++};o=kr.prototype;o.fu=j;
o.A=function(){kr.b.A.call(this);if(!this.uv){var a=this.J.fq(),b=a.nickname||a.name,c=Bb(a.Tp);this.uv=H(this.Jb.form);var e=H(this.Jb.sender);N(e,b+(c?" ("+c+")":""));var f=H(this.Jb.oJ);N(f,b);this.gm=[];this.gm.push(H(this.Jb.JG));this.gm.push(H(this.Jb.IG));this.gm.push(H(this.Jb.HG));this.qI=this.gb.tQ("ok")}this.i.e(this,"dialogselect",this.Hi);v(this.gm,r(function(g){this.i.e(g,["change","propertychange"],this.Z0)},this))};
o.Z0=function(){(this.fu=ya(this.gm,function(a,b){return a+(b.checked?1:0)},0)>0)?this.qI.removeAttribute("disabled"):this.qI.setAttribute("disabled",j)};o.open=function(a){if(a){this.N||this.G();this.B(a);this.P(j);$h(this,Yh)}else alert("Error. Invalid item.")};
o.B=function(a){this.g=a;var b=this.g.pd(),c=Bb(b.nickname||""),e=H(this.Jb.aH);N(e,c);var f=H(this.Jb.thumbnail),g=H(this.Jb.uE),h=H(this.Jb.message);N(g,"Hi "+(c+","));var l,m,n;if(a.type=="Album"){l="album";m="aid";var q=new y(136,136),u=a.Fm(),x="img/picasalogo.gif";x=Me(u.url||x,q,j);n={url:x,height:String(q.height),width:String(q.width)}}else{l="photo";m="iid";if(a.type=="Photo"&&a.Fa())l="video";n=a.thumbnail(3)}if(this.Fq)sc(this.Fq);else{this.Fq=I("div",{style:"display: none;"});K(this.uv,
this.Fq)}K(this.Fq,I("input",{type:"hidden",name:m,value:a.id}));N(h,"I would like to make the following request regarding this "+(l+"."));sc(f);var z=I("img",{src:n.url,width:n.width,height:n.height});K(f,z);var G=a.Be(),M=I("div",{"class":"title",title:G});N(M,Bb(mp(G,16)));K(f,M)};o.Hi=function(a){if(a.Da=="ok"){a.stopPropagation();if(!this.fu)return d;var b=Wo(this.uv),c=this.J.Gr;eg(c,undefined,"POST",b)}this.g=i;return $h(this,Zh)};var mr=function(a,b,c,e){this.V=a;this.Ya=i;this.Pa=J("div");W(this.Pa,!e);b.appendChild(this.Pa);this.Ze=J("div");W(this.Ze,!e);b.appendChild(this.Ze);this.c3=$("signinstr");this.AD=$("addcomment");ui(this.AD,r(this.WK,this));this.YW=r(this.oL,this);this.EO=r(this.RK,this);this.oK=$("viewAll");ui(this.oK,r(this.EL,this));this.Pu=$("deleteCommentFunc");ui(this.Pu,r(this.QK,this));this.sv=$("focusFunc");ui(this.sv,r(this.XK,this));this.PB=_authuser.user;this.wz=this.vz=i},nr=/.+\/commentid\/(\d+).*/i;
mr.prototype.show=function(a){W(this.Pa,a);W(this.Ze,a)};mr.prototype.jc=function(){this.pL();this.Pa&&L(this.Pa);this.Ze&&L(this.Ze);vi(this.AD);vi(this.oK);vi(this.Pu);vi(this.sv);for(var a in this)this[a]=i};mr.prototype.pL=function(){this.Pa.innerHTML="&nbsp;";this.Ze.innerHTML="";this.Cm&&vi(this.Cm);this.Bo&&vi(this.Bo)};mr.prototype.eB=function(a,b){this.Ya=a;if(b){this.V_=b.vz;this.nJ=b.wz}this.CL(a)};
mr.prototype.CL=function(a){this.ce=a.F();var b=a.Pa;this.Pa.innerHTML="&nbsp;";if(b&&b.length>0){var c=['<div style="width:99%"><table class="lhcl_comments">'],e=this.Ya?this.Ya.user:i,f=_authuser.name,g=e?e.name==f:_authuser.isOwner,h=[],l=[],m=0;for(;m<b.length;m++){var n=b[m],q=n.author[0],u=q.user,x=hj(new lj(2000),n.published),z={lhui_date:C(Sh(10,x)),lhui_ownerclass:f==u?"lhcl_ownercomment":"",lhui_comment:or(n.content),portrait:q.thumbnail,nickname:pr(n)},G=q.uri;if(G){z.lhui_linkstart='<a href="'+
G+'">';z.lhui_linkend="</a>"}if(g||f==u)z.lhui_deletelink=qi('<span class="lhcl_fakelink" tabindex="0" onclick="_d(\'{lhui_func}\', \'{lhui_commentId}\')">delete</span>',{lhui_commentId:n.id.match(nr)[1],lhui_func:this.Pu});if(_features.COMMENT_TRANSLATION){var M=$("sourceComment")+m,Z=$("translateComment")+m;z.lhui_commentBoxId=M;z.lhui_translationBoxId=Z;h[m]=M;l[m]=Z;c.push(qi('<tr class="{lhui_ownerclass}" ><td rowspan="2" class="lhcl_commentimg">{lhui_linkstart}<img src="{portrait}" />{lhui_linkend}</td><th width="100%">{lhui_linkstart}{nickname}{lhui_linkend}</th><th class="lhcl_commentdate">{lhui_date}</th><th>{lhui_deletelink}</th></tr><tr><td colspan="3" class="lhcl_commentblock"> <p id="{lhui_commentBoxId}" class="lhcl_commenttext">{lhui_comment}</p> <p id="{lhui_translationBoxId}" class="lhcl_translatedtext"></p> </td></tr>',
z))}else c.push(qi('<tr class="{lhui_ownerclass}" ><td rowspan="2" class="lhcl_commentimg">{lhui_linkstart}<img src="{portrait}" />{lhui_linkend}</td><th width="100%">{lhui_linkstart}{nickname}{lhui_linkend}</th><th class="lhcl_commentdate">{lhui_date}</th><th>{lhui_deletelink}</th></tr><tr><td colspan="3" class="lhcl_oldcommenttext">{lhui_comment}</td></tr>',z))}c.push("</table></div>");this.Pa.innerHTML=c.join("");if(_features.COMMENT_TRANSLATION){var m=0;for(;m<b.length;m++){var Ia=$("translateScript")+
m,Ob="http://ajax.googleapis.com/ajax/services/language/translate?key=internal-picasaweb&"+["q="+B(b[m].content),"v=1.0","langpair=%7C"+_LH.locale.substring(0,2),"callback=commentTranslated","context="+Ia+"."+h[m]+"."+l[m]].join("&"),jd=J("script");jd.type="text/javascript";jd.src=Ob;jd.id=Ia;K(document.body,jd)}}}this.ZK(b?b.length:0)};
var or=function(a){a=nb(C(a));a=a.replace(/\n\n+/g,"\n\n").replace(/\n/g,"<br>");return Uj(a)},qr=function(a){return a.replace(/[\\\-\]\^[!@#$%&*()<>.,?\/]/g,"").replace(/\xa0|\s/g,"")},pr=function(a){var b=a.author[0];return Uj(C(b.nickname||b.name)||"",40)};
ta("commentTranslated",function(a,b,c){var e=a.split(/\./);if(!(e.length!=3)){var f=H(e[0]);f!=i&&L(f);var g=H(e[1]),h=H(e[2]);if(h!=i&&c==200){var l="";if(g!=i)l=qr(Ic(g));var m=Bb(b.translatedText);if(b.detectedSourceLanguage!=_LH.locale.substring(0,2)&&m.replace(/[\\\-\]\^[!@#$%&*()<>.,?\/]/g,"").replace(/\xa0|\s/g,"")!=l){h.setAttribute("title",qh);N(h,m);return}}h!=i&&L(h)}});o=mr.prototype;
o.ZK=function(a){sc(this.Ze);if(this.PB){if(a>=200){this.Ze.innerHTML="Commenting is closed for this photo.";return}this.Cm=$("commentForm");this.Gl=$("commentText");this.Bo=$("commentLength");this.r0=$("submitButton");var b=qi('<form class="lhcl_commentform" id="{lhui_formId}" action="javascript:_d(\'{lhui_formId}\')"><div class="lhcl_title">Add a comment</div><textarea id="{lhui_id}"onfocus="_d(\'{lhui_focusFunc}\', this)" onkeydown="_d(\'{lhui_sizeId}\', this)" onkeyup="_d(\'{lhui_sizeId}\', this)"></textarea><table><tr><td width="100%"><div id="{lhui_sizeId}">&nbsp;</div></td><td><input type="submit" id="{lhui_submitId}" value="Post Comment"  /></td></tr></table></form>',
{lhui_formId:this.Cm,lhui_id:this.Gl,lhui_sizeId:this.Bo,lhui_submitId:this.r0,lhui_focusFunc:this.sv})}else{this.U_=$("signInBox");var c=this.YK(_authuser),b=qi(rr,{lhui_signInBoxId:this.U_,signInStr:c})}this.Ze.innerHTML=b;this.PB&&Q(H(this.Gl),R,function(e){e.target.blur();e.target.focus()});this.fD=d;ui(this.Cm,r(this.nL,this));ui(this.Bo,r(this.uL,this))};
o.nL=function(){var a=H(this.Cm),b=H(this.Gl);if(!!(b&&a)){var c=ob(b.value);if(c)if(c.length>512)alert(zd);else{var e=["uname="+B(this.Ya?this.Ya.user.name:_user.name),"aname="+B(this.Ya?this.Ya.album.name:_album.name),"iid="+this.ce,"AddComment="+B(c),"noredir=true"],f=0;for(;f<a.elements.length;f++){var g=a.elements[f];g.disabled=j;g.blur()}this.ty=this.ce;this.xN=c;eg(_addCommentPath,this.YW,"POST",e.join("&"))}else alert(Ad)}};
o.oL=function(a){if(Xj(a)){var b=H(this.Gl);if(b)b.value=this.xN}else this.V.SA(this.ty,j)};o.QK=function(a){if(!!confirm(Bd)){var b=["uname="+B(this.Ya?this.Ya.user.name:_user.name),"mode=delete","cid_"+a+"=on","iid="+this.ce,"noredir=true"];this.ty=this.ce;eg(_selectedCommentsPath,this.EO,"POST",b.join("&"))}};o.RK=function(){this.V.SA(this.ty,j)};
o.uL=function(a){var b=H(this.Bo);if(!!(b&&a))if(a.value.length>480){var c=a.value.length,e=J("span",i,nh(c,512));if(c>512)e.style.color="red";ji(b,e)}else b.innerHTML=""};o.EL=function(){window.scrollTo(0,sf(this.Pa)-50)};o.WK=function(){window.scrollTo(0,sf(this.Ze)-50);if(this.Gl){var a=H(this.Gl);a&&!a.disabled&&a.focus()}};o.XK=function(a){if(!this.fD){a.value="";a.style.color="#000";this.fD=j}};
o.YK=function(a){return typeof a.user=="undefined"&&typeof a.isLoggedIn!="undefined"?lh(this.nJ):mh(this.V_,this.nJ)};var rr='<div id="{lhui_signInBoxId}" class="lhcl_toolbox lhcl_photoCommentSignIn"><div class="lhcl_tools"><b>'+yd+"</b><div>{signInStr}</div></div></div>";var sr=function(a,b){this.va=this.pc=d;if(b=="en_US")b="";this.HU=b?"__"+b.toLowerCase():"";var c=r(function(e){this.va=d;this.pc=j;a(e)},this);ta("PHOTO_PICKER_INIT_FUNCTION",c)};sr.prototype.WU=function(){if(this.va)return d;this.va=j;if(!this.pc){var a=U.jI()+"lh_picker_h"+this.HU+".js",b=document.createElement("script");b.src=a;ta("PHOTOPICKER_STATIC_PATH",U.g0());document.body.appendChild(b);return d}return j};
var tr=function(a,b,c,e,f){var g=b?b.mh().url():"",h=p.createPicasaPicker({parent:i,callback:f,userId:a,streamId:"pwa",hl:e,imgmax:"400",thumbsize:"288",title:c,urlEnabled:0,eUrl:"",dpUrl:"",imagePickOnly:1,uploadAlbumSelect:0,defaultAlbumOnly:1,transport:"xhr",defaultAlbumFeedUrl:g,url:"/lh/photopicker"});h.showPicker=h.showPicker;h.o=h.dipsose;h.P=h.setVisible;return h};var ur=function(a,b,c,e){bq.call(this,a,b,c,e)};t(ur,bq);var vr={nn:-2,jV:26,DW:0,EW:0,Vo:1.5,CT:1};o=ur.prototype;o.width=hl[dq]*vr.Vo+vr.nn;
o.r=function(){ur.b.r.call(this);this.qg.innerHTML='<div class="goog-icon-list-searchicon-meta-title"></div><div class="goog-icon-list-searchicon-meta-by"></div><div class="goog-icon-list-searchicon-meta-snippet"></div><div class="goog-icon-list-searchicon-meta-link"></div>';this.ux=this.qg.firstChild;this.sx=this.ux.nextSibling;this.tx=this.sx.nextSibling;this.sG=this.qg.lastChild};o.Ph=function(a){var b=ur.b.Ph.call(this,a);this.width=hl[dq]*vr.Vo+vr.nn;return b};
o.pA=function(){if(this.g){var a=mp(this.g.hb().title,24);N(this.ux,a);var b=this.g.user,c=mp(b.nickname,24);this.sx.innerHTML=qi('<span>{bylinetext} </span> <a href="{gallerylink}">{gallerynickname}</a>',{bylinetext:"By",gallerylink:"/"+b.name,gallerynickname:C(c)});this.tx.innerHTML=this.g.sJ;W(this.tx,!mb(this.g.sJ));var e=this.g.hb().link;this.sG.innerHTML=this.g.G0?qi('<a href="{albumLink}"> [{moremessage}]</a>',{albumLink:e,moremessage:"More from this album"}):""}};
o.eC=function(){this.ux.innerHTML="";this.sx.innerHTML="";this.tx.innerHTML="";this.sG.innerHTML=""};var wr=function(a){this.nb=a;this.Ye=r(this.wP,this)};o=wr.prototype;o.aq=d;o.Nr=1;o.gB=0;o.Gt=0;o.Iu=0;o.Qz=0;o.Ns=0;o.cD=0;o.stop=function(){this.aq&&ap(this.Ye);this.aq=d};o.ul=function(a){this.Nr=Li(a,0,1);zf(this.nb,E?Math.min(this.Nr,0.99):this.opacity);V(this.nb,"visibility",this.Nr?"":"hidden")};
o.ag=function(a,b){a=Li(a,0,1);var c=this.Nr;this.gB=c;this.Gt=a;this.Iu=a-c;var e=s();this.Qz=e;this.Ns=e+Math.abs(this.Iu)*b;this.cD=this.Ns-e;if(this.Ns<=this.Qz){this.stop();this.ul(this.Gt)}else{this.aq||bp(this.Ye);this.aq=j}};o.wP=function(a){var b=this.Gt;if(a<this.Ns)b=(a-this.Qz)/this.cD*this.Iu+this.gB;else this.stop();this.ul(b)};var Ar=function(a){vj.Wh(this);this.V=a;var b={lhf_prev:$("Previous"),lhf_next:$("Next"),lhf_exit:$("Exit"),lhf_play:$("Play"),lhf_stop:$("Pause"),lhf_fast:$("Faster"),lhf_slow:$("Slower"),lhf_show:$("ToggleCaptions")};ui(b.lhf_prev,r(a.$A,a));ui(b.lhf_next,r(a.WA,a));ui(b.lhf_exit,r(a.LA,a));ui(b.lhf_play,r(a.ZA,a));ui(b.lhf_stop,r(a.dB,a));ui(b.lhf_fast,r(a.yL,a));ui(b.lhf_slow,r(a.xL,a));ui(b.lhf_show,r(this.BL,this));this.CN=b;this.Tm=new Of(this.RA,0,this);var c=ri(xr,{});W(c,d);K(document.body,
c);this.zh=c;this.bV=new Of(this.vL,500,this);var e=new yr(document.body,"lhcl_slideshow_feedback");this.pv=e;this.ov=new Of(this.QA,2000,this);this.bq=new wr(e.Xu);this.bq.ul(0);var f=J("div");K(document.body,f);f.className="lhcl_slideshow_container";this.AN=f;var g=new yr(f,"lhcl_slideshow_caption");this.UB=g;this.iu=new wr(g.pC);this.iu.ul(0);var h=new yr(f,"lhcl_slideshow_controls");this.yu=h;this.mm=new wr(h.pC);this.mm.ul(0);if(!D){zf(g.em,0.7);zf(h.em,0.7);zf(e.em,0.7)}var l=J("table");K(h.vi,
l);var m=J("tbody");K(l,m);var n=J("tr");K(m,n);var q=J("td");K(n,q);this.R2=new zr(q,"img/slideshowprev.gif","img/slideshowprev_on.gif",'javascript:_d("'+b.lhf_prev+'")');var u=J("td");K(n,u);this.h0=new zr(u,"img/slideshowpause.gif","img/slideshowpause_on.gif",'javascript:_d("'+b.lhf_stop+'")');this.nH=new zr(u,"img/slideshowplay.gif","img/slideshowplay_on.gif",'javascript:_d("'+b.lhf_play+'")');this.nH.Zh(d);var x=J("td");K(n,x);this.I2=new zr(x,"img/slideshownext.gif","img/slideshownext_on.gif",
'javascript:_d("'+b.lhf_next+'")');var z=J("td");K(n,z);this.k2=new zr(z,"img/slideshowminus.gif","img/slideshowminus_on.gif",'javascript:_d("'+b.lhf_fast+'")');this.KJ=J("td");K(n,this.KJ);var G=J("td");K(n,G);this.d3=new zr(G,"img/slideshowplus.gif","img/slideshowplus_on.gif",'javascript:_d("'+b.lhf_slow+'")');var M=J("td");K(n,M);this.As=J("a");this.As.href='javascript:_d("'+b.lhf_show+'")';K(M,this.As);N(this.As,"hide captions");var Z=J("td");K(n,Z);this.i2=new zr(Z,"img/slideshowexit.gif","img/slideshowexit_on.gif",
'javascript:_d("'+b.lhf_exit+'")');this.MV=Q(document,le,this.hL,d,this)};o=Ar.prototype;o.Bs=j;o.zf=j;o.jc=function(){vj.Yh(this);ge(this.MV);this.ov.o();this.Tm.o();this.bV.o();this.mm.stop();this.iu.stop();this.bq.stop();var a=this.CN;if(a){vi(a.lhf_prev);vi(a.lhf_next);vi(a.lhf_exit);vi(a.lhf_play);vi(a.lhf_stop);vi(a.lhf_fast);vi(a.lhf_slow);vi(a.lhf_show)}this.UB.jc();this.yu.jc();this.pv.jc();L(this.zh);L(this.AN)};o.Zh=function(){this.Tm.stop();this.mm.ag(1,300);this.yG||this.PA(3000)};
o.PA=function(a){this.Tm.stop();a?this.Tm.start(a):this.RA()};o.tL=function(a){if(!a&&!this.zf){this.QA();this.ov.stop()}else if(!(a==this.zf)){this.h0.Zh(a);this.nH.Zh(!a);var b="pause";if(a){this.PA();b="play"}else this.Zh();N(this.pv.vi,b);Fi(this.pv.Xu);this.bq.ag(1,100);this.ov.start();this.zf=a}};o.QA=function(){Gi();this.bq.ag(0,300)};o.Bt=function(a){this.iu.ag(a?1:0,300)};o.cB=function(a){this.re=a;if(!!this.Bs)if(a){a=ki(a);this.UB.vi.innerHTML=a;this.Bt(j)}else this.Bt(d)};o.hh=function(){return this.yu.em.offsetHeight};
o.BL=function(){this.Bs=!this.Bs;var a="show captions";if(this.Bs){this.cB(this.re);a="hide captions"}else this.re&&this.re&&this.Bt(d);N(this.As,a)};o.Xo=function(a){N(this.KJ,"seconds: "+a/1000);this.Zh()};o.vL=function(){W(this.zh,j)};o.RA=function(){this.mm&&this.mm.ag(0,300)};o.hL=function(a){if(!(a.clientX==this.o1&&a.clientY==this.r1)){this.Zh();this.o1=a.clientX;this.r1=a.clientY;this.yG=d;var b=a.target;for(;b!=i;b=b.parentNode)if(b==this.yu.Xu){this.Tm.stop();this.yG=j;break}}};
var yr=function(a,b){vj.Wh(this);var c={fg:$("fg"),bg:$("bg"),outer:$("table"),inner:$("inner"),className:b};this.nb=ri('<table id="{outer}" class="{className}"><tr><td><div id="{inner}" style="position:relative;height:100%"><div id="{bg}" class="{className}_bg" style="position:absolute;z-index:2;width:100%;height:100%"></div><div id="{fg}" class="{className}_fg" style="position:relative;z-index:3;width:100%"></div></div></td></tr></table>',c);K(a,this.nb);this.pC=H(c.inner);this.Xu=H(c.outer);this.vi=
H(c.fg);this.em=H(c.bg);if(D)this.vi.onresize=r(this.qL,this)};yr.prototype.jc=function(){vj.Yh(this);if(this.vi)this.vi.onresize=i;L(this.nb)};yr.prototype.qL=function(){V(this.em,"height",this.vi.offsetHeight-1+"px")};
var zr=function(a,b,c,e){vj.Wh(this);var f={anchor:$("anchor"),off_id:$("button"),off_src:b,on_id:$("buttonOn"),on_src:c,mouseover:$("mouseover"),mousedown:$("mousedown"),mouseout:$("mouseout"),mouseup:$("mouseup")};this.u=f;this.nb=ri('<table><tr><td><a id="{anchor}" onmouseover="_d(\'{mouseover}\')" onmouseout="_d(\'{mouseout}\')" onmousedown="_d(\'{mousedown}\')" onmouseup="_d(\'{mouseup}\')"><img id="{on_id}" src="{on_src}" style="position:absolute;" ondragstart="return false" /><img id="{off_id}" src="{off_src}" onmousedown="return false" /></a></td></tr></table>',f);
K(a,this.nb);this.FL=H(f.anchor);this.FL.href=e;this.Ln=H(f.on_id);if(D)V(this.Ln,"visibility","hidden");else{this.$i=new wr(this.Ln);this.$i.ul(0)}ui(f.mouseover,r(this.jL,this));ui(f.mouseout,r(this.iL,this));ui(f.mousedown,r(this.gL,this));ui(f.mouseup,r(this.kL,this))};o=zr.prototype;o.jc=function(){vj.Yh(this);var a=this.u;vi(a.mouseover);vi(a.mouseout);vi(a.mousedown);vi(a.mouseup);this.$i&&this.$i.stop()};o.Zh=function(a){W(this.nb,a)};o.jL=function(){D||this.$i.ag(0.5,200)};
o.iL=function(){D?V(this.Ln,"visibility","hidden"):this.$i.ag(0,200)};o.gL=function(){D?V(this.Ln,"visibility",""):this.$i.ag(1,0)};o.kL=function(){D?V(this.Ln,"visibility","hidden"):this.$i.ag(0.5,0)};var xr='<div class="lhcl_slideshow_loading">'+gh+"</div>";var Br=function(a){Kq.call(this,a);this.Eq=[];this.ga=new Sq;this.H(this.ga);this.Fh=new Of(this.rM,0,this)};t(Br,Kq);var Cr=/^slideshow(\/\d*)?$/;o=Br.prototype;o.FG=1;o.ad=3000;o.Be=function(){return"Slideshow"};o.lj=function(){var a={ts:s()},b=this.J.Ba;if(b.JE())a.aid=b.gg();if(b.iq())a.isOwner=j;else{var c=b.Fd(),e=this.J.yd;if(c&&c.isOwner(e))a.isOwner=j}Vo().log(185,a)};
o.r=function(){Br.b.r.call(this);var a=document.body;this.oY=hf(a,"backgroundColor");V(a,"background","#000");var b=this.rE();this.pY=b.style.overflow;V(b,"overflow","hidden");var c=wc(document.body);for(;c;){if(c.style.display!="none"){W(c,d);this.Eq.push(c)}c=vc(c.nextSibling,j)}this.ga.G();this.hi=new Ar(this);this.hi.Xo(this.ad)};
o.A=function(){Br.b.A.call(this);this.i.e(this.Cd().Q,Am,this.RR);this.i.e(this.ga,"show",this.Aq);this.i.e(this.ga,["load","error"],this.qh);this.i.e(window,re,this.Eb);this.i.e(document,me,this.CS);ui("f",r(this.VK,this));this.lj();this.Yj(j)};o.K=function(){Br.b.K.call(this);this.Yj(d);this.hi.jc();for(;this.Eq.length;)W(this.Eq.pop(),j);V(document.body,"background",this.oY);V(this.rE(),"overflow",this.pY);vi("f")};o.o=function(){if(!this.pb()){Br.b.o.call(this);Ea(this.Eq)}};
o.B=function(a){Br.b.B.call(this,a);this.Eb();this.ga.B(a);this.g.Fa()&&this.Fh.stop()};o.na=function(a){this.J.Ba.et();var b=a.match(Cr)[1],c=0;if(ka(b)&&b.length>1){b=b.substr(1);var e=this.Ta().Jc,f=0;for(;f<e.length;f++)if(e[f].id==b){c=f;break}}this.aG(c)};o.rE=function(){return D?document.documentElement:document.body};o.Zp=function(a,b){var c=this.Cd().Q,e=c.ya;c.mj(b);this.M("entityLoaded: "+b+", oldIndex: "+e);e==b&&this.B(a.ze(b))};
o.RR=function(){var a=this.Cd().Q.ya;this.M("showing photo at: "+a);a<0?this.B(i):this.aG(a)};o.aG=function(a){var b=this.Ta();b&&b.load(a,1,r(this.Zp,this))};o.Aq=function(){};o.qh=function(){var a=this.Ta(),b=this.Cd().Q,c=b.ya,e=this.ba();e&&this.hi.cB(e.c);var f=Xo(c+(this.FG==1?1:-1),b.Vb);a&&a.load(f,1,r(this.dX,this))};o.dX=function(a,b){if(this.hy){vm().Qc(this.hy);this.hy=0}var c=a.ze(b);if(c){var e=c.xe();if(e){var f=new y(c.w,c.h),g=this.ga.YD(f);this.hy=wm(e,f,g,d,i)}}};
o.Bh=function(a){var b=this.Cd().Q,c=b.ya,e=Xo(c+a,b.Vb);this.FG=e>c?1:0;b.mj(e)};o.rM=function(){this.Bh(1);this.g&&!this.g.Fa()&&this.Fh.start(this.ad)};o.VK=function(a,b){this.zf&&a=="stateChanged"&&b.split(",")[1].indexOf("completed")>-1&&this.Fh.start(this.ad)};o.Yj=function(a){if(!(a==this.zf)){(this.zf=a)?this.Fh.start(this.ad):this.Fh.stop();this.hi.tL(a)}};o.Eb=function(){this.ga.ss(pc().height,j);this.ga.na()};
o.CS=function(a){var b=parseInt(String.fromCharCode(a.keyCode),10);if(!isNaN(b)&&b>=1&&b<=20){this.ad=b*1000;this.hi.Xo(this.ad);this.zf&&this.Fh.start(this.ad)}else switch(a.keyCode){case 85:case 27:this.LA();a.preventDefault();case 74:case 37:this.$A();a.preventDefault();break;case 75:case 39:this.WA();a.preventDefault();break;case 32:this.zf?this.dB():this.ZA();a.preventDefault();break}};o.kq=function(){var a;a=qk.Rm("ajax")?qk.get("ajax").get(String(qk.Lg)):qk.get(sk).get(tk).get("prt");return a.get("slideshow")};
o.$A=function(){this.Yj(d);this.Bh(-1)};o.WA=function(){this.Yj(d);this.Bh(1)};o.LA=function(){qk.Js("slideshow_list");this.Cd().xg("")};o.ZA=function(){this.Yj(j)};o.dB=function(){this.Yj(d)};o.yL=function(){this.ad=Math.max(this.ad-1000,1000);this.hi.Xo(this.ad);this.zf&&this.Fh.start(this.ad)};o.xL=function(){this.ad=Math.min(this.ad+1000,20000);this.hi.Xo(this.ad);this.zf&&this.Fh.start(this.ad)};var Fr=function(a){var b=s();Kq.call(this,a);var c=this.J.Ba,e=cb(Dr),f=c.Yd();if(f=="a")e.Mi=fq;else if(Dq(f)){e.Mk=24;e.Mi=ur;e.fF="goog-icon-list-searchicon";e.RT=vr}if(f=="a"||Eq(f))e.gF=Er;var g=c.db;if(!isNaN(g))e.Mk=g;e.d2=c.Ip;e.oe=this.J.fq();e.cm=a;this.fa=new Wq(e);this.Ec=Um();this.sM=new Of(this.xY,1000,this);this.Oj=new Cp;this.ic=new fr(f,this,a,a.fq());this.vd=new xp;this.qJ=H("lhid_thumbsizes_container");this.Un=new gr(new Vn(Qk),this.Ec,this.fa);this.Sn=new gr(new Sn(e.oe,U.aF()),
this.Ec,this.fa);if(qq()){var h=vq.oa("hl",Dh()).toString();this.Nd=new gr(new tq("","Visit this photo from your mobile.",h),this.Ec,this.fa)}this.i.e(this.ic,"coverchange",this.WJ);if(f=="a"&&c.iq()){this.$h=new aq(c.Fi(),a.av,this.fa);var l=this.J.Ba.pd(),m=l.isOwner(this.J.yd);this.Hj=new gq(_album.id,_album.link,_album.title,_album.photoCount,_album.access,_album.largepreview,_album.photosFeed,_album.resetAuthkeyPath,m,l.name)}this.dk=new tn(this.J.Gr,e.oe,this.fa);this.jG=H("lhid_feedview");
this.Cg=H("lhid_tools");this.Pa=_features.NEW_COMMENT_STYLE?new Fm(e.oe,Dh(),U.OL(),U.sY(),U.fV(),U.Y_()):new mr(this,this.jG,this.Cg,j);this.re=new Pn(e.oe);this.sr=new ir(f,e.oe,this.J.Ab,this.fa);this.Vf=H("lhid_crowder");if(_features.FEED_VIEWER_RELATED_PHOTOS)this.$k=new Go(this.J.ia,this.fa);this.Tz=new Ho(this.Ec,e.oe,this.fa);this.kr=new In(_setLicensePath,this.Ec,e.oe,this.fa);if(_features.FEATURED_PHOTO_NOMINATION&&e.oe)this.Sk=new gr(new Qm(this.J.fP),this.Ec,this.fa);this.Rk=this.$N();
this.H(this.fa);this.H(this.Un.Lb);this.H(this.Sn.Lb);this.Nd&&this.H(this.Nd.Lb);this.$h&&this.H(this.$h);this.Hj&&this.H(this.Hj);this.Sk&&this.H(this.Sk.Lb);this.H(this.dk);this.H(this.sr);this.$k&&this.H(this.$k);this.H(this.Tz);this.kr&&this.H(this.kr);this.Ng&&this.H(this.Ng);this.H(this.Oj);this.H(this.re);_features.NEW_COMMENT_STYLE&&this.H(this.Pa);this.H(this.Rk);this.H(this.vd);this.wK=H("lhid_trayhandle");this.tt=H("lhid_tray");var n=H("lhid_trayhandle_icon");if(n&&this.tt){this.xK=new el(n,
this.tt,j);this.i.e(this.xK,"toggle",this.Eb)}if(c.Fd()==i&&!this.SB(c.Yd())){W(this.tt,d);W(this.wK,d)}this.i.e(window,re,this.Eb);this.i.e(this.fa,jm,this.N0);if(f=="a"){(this.dj=H("lhid_peoplewidget"))&&this.RX();if(_album.hasHiddenGeo&&c.isOwner)this.uD=new Up}this.TW=new sr(r(this.SW,this),Dh());this.cb=new xg(document);this.i.e(this.cb,"key",this.Uk);this.M.U("Created: "+(s()-b)+"ms.")},Gr,Hr,Ir,Jr;t(Fr,Kq);var Er=0,Dr={Mk:-1,zP:Lq,Mi:bq,gF:0,MU:i,fF:i,RT:eq,qP:Vq,EU:d,cm:i},cr="modechanged";
Fr.prototype.Pz=d;Fr.prototype.sk=i;var Kr=/\/s\d{2,3}(-c)?\//;o=Fr.prototype;o.ld=0;o.RX=function(){Tk(r(this.IM,this),"People in this album",Gr,Hr,Ir,this.J.Ba.isOwner,_album)};o.IM=function(a){this.dj.innerHTML="";this.Eh=a;this.H(this.Eh);this.N&&!this.Eh.N&&this.Eh.qa(this.dj)};
o.Uk=function(a){if(!!(this.la&2))if(!(this.ld>0))if(cn){a.preventDefault();cn.P(d);cn=i}else{switch(a.keyCode){case 27:if(_features.KEYBOARD_HELP){a.preventDefault();this.RV()}return;case 13:if(_features.KEYBOARD_HELP){a.preventDefault();var b=this.fa.Ta(),c=b.Ud();if(a.shiftKey)c>0&&this.EG(b.ze(c-1).F());else c>0&&this.EG(b.ze(0).F())}return}switch(a.charCode){case 63:if(_features.KEYBOARD_HELP){a.preventDefault();en()}return;case 47:if(_features.KEYBOARD_HELP){a.preventDefault();H("lhid_searchbox").focus()}return;
case 103:if(_features.KEYBOARD_HELP){a.preventDefault();this.Dr()}return}}};o.EG=function(a){window.location.href=Zq(window.location.href,a)};o.RV=function(){var a=this.J.Ba.pd(),b=a.isOwner(this.J.yd)?"home":a.name;window.location.href=$q(window.location.href,b)};o.Dr=function(){window.location.href=ar(window.location.href)};o.SA=function(){var a=this.fa.mf();if(a){a.so(0);this.Ec.uf(a,r(function(){_features.NEW_COMMENT_STYLE?this.Pa.B(a):this.Pa.eB(a)},this))}};o.M=md("gphoto.FeedViewPage");
o.la=0;o.tz=function(a){if(a&&!this.Rk.N){var b=H("lhid_navheader");b?this.Rk.qa(b):this.Rk.G(this.j)}this.Rk.show(a)};o.kq=function(){var a;a=qk.Rm("ajax")?qk.get("ajax").get(String(qk.Lg)):qk.get(sk).get(tk).get("prt");return a.get("images")};
o.ie=function(a){if(a!=this.la){var b=this.la;this.la=a;this.SY();var c=H("lhid_search_ad_unit");if(c){if(a==4)c.style.display="none";if(a==2)c.style.display=""}if(this.N){var e=!!(this.la&4);this.tz(e);W(this.qJ,!e);this.fK(e);this.Pa.show(e);this.$k&&this.$k.show(e);this.Tz.show(e);this.kA();var f=i,g=this.la&2;if(g){var h=this.J.Ba.Ta();f=h.mh().Fd()}else f=this.J.Ba.Fd();this.Ng&&this.Ng.show(e&&f&&f.kw());this.Sk&&this.Sk.Lb.show(e);var l=this.Ha(f);if(f&&!l){g&&this.dk.B(f);this.dk.show(j)}else this.dk.show(!l&&
e);var m=H("lhcl_tagbox");m&&W(m,!e);var n=H("lhid_frquick");n&&W(n,!e);if(this.$h){this.$h.B(f);this.$h.show(!e)}this.Hj&&this.Hj.show(!e);if(this.Eh)this.Eh.P(!e);else this.dj&&W(this.dj,!e);this.TJ();if(e){this.Un.Lb.N||this.Un.Lb.G(this.ay);this.Sn.Lb.N||this.Sn.Lb.G(this.ay);this.Nd&&!this.Nd.Lb.N&&this.Nd.Lb.G(this.ay);_features.NEW_COMMENT_STYLE&&!this.Pa.N&&this.Pa.G(H("lhid_comments"))}this.Un.Lb.show(e);this.Sn.Lb.show(e);this.Nd&&this.Nd.Lb.show(e);this.re.show(e);if(e)this.sr.ie(1);else{this.sr.ie(this.Sd==
"a"?0:2,this.Ta());this.$J()}b!=0&&!!(this.la&4)&&this.lj()}this.dispatchEvent(cr)}};
o.SY=function(){var a=i,b=this.J.Ba,c=b.Yd();this.Sd=c;if(c=="a"){this.rg&&this.rg.showPicker(d);var e=Bb(_album.title);Bb(_album.dateonly);Bb(_album.location);var f=!!(this.la&2);_album.largepreview.replace(Kr,"/s64-c/");var g=this.J.Ba.pd(),h,l;if(g.isOwner(this.J.yd)){h="/home";l="My Photos"}else{h="/"+g.name;l=Bb(g.nickname)}a=new Bp(e,l,h,f)}else if(b.lE())a=this.gO();else{var m=b.mq(),n=b.ZQ(),q,u=[];if(m==0){u.push(_album.link);q=Bb(_album.name)}else if(m==2){u.push("/lh/favorites");this.rA("Favorites")}else if(m==
3){u.push(_user.link);q=Bb(_user.nickname)}else if(m==4){u.push("/home");this.rA("My Photos")}else m==1&&this.rA("Community photos");a=new Sp(b.lh()||"",m,b.mR(),!!_authuser.user,u,n,q)}this.Oj.Z(a)};o.Yd=function(){return this.Sd};o.fK=function(a){var b=a||this.SB(this.Sd);W(this.tt,b&&this.xK.zm);W(this.wK,b)};o.SB=function(a){return a=="pgt"||a=="gt"||a=="at"||a=="a"};
o.gO=function(){var a=this.J.ma;if(!a.length)return i;var b,c,e,f,g,h,l=xa(a,function(M){return Bb(M.dispname)}).join(", "),m="View all photos of "+l,n="Find more photos of "+l,q=this.J.Ba.pd(),u=Bb(q.nickname),x=q.name==this.J.yd,z=[];if(this.Sd=="ap"){x?z.push(["My Photos","/"]):z.push([u+"'s Photos","/"+q.name]);z.push([Bb(_album.title),_album.link]);b=m;c=Hr;if(x){g=n;h=Ir}}else if(this.Sd=="gp"){b=Gd;var G=new hg(window.location);G.oa("isOwner","false");c=x?G.toString():"";e=x?"All":Gd;f=d;g=
a.length==1?n:"";h=Ir}else if(this.Sd=="pgp"){z.push([u+"'s Photos","/"+q.name]);b=x?"All":"";c=x?Hr:"";e=Gd;f=j}return new Dp(a,z,Gr,b,c,e,String(f),g,h)};o.$N=function(){var a=new br(this,Jr);a.Ig(a.$n,4);a.Ig(a.Cn,4);a.Ig(a.ij,1);a.Ig(a.ij,4);a.Ig(a.jj,1);a.Ig(a.jj,4);a.Ig(a.dd,4);a.Ig(a.Eo,4);return a};
o.Au=function(){var a=s(),b=_album.largepreview.replace(Kr,"/s64-c/"),c=this.J.Ba,e=c.Ta().Ud()>0&&c.iq()?r(this.Pt,this):i;this.Mg=new wq(b,_album.photoCount,_album.id,_album.used,_album.access,_album.bloglink,_album.enableRss,_album.photosFeed,_album.location,_album.dateonly,ki(_album.description),_album.title,e);this.H(this.Mg);var f=H("lhid_albumproperties");if(f){f.innerHTML="";this.Mg.G(f);W(f,j)}this.M.U("Album properties box created: "+(s()-a)+"ms.")};
o.qC=function(){if(this.J.Ba.Yd()=="a"){this.Mg||this.Au();this.Mg.show(d)}};o.TJ=function(){var a=!!(this.la&4),b=!a&&this.Sd=="a",c=a&&Dq(this.Sd);if(b)this.Mg?this.Mg.show(b):this.Au();else if(c)this.uM?this.uM.show(c):this.HN()};o.Be=function(){return this.J.qQ()+" - "+this.J.Ba.Be()};o.ab=function(){return"gphoto.FeedViewPage"};
o.r=function(){var a=s();Fr.b.r.call(this);var b=H("lhid_context");b?this.Oj.G(b):this.Oj.G(this.j);this.fa.G(this.j);var c=H("lhid_thumbsizes");c?this.vd.qa(c):this.vd.G(this.j);this.fa.os(3);if(this.Cg){var e=H("lhid_widgets");this.$h&&this.$h.G(e);this.Hj&&this.Hj.G(e);this.Ng&&this.Ng.G(this.Cg);this.Sk&&this.Sk.Lb.G(this.Cg);this.$k&&this.$k.G(this.Cg);this.Tz.G(this.Cg);this.sr.G(this.Cg);this.dk.G(this.Cg);this.kr&&this.kr.G(this.Cg)}this.re.G(H("lhid_caption"));this.M.U("createDom: "+(s()-
a)+"ms.")};o.nU=function(){this.vd.us(0);this.vd.wo(jl);this.vd.gc(3);this.vd.Ph(1);this.vd.OY(1);this.vd.q_(1);this.vd.KZ(d);this.i.e(this.vd,jp,function(){this.fa.os(this.vd.Na())},d,this)};
o.A=function(){X.prototype.A.call(this);var a=s();this.Pz=d;this.ay=H("lhid_photoproperties");this.Nh=H("lhid_searchbox");if(this.ic){this.ic.G(H("lhid_feedToolbar"));this.H(this.ic,d)}this.nU();this.dj&&this.Eh&&!this.Eh.N&&this.Eh.qa(this.dj);var b=this.J.Q,c=this.J.ia;this.i.e(this.J.Ba,"changed",this.BN);this.i.e(b,Am,this.Rj);this.i.e(b,zm,this.ki);this.i.e(b,ym,this.kA);this.i.e(b,[zm,Bm,ym],this.$J);this.i.e(this.fa,"itemactivated",this.Pw);this.i.e(c,"deleterequested",this.yN);this.i.e(c,
"deleteposted",this.QM);this.i.e(c,ml,this.dY);this.i.e(this.dk,"objectionrequest",this.QS);this.i.e(this.Nh,pe,this.Jn);this.i.e(this.Nh,oe,this.In);this.i.e(p,Yh,r(this.Bd,this,d));this.i.e(p,Zh,r(this.Bd,this,j));this.M.U("enterDocument: "+(s()-a)+"ms.")};o.K=function(){Fr.b.K.call(this);this.i.Y();_features.NEW_COMMENT_STYLE||this.Pa.jc();this.OH()};
o.yN=function(a){var b=a.target,c="Are you sure you want to delete this photo?";if(_album.isdefault)c="Are you sure you want to delete this photo? It will no longer appear on other sites if you delete it.";else if(_album.blogger)c="Are you sure you want to delete this photo? It will no longer appear in your blog if you delete it. It may take up to 24 hours for photos to be removed.";return!!b&&confirm(typeof b.Fa!="undefined"&&b.Fa()?"Are you sure you want to delete this video?":c)};
o.Oz=function(a){var b=this.fa.Ta(),c=b.Ud(),e=!la(a)?this.J.Q.ya:a;this.M.U("syncWithFeed_, index: "+e+" count: "+c);this.J.Q.rs(c);if(0==c)window.location.hash="";else{var f=Li(e,0,c-1);if(e!=f)this.J.Q.mj(f);else{var g=b.ze(e);if(g==Kl)g=i;else this.J.xg(g.id);this.fa.ls(g);this.ft(g)}}};o.QM=function(){this.Rk.setZoom(d);this.nv=new Ap("id",this.fa.Ta());this.Oz();this.fa.XR()};o.dY=function(){this.Oz()};
o.QS=function(a){if(this.J.yd){var b=a.Yg;if(!b&&a.pB){var c=this.J.Ba.Fi();b=this.J.ia.kQ(c,a.pB)}if(!this.Nx){this.Nx=new kr(this.J);this.Nx.Ne("Report an issue")}this.Nx.open(b)}else alert("You must be logged in to report an issue to another user.")};o.C=function(){Fr.b.C.call(this);this.i.o();this.re.o();this.sk&&ge(this.sk);this.rg&&this.rg.o();this.uD&&this.uD.o();this.ic&&this.ic.o();this.vd&&this.vd.o()};o.Cx=function(){this.M.U("NEW context");this.J.Ba.et()};
o.na=function(a){var b=!a;this.fK(!b);this.tz(!b);this.fa.qz(b);this.J.Ba.et()};o.Eb=function(){this.dispatchEvent(re)};o.lj=function(){this.sM.start()};o.xY=function(){this.N&&Vo().log(this.QQ(),this.RQ())};
o.RQ=function(){var a=this.J.Ba;a.Yd();var b=!!(this.la&2),c=a.Ta(),e={ts:s()},f=a.CQ();if(f)e.feat=f;if(c){var g=c.mh();if(g){var h=g.Gv();fb(e,h)}}if(b&&this.fa.Q){e.start=this.fa.Q.Km(this.fa.Q.Qb);e.num=Math.min(this.fa.Q.db,c.Ud())}if(a.JE())e.aid=a.gg();if(a.iq())e.isOwner=j;else{var l=a.Fd(),m=this.J.yd;if(l&&l.isOwner(m))e.isOwner=j}return e};
o.QQ=function(){var a=-1,b=!!(this.la&2),c=this.J.Ba.Yd();if(c=="pgt"||c=="gt"||c=="at"||c=="ft"||c=="ct")a=b?178:179;else if(Dq(c))a=b?118:119;else if(Eq(c))a=b?176:177;else if(c=="a")a=b?2:3;return a};
o.BN=function(){var a=s(),b=this.J.Ba,c=b.Ta(),e=b.wu;c!=this.fa.Ta()&&this.fa.Oh(c);this.la!=0&&Zp();var f=this.J.Ba.Fd();this.M.U("contextChanged, entity: "+f);var g=this.la,h=e!=i;this.tz(!h);!h&&!!(this.la&2)&&f&&f!=Kl&&f.s&&this.fa.ls(f,j);if(h){if(f){this.M.U("loading entity details, "+f.F()+", "+f.Be());f.load(r(function(){this.fa.ls(f);this.dispatchEvent(new Uo(f));this.ft(f)},this))}g|=2;g&=-5;var l=c.mh(),m=l.Fd();if(m)g=this.gt(m,g);else{var n=this.J.yd;g=this.OI(g,n&&l.Hc()==n)}}else{if(!f){this.J.vF();
var q=s()-a;this.M.U("contextChanged: "+q+"ms.");return}g|=4;g&=-3;g=this.gt(f,g)}this.ie(g);var u=H("lhid_more");W(u,h);this.fa.qz(h);if(!h&&f){var x=!this.Pz||!c.isLoaded();if(!this.nv)this.nv=new Ap("id",c);this.nv.xD(f.id,r(this.cZ,this,x))}else this.YJ(_user.portrait,_user.link,_user.nickname,!!(g&1));var z=b.Yd()=="a";if(this.sk){ge(this.sk);this.sk=i}if(!z)if(c.isLoaded())c.Ud()==0&&this.kJ();else this.i.e(c,"noitems",this.kJ);var G=H("lhid_cover_id");if(G)if(h&&z&&g&1)this.sk=Q(G,P,this.Pt,
d,this);this.TJ();this.xj();if(h)c.isLoaded()?this.lj():de(c,Fl,r(this.lj,this));var q=s()-a;this.M.U("contextChanged: "+q+"ms.")};o.xj=function(){if(typeof _authuser.isLoggedIn=="undefined"){var a=this.fa.mf(),b=a!=i?a.ih():"",c=Lr(b,this.Sd,this.la),e=H("lhid_login"),f=H("lhid_signup");e&&oc(e,{href:c.vz});f&&oc(f,{href:c.wz})}};
var Lr=function(a,b,c){var e={},f=i;f=c!=2&&!Dq(b)?a:window.location.href;var g=new hg(Bb(_loginUrl));g.oa("continue",f);var h=new hg(Bb(_activateUrl)),l=new hg(String(h.Ea("continue")));l.oa("continue",f);h.oa("continue",l.toString());e.vz=g.toString();e.wz=h.toString();return e};o=Fr.prototype;o.cZ=function(a,b){var c=b[0];if(a){this.Pz=j;this.Oz(c)}this.J.Q.mj(c)};o.Ha=function(a){return!!this.J.yd&&!!a&&typeof a.isOwner!="undefined"&&a.isOwner(this.J.yd)};o.gt=function(a,b){return this.OI(b,this.Ha(a))};
o.OI=function(a,b){if(b)a|=1;else a&=-2;return a};o.Pw=function(){this.M.U("itemActivated_");var a=this.la;a|=4;a&=-3;var b=this.fa.mf();if(b)a=this.gt(b,a);this.J.xg(b.id);this.dispatchEvent(new Uo(b));this.ie(a);this.ft(b);var c=H("lhid_more");W(c,d);this.fa.qz(d);this.fa.na()};
o.ft=function(a){this.M.U("updateDetails_, detail mode? :"+(this.la&4));if(this.la&4)if(a&&a!=Kl){_features.NEW_COMMENT_STYLE?this.Pa.show(d):W(this.Pa.Pa,d);this.re.B(i);this.Un.Lb.clear();this.Sn.Lb.B(i);this.Ec.uf(a,r(function(){if(this.Ng){this.Ng.B(a);this.Ng.show(a.kw())}this.re.B(a);if(_features.NEW_COMMENT_STYLE){this.Pa.B(a);this.Pa.show(j)}else{var b=Lr(a.ih(),this.Sd,this.la);this.Pa.eB(a,b);W(this.Pa.Pa,j)}this.qC();var c=this.kq();if(c.OE()&&!c.PE()){c.stop();xk(qk)}},this))}};
o.Rj=function(){var a=this.fa.mf();if(a&&a!=Kl){this.ft(a);var b=a.id;this.J.xg(b);var c=this.gt(a,this.la);this.la==c&&!!(this.la&4)&&this.lj();this.ie(c);this.J.Ba.et()}};o.ki=function(){this.kA();!(this.la&2)||this.lj()};o.$J=function(){if(this.Oj){var a=this.Oj.pO;if(a&&typeof a.XI!="undefined"){var b=this.J.Q,c=b.Km(b.Qb);a.XI(c,b.db,this.Ta().$s())}}W(this.qJ,this.Ta().$s()>0&&this.la&2)};
o.kA=function(){if(this.N)if(this.la&2){if(this.Sd=="s"&&this.J.Ba.lh()){var a=this.J.Q.Hf;if(this.J.Q.Qb==a-1||a==1){var b=new hg(window.location);if(b.Ea("filter")=="1"){b.oa("filter","0");if(this.Vf)W(this.Vf,j);else{this.Vf=I("div",{id:"lhid_crowder","class":"lhcl_search_crowded_results"});this.Vf.innerHTML="In order to show you the most relevant results, we have omitted some entries very similar to those already displayed. "+("<br>"+("If you like, you can "+('<a href="'+(b.toString()+"#")+'">repeat the search with the omitted results included</a>.')));
K(this.jG,this.Vf)}}}else this.Vf&&W(this.Vf,d)}}else this.Vf&&W(this.Vf,d)};o.Pt=function(){if(this.rg)this.rg.showPicker(j);else if(!this.kH){this.kH=j;this.TW.WU()}};o.SW=function(){this.rg=tr(this.J.Ba.Fi(),this.J.Ab,"Photo Chooser",Dh(),r(this.WJ,this));this.rg.showPicker(j);delete this.kH};o.OH=function(){this.rg&&this.rg.showPicker(d)};o.WJ=function(a){var b=a.thumbnailUrl||"";if(b){this.H0(b,a.photoId);this.OH()}};
o.H0=function(a,b){if(this.Sd=="a"){a=a.replace(Kr,"/s64-c/");this.Mg||this.Au();this.Mg.Wy(a);var c=U.uY();if(!!c){var e=this.J.Ab.id,f=this.J.Ba.Fi(),g=c+"&uname="+f+"&aid="+e,h=(new Date).getTime();g+="&nocache="+h;eg(g,undefined,"POST","selectedphotos="+b+"&noredir=true&optgt=BANNER")}}};
o.HN=function(){var a=s();this.Qt=new gr(new lq(this.J.Ba.mq()),this.Ec,this.fa);this.H(this.Qt.Lb);var b=H("lhid_albumproperties");if(b){b.innerHTML="";this.Qt.Lb.G(b)}this.M.U("Album link box created: "+(s()-a)+"ms.");return this.Qt};o.N0=function(a){if(a.Yg&&a.Yg.xa&&a.Yg.xa.author){var b=a.Yg.xa.author[0];this.YJ(b.thumbnail,b.uri,C(b.nickname));this.qC()}};
o.YJ=function(a,b,c,e){if(!(this.J.Ba.Yd()=="a")){var f={portraitUrl:a,gallerylink:e?"/home":b,displayname:c};f.portrait=qi('<div><a id="lhid_portraitlink" href="{gallerylink}"><img class="lhcl_portrait" id="lhcl_portrait_id" src="{portraitUrl}" /></a></div>',f);var g=qi('<table class="lhcl_host"><tr><td class="lhcl_column_left">{portrait}</td><td class="lhcl_column_right">Photos by<br><div class="lhcl_name" id="lhid_user_nickname"><a href="{gallerylink}">{displayname}</a></div></td></tr></table>',
f);H("lhid_hostbox").innerHTML=g}};o.kJ=function(){var a=H("lhid_noresults");a&&W(a,j)};o.rA=function(a){var b=H("lhid_noresults");if(b)b.innerHTML=qi(ih,{query:C(this.J.Ba.lh()),corpusName:a})};o.Bd=function(a){if(a&&this.ld>0)this.ld--;else a||this.ld++};o.Jn=function(){this.Bd(d)};o.In=function(){this.Bd(j)};Nk("view",function(a,b,c,e,f,g,h,l,m,n,q,u,x){var z=H(a);if(z){Er=Number(u)||0;var G=Bb(c||"");Gr=h||"";Hr=l||"";Ir=m||"";Jr=x||d;var M=new Iq(b,G,e||"",f||"",z,g,n);M.ZY(Fr);M.wX(Br,Cr);M.start()}q&&eg(q)});ta("FlashRequest",sa(wi,"f"));
